(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99375,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(71645),i=e.i(81140),r=e.i(20783),l=e.i(30030),n=e.i(69340),d=e.i(99682),c=e.i(35804),o=e.i(48425),u="Switch",[m,h]=(0,l.createContextScope)(u),[v,x]=m(u),f=a.forwardRef((e,s)=>{let{__scopeSwitch:l,name:d,checked:c,defaultChecked:m,required:h,disabled:x,value:f="on",onCheckedChange:p,form:b,...y}=e,[C,S]=a.useState(null),w=(0,r.useComposedRefs)(s,e=>S(e)),N=a.useRef(!1),k=!C||b||!!C.closest("form"),[B,T]=(0,n.useControllableState)({prop:c,defaultProp:m??!1,onChange:p,caller:u});return(0,t.jsxs)(v,{scope:l,checked:B,disabled:x,children:[(0,t.jsx)(o.Primitive.button,{type:"button",role:"switch","aria-checked":B,"aria-required":h,"data-state":j(B),"data-disabled":x?"":void 0,disabled:x,value:f,...y,ref:w,onClick:(0,i.composeEventHandlers)(e.onClick,e=>{T(e=>!e),k&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),k&&(0,t.jsx)(g,{control:C,bubbles:!N.current,name:d,value:f,checked:B,required:h,disabled:x,form:b,style:{transform:"translateX(-100%)"}})]})});f.displayName=u;var p="SwitchThumb",b=a.forwardRef((e,s)=>{let{__scopeSwitch:a,...i}=e,r=x(p,a);return(0,t.jsx)(o.Primitive.span,{"data-state":j(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:s})});b.displayName=p;var g=a.forwardRef(({__scopeSwitch:e,control:s,checked:i,bubbles:l=!0,...n},o)=>{let u=a.useRef(null),m=(0,r.useComposedRefs)(u,o),h=(0,d.usePrevious)(i),v=(0,c.useSize)(s);return a.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==i&&t){let s=new Event("click",{bubbles:l});t.call(e,i),e.dispatchEvent(s)}},[h,i,l]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...n,tabIndex:-1,ref:m,style:{...n.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function j(e){return e?"checked":"unchecked"}g.displayName="SwitchBubbleInput",e.s(["Root",()=>f,"Switch",()=>f,"SwitchThumb",()=>b,"Thumb",()=>b,"createSwitchScope",()=>h],57287);var y=e.i(57287),y=y,C=e.i(75157);function S(e){let a,i,r,l,n,d=(0,s.c)(9);return d[0]!==e?({className:a,...i}=e,d[0]=e,d[1]=a,d[2]=i):(a=d[1],i=d[2]),d[3]!==a?(r=(0,C.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),d[3]=a,d[4]=r):r=d[4],d[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(y.Thumb,{"data-slot":"switch-thumb",className:(0,C.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),d[5]=l):l=d[5],d[6]!==i||d[7]!==r?(n=(0,t.jsx)(y.Root,{"data-slot":"switch",className:r,...i,children:l}),d[6]=i,d[7]=r,d[8]=n):n=d[8],n}e.s(["Switch",()=>S],99375)},15288,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(75157);function i(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("div",{"data-slot":"card",className:l,...r}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}function r(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("div",{"data-slot":"card-header",className:l,...r}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}function l(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("leading-none font-semibold",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("div",{"data-slot":"card-title",className:l,...r}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}function n(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("text-muted-foreground text-sm",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("div",{"data-slot":"card-description",className:l,...r}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}function d(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("px-6",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("div",{"data-slot":"card-content",className:l,...r}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}e.s(["Card",()=>i,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>l])},87486,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(86011),i=e.i(25913),r=e.i(75157);let l=(0,i.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n(e){let i,n,d,c,o,u,m=(0,s.c)(12);m[0]!==e?({className:i,variant:c,asChild:d,...n}=e,m[0]=e,m[1]=i,m[2]=n,m[3]=d,m[4]=c):(i=m[1],n=m[2],d=m[3],c=m[4]);let h=void 0!==d&&d?a.Slot.Slot:"span";return m[5]!==i||m[6]!==c?(o=(0,r.cn)(l({variant:c}),i),m[5]=i,m[6]=c,m[7]=o):o=m[7],m[8]!==h||m[9]!==n||m[10]!==o?(u=(0,t.jsx)(h,{"data-slot":"badge",className:o,...n}),m[8]=h,m[9]=n,m[10]=o,m[11]=u):u=m[11],u}e.s(["Badge",()=>n])},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},90092,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);e.s(["RefreshCcw",()=>t],90092)},84774,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(75157);function i(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("w-full caption-bottom text-sm",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:l,...r})}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}function r(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("[&_tr]:border-b",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("thead",{"data-slot":"table-header",className:l,...r}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}function l(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("[&_tr:last-child]:border-0",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("tbody",{"data-slot":"table-body",className:l,...r}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}function n(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("tr",{"data-slot":"table-row",className:l,...r}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}function d(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 *:[[role=checkbox]]:translate-y-0.5",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("th",{"data-slot":"table-head",className:l,...r}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}function c(e){let i,r,l,n,d=(0,s.c)(8);return d[0]!==e?({className:i,...r}=e,d[0]=e,d[1]=i,d[2]=r):(i=d[1],r=d[2]),d[3]!==i?(l=(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 *:[[role=checkbox]]:translate-y-0.5",i),d[3]=i,d[4]=l):l=d[4],d[5]!==r||d[6]!==l?(n=(0,t.jsx)("td",{"data-slot":"table-cell",className:l,...r}),d[5]=r,d[6]=l,d[7]=n):n=d[7],n}e.s(["Table",()=>i,"TableBody",()=>l,"TableCell",()=>c,"TableHead",()=>d,"TableHeader",()=>r,"TableRow",()=>n])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},88699,e=>{"use strict";let t=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},5861,e=>{"use strict";var t=e.i(932);e.i(70272);var s=e.i(14321);let a=e=>String(e||"").trim().toLowerCase().replace("_","-").split("-")[0].trim();function i(){let e,i,u,m,h,v,x,f,p,b=(0,t.c)(22);b[0]===Symbol.for("react.memo_cache_sentinel")?(e={keys:["app_locales","default_locale"]},b[0]=e):e=b[0];let{data:g,isLoading:j,isFetching:y}=(0,s.useListSiteSettingsAdminQuery)(e);if(b[1]!==g){let e=g??[],t=e.find(o),s=e.find(c),v=function(e){let t=new Set,s=[];for(let i of e){let e=a(i?.code);e&&(t.has(e)||(t.add(e),s.push({...i,code:e})))}return s}((function e(t){if(!t)return[];if(Array.isArray(t))return t.map(e=>({code:a(e?.code??e),label:"string"==typeof e?.label?e.label:void 0,is_active:e?.is_active,is_default:e?.is_default})).filter(e=>!!e.code);if("string"==typeof t){let s=t.trim();if(!s)return[];try{let t=JSON.parse(s);return e(t)}catch{return[]}}return"object"==typeof t&&null!==t&&Array.isArray(t.locales)?e(t.locales):[]})(t?.value).filter(d));if(i=v.map(n).filter(Boolean),!(u=a(s?.value))){let e=v.find(l);u=e?a(e.code):""}u&&!i.includes(u)&&(u=i[0]??""),m=v.map(r),h=new Set(i),b[1]=g,b[2]=i,b[3]=u,b[4]=m,b[5]=h}else i=b[2],u=b[3],m=b[4],h=b[5];let C=h;b[6]!==C?(v=e=>{let t=a(e);return!!t&&C.has(t)},b[6]=C,b[7]=v):v=b[7];let S=v;b[8]!==i||b[9]!==u||b[10]!==C?(x=(e,t)=>{let s=a(e);if(s&&C.has(s))return s;let r=a(t);return r&&C.has(r)?r:u&&C.has(u)?u:i[0]??""},b[8]=i,b[9]=u,b[10]=C,b[11]=x):x=b[11];let w=x;b[12]!==i||b[13]!==w||b[14]!==u||b[15]!==S||b[16]!==m?(f={localeOptions:m,defaultLocaleFromDb:u,activeLocaleCodes:i,hasLocale:S,coerceLocale:w},b[12]=i,b[13]=w,b[14]=u,b[15]=S,b[16]=m,b[17]=f):f=b[17];let N=f;return b[18]!==N||b[19]!==y||b[20]!==j?(p={...N,loading:j,fetching:y},b[18]=N,b[19]=y,b[20]=j,b[21]=p):p=b[21],p}function r(e){return{value:a(e.code),label:function(e){let t=a(e.code),s=String(e.label||"").trim();if(s)return`${s} (${t})`;let i=null;try{i=new Intl.DisplayNames(["de"],{type:"language"})}catch{i=null}let r=i?.of(t)??"";return r?`${r} (${t})`:`${t.toUpperCase()} (${t})`}(e)}}function l(e){return!0===e.is_default}function n(e){return a(e.code)}function d(e){return e&&e.code&&!1!==e.is_active}function c(e){return"default_locale"===e.key}function o(e){return"app_locales"===e.key}e.s(["useAdminLocales",()=>i])},31658,e=>{"use strict";var t=e.i(19929);function s(e){let s=String(e??"").trim();return s&&(0,t.normLocaleTag)(s)||""}function a(e,t="de"){return s(e)||t}e.s(["localeShortClient",()=>s,"localeShortClientOr",()=>a])},20995,e=>{"use strict";var t=e.i(31658);function s(e,a,i="de"){let r=Array.isArray(e)?e:[],l=new Set(r.map(e=>(0,t.localeShortClient)(e?.value)).filter(Boolean)),n=(0,t.localeShortClient)(a);if(n&&l.has(n))return n;let d=(0,t.localeShortClient)(r[0]?.value);return d&&l.has(d)?d:(0,t.localeShortClientOr)(i,i)}e.s(["resolveAdminApiLocale",()=>s])},75558,25063,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUp",()=>s],75558);let a=(0,t.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["ArrowDown",()=>a],25063)},76165,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),i=e.i(46696),r=e.i(7233),l=e.i(90092),n=e.i(75558),d=e.i(25063),c=e.i(56909),o=e.i(55436),u=e.i(27612),m=e.i(88699),h=e.i(5861),v=e.i(20995),x=e.i(31658),f=e.i(65994),p=e.i(75157),b=e.i(19455),g=e.i(93479),j=e.i(10204),y=e.i(87486),C=e.i(99375),S=e.i(15288),w=e.i(67489),N=e.i(84774);e.i(70272);var k=e.i(83661);function B(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)}function T(){let e=(0,f.useAdminT)(),T=(0,a.useRouter)(),L=(0,a.useSearchParams)(),{localeOptions:M,defaultLocaleFromDb:A,loading:z,fetching:R}=(0,h.useAdminLocales)(),_=s.useMemo(()=>(0,v.resolveAdminApiLocale)(M,A,"de"),[M,A]),O=s.useMemo(()=>{let e=L?.get("locale");return(0,x.localeShortClient)(e)||""},[L]),[H,P]=s.useState({search:"",publishedFilter:"all",locale:"",featuredOnly:!1});s.useEffect(()=>{M&&0!==M.length&&P(e=>{let t=(0,x.localeShortClient)(e.locale),s=(0,x.localeShortClient)(O),a=(0,x.localeShortClientOr)(_,"de"),i=e=>!!e&&(M??[]).some(t=>(0,x.localeShortClient)(t.value)===e);return t&&i(t)?e:s&&i(s)?{...e,locale:s}:a&&i(a)?{...e,locale:a}:{...e,locale:(0,x.localeShortClient)(M?.[0]?.value)||"de"}})},[M,O,_]);let E=s.useMemo(()=>(0,x.localeShortClient)(H.locale)||_,[H.locale,_]);s.useEffect(()=>{let e=(0,x.localeShortClient)(H.locale);if(!e||e===O)return;let t=new URLSearchParams(L?.toString()||"");t.set("locale",e),T.replace(`/admin/services?${t.toString()}`)},[H.locale]);let U=s.useMemo(()=>{if("all"!==H.publishedFilter)return+("active"===H.publishedFilter)},[H.publishedFilter]),I=s.useMemo(()=>({q:H.search.trim()||void 0,locale:E||void 0,is_active:U,featured:H.featuredOnly?1:void 0,limit:200,offset:0}),[H.search,E,U,H.featuredOnly]),$=(0,k.useListServicesAdminQuery)(I,{refetchOnMountOrArgChange:!0}),D=s.useMemo(()=>$.data?.items??[],[$.data]),F=s.useMemo(()=>{let e=$.data?.total;return"number"==typeof e?e:D.length},[$.data,D.length]),[V,q]=s.useState([]);s.useEffect(()=>q(D),[D]);let[K,Q]=(0,k.useUpdateServiceAdminMutation)(),[J,X]=(0,k.useDeleteServiceAdminMutation)(),[Y,G]=(0,k.useReorderServicesAdminMutation)(),W=$.isLoading||$.isFetching||z||R||Q.isLoading||X.isLoading||G.isLoading;function Z(e,t){q(s=>{if(e<0||t<0||e>=s.length||t>=s.length)return s;let a=s.slice(),[i]=a.splice(e,1);return a.splice(t,0,i),a})}async function ee(){try{let t={items:V.map((e,t)=>({id:e.id,display_order:t}))};await Y(t).unwrap(),i.toast.success(e("admin.services.list.orderSaved")),$.refetch()}catch(t){i.toast.error(t?.data?.error?.message||t?.message||e("admin.services.list.orderSaveError"))}}function et(e){let t=(0,x.localeShortClientOr)(E,"de");T.push(`/admin/services/${encodeURIComponent(e)}?locale=${encodeURIComponent(t)}`)}async function es(t,s){let a=String(t?.id??"");if(B(a))try{await K({id:a,patch:{is_active:s}}).unwrap(),i.toast.success(e("admin.services.list.statusUpdated")),q(e=>e.map(e=>e.id===a?{...e,is_active:s}:e))}catch(t){i.toast.error(t?.data?.error?.message||t?.message||e("admin.services.list.statusUpdateError"))}}async function ea(t,s){let a=String(t?.id??"");if(B(a))try{await K({id:a,patch:{featured:s}}).unwrap(),i.toast.success(e("admin.services.list.featuredUpdated")),q(e=>e.map(e=>e.id===a?{...e,featured:s}:e))}catch(t){i.toast.error(t?.data?.error?.message||t?.message||e("admin.services.list.statusUpdateError"))}}async function ei(t){let s=String(t?.id??"");if(B(s)&&window.confirm(e("admin.services.list.deleteConfirm",{name:String(t?.name??"Hizmet")})))try{await J({id:s}).unwrap(),i.toast.success(e("admin.services.list.deleted")),$.refetch()}catch(t){i.toast.error(t?.data?.error?.message||t?.message||e("admin.services.list.deleteError"))}}let er=!W&&(V?.length??0)===0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h1",{className:"text-lg font-semibold",children:e("admin.services.header.title")}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e("admin.services.header.description")})]}),(0,t.jsxs)(S.Card,{children:[(0,t.jsx)(S.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(S.CardTitle,{className:"text-base",children:e("admin.services.header.filterLabel")}),(0,t.jsxs)(S.CardDescription,{children:[e("admin.services.header.totalLabel")," ",(0,t.jsx)("span",{className:"font-medium",children:F})," • ",e("admin.services.header.activeLocale")," ",(0,t.jsx)(y.Badge,{variant:"secondary",children:E||"—"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(b.Button,{onClick:function(){let e=(0,x.localeShortClientOr)(E,"de");T.push(`/admin/services/new?locale=${encodeURIComponent(e)}`)},disabled:W,children:[(0,t.jsx)(r.Plus,{className:"mr-2 size-4"}),e("admin.services.header.createButton")]}),(0,t.jsxs)(b.Button,{variant:"outline",onClick:()=>$.refetch(),disabled:W,children:[(0,t.jsx)(l.RefreshCcw,{className:"mr-2 size-4"}),e("admin.services.header.refreshButton")]})]})]})}),(0,t.jsx)(S.CardContent,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j.Label,{htmlFor:"q",children:e("admin.services.header.searchLabel")}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.Search,{className:"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(g.Input,{id:"q",value:H.search,onChange:e=>P(t=>({...t,search:e.target.value})),placeholder:e("admin.services.header.searchPlaceholder"),className:"pl-9",disabled:W})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j.Label,{children:e("admin.services.header.statusLabel")}),(0,t.jsxs)(w.Select,{value:H.publishedFilter,onValueChange:e=>P(t=>({...t,publishedFilter:e})),disabled:W,children:[(0,t.jsx)(w.SelectTrigger,{children:(0,t.jsx)(w.SelectValue,{placeholder:e("admin.services.header.statusAll")})}),(0,t.jsxs)(w.SelectContent,{children:[(0,t.jsx)(w.SelectItem,{value:"all",children:e("admin.services.header.statusAll")}),(0,t.jsx)(w.SelectItem,{value:"active",children:e("admin.services.header.statusActive")}),(0,t.jsx)(w.SelectItem,{value:"inactive",children:e("admin.services.header.statusInactive")})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j.Label,{children:e("admin.services.header.localeLabel")}),(0,t.jsxs)(w.Select,{value:H.locale||"",onValueChange:e=>P(t=>({...t,locale:e})),disabled:W||(M?.length??0)===0,children:[(0,t.jsx)(w.SelectTrigger,{children:(0,t.jsx)(w.SelectValue,{placeholder:e("admin.services.header.localePlaceholder")})}),(0,t.jsx)(w.SelectContent,{children:(M??[]).map(e=>(0,t.jsx)(w.SelectItem,{value:String(e.value),children:String(e.label??e.value)},e.value))})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e("admin.services.header.localeUrlSync")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-6 md:pt-7",children:[(0,t.jsx)(C.Switch,{checked:!!H.featuredOnly,onCheckedChange:e=>P(t=>({...t,featuredOnly:!!e})),disabled:W}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e("admin.services.header.featuredOnly")})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 pt-6 md:pt-7",children:(0,t.jsx)(b.Button,{variant:"outline",onClick:function(){P(e=>({...e,search:"",publishedFilter:"all",featuredOnly:!1}))},disabled:W,children:e("admin.services.header.resetButton")})})]})})]}),(0,t.jsxs)(S.Card,{children:[(0,t.jsx)(S.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(S.CardTitle,{className:"text-base",children:e("admin.services.list.listTitle")}),(0,t.jsx)(S.CardDescription,{children:W?e("admin.services.list.loading"):e("admin.services.list.recordCount",{count:V.length})})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(b.Button,{variant:"outline",onClick:ee,disabled:W||0===V.length,children:[(0,t.jsx)(c.Save,{className:"mr-2 size-4"}),e("admin.services.list.saveOrderButton")]})})]})}),(0,t.jsxs)(S.CardContent,{className:"space-y-4",children:[$.isError?(0,t.jsxs)("div",{className:"rounded-md border p-4 text-sm",children:[e("admin.services.list.listLoadError")," ",(0,t.jsx)(b.Button,{variant:"link",className:"px-1",onClick:()=>{i.toast.error(e("admin.services.list.listLoadErrorToast")),$.refetch()},children:e("admin.services.list.retryButton")})]}):null,(0,t.jsx)("div",{className:"hidden rounded-md border md:block",children:(0,t.jsxs)(N.Table,{children:[(0,t.jsx)(N.TableHeader,{children:(0,t.jsxs)(N.TableRow,{children:[(0,t.jsx)(N.TableHead,{children:e("admin.services.list.nameColumn")}),(0,t.jsx)(N.TableHead,{children:e("admin.services.list.slugColumn")}),(0,t.jsx)(N.TableHead,{children:e("admin.services.list.featuredColumn")}),(0,t.jsx)(N.TableHead,{children:e("admin.services.list.statusColumn")}),(0,t.jsx)(N.TableHead,{className:"text-right",children:e("admin.services.list.actionsColumn")})]})}),(0,t.jsxs)(N.TableBody,{children:[V.map((s,a)=>{let i=String(s?.id??""),r=String(s?.name??"").trim()||"—",l=String(s?.slug??"").trim()||"—",c=!!s?.is_active,o=!!s?.featured;return(0,t.jsxs)(N.TableRow,{children:[(0,t.jsx)(N.TableCell,{className:"font-medium",children:r}),(0,t.jsx)(N.TableCell,{className:"wrap-break-word",children:l}),(0,t.jsx)(N.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.Switch,{checked:o,onCheckedChange:e=>ea(s,!!e),disabled:W||!B(i)}),(0,t.jsx)(y.Badge,{variant:"secondary",children:o?e("admin.services.list.featuredYes"):e("admin.services.list.featuredNo")})]})}),(0,t.jsx)(N.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.Switch,{checked:c,onCheckedChange:e=>es(s,!!e),disabled:W||!B(i)}),c?(0,t.jsx)(y.Badge,{variant:"secondary",children:e("admin.services.list.activeStatus")}):(0,t.jsx)(y.Badge,{variant:"destructive",children:e("admin.services.list.inactiveStatus")})]})}),(0,t.jsx)(N.TableCell,{className:"text-right",children:(0,t.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)(b.Button,{variant:"outline",size:"sm",onClick:()=>Z(a,a-1),disabled:W||0===a,title:e("admin.services.list.upButton"),children:(0,t.jsx)(n.ArrowUp,{className:"size-4"})}),(0,t.jsx)(b.Button,{variant:"outline",size:"sm",onClick:()=>Z(a,a+1),disabled:W||a===V.length-1,title:e("admin.services.list.downButton"),children:(0,t.jsx)(d.ArrowDown,{className:"size-4"})}),(0,t.jsxs)(b.Button,{variant:"outline",size:"sm",onClick:()=>et(i),disabled:W||!B(i),title:e("admin.services.list.editButton"),children:[(0,t.jsx)(m.Pencil,{className:"mr-2 size-4"}),e("admin.services.list.editButton")]}),(0,t.jsxs)(b.Button,{variant:"outline",size:"sm",className:(0,p.cn)("border-destructive text-destructive hover:text-destructive"),onClick:()=>ei(s),disabled:W||!B(i),title:e("admin.services.list.deleteButton"),children:[(0,t.jsx)(u.Trash2,{className:"mr-2 size-4"}),e("admin.services.list.deleteButton")]})]})})]},i||`${a}`)}),er?(0,t.jsx)(N.TableRow,{children:(0,t.jsx)(N.TableCell,{colSpan:5,className:"py-10 text-center text-muted-foreground",children:e("admin.services.list.noRecords")})}):null]})]})}),(0,t.jsx)("div",{className:"rounded-md border md:hidden",children:(0,t.jsxs)("div",{className:"divide-y",children:[V.map((s,a)=>{let i=String(s?.id??""),r=String(s?.name??"").trim()||"—",l=String(s?.slug??"").trim()||"—",c=!!s?.is_active,o=!!s?.featured;return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("div",{className:"font-medium",children:r}),c?(0,t.jsx)(y.Badge,{variant:"secondary",children:e("admin.services.list.activeStatus")}):(0,t.jsx)(y.Badge,{variant:"destructive",children:e("admin.services.list.inactiveStatus")}),(0,t.jsx)(y.Badge,{variant:"secondary",children:o?e("admin.services.list.featuredBadge"):e("admin.services.list.normalStatus")})]}),(0,t.jsxs)("div",{className:"mt-2 space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"text-muted-foreground",children:[(0,t.jsx)("span",{className:"font-medium text-foreground",children:e("admin.services.list.slugLabel")})," ",(0,t.jsx)("span",{className:"wrap-break-word",children:l})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-md border p-3",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:e("admin.services.list.featuredMobileLabel")}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e("admin.services.list.featuredMobileHelp")})]}),(0,t.jsx)(C.Switch,{checked:o,onCheckedChange:e=>ea(s,!!e),disabled:W||!B(i)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-md border p-3",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:e("admin.services.list.activeMobileLabel")}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e("admin.services.list.activeMobileHelp")})]}),(0,t.jsx)(C.Switch,{checked:c,onCheckedChange:e=>es(s,!!e),disabled:W||!B(i)})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[(0,t.jsxs)(b.Button,{variant:"outline",size:"sm",onClick:()=>Z(a,a-1),disabled:W||0===a,children:[(0,t.jsx)(n.ArrowUp,{className:"mr-2 size-4"}),e("admin.services.list.upButton")]}),(0,t.jsxs)(b.Button,{variant:"outline",size:"sm",onClick:()=>Z(a,a+1),disabled:W||a===V.length-1,children:[(0,t.jsx)(d.ArrowDown,{className:"mr-2 size-4"}),e("admin.services.list.downButton")]}),(0,t.jsxs)(b.Button,{variant:"outline",size:"sm",onClick:()=>et(i),disabled:W||!B(i),children:[(0,t.jsx)(m.Pencil,{className:"mr-2 size-4"}),e("admin.services.list.editButton")]}),(0,t.jsxs)(b.Button,{variant:"outline",size:"sm",className:(0,p.cn)("border-destructive text-destructive hover:text-destructive"),onClick:()=>ei(s),disabled:W||!B(i),children:[(0,t.jsx)(u.Trash2,{className:"mr-2 size-4"}),e("admin.services.list.deleteButton")]})]})]},i||`${a}`)}),er?(0,t.jsx)("div",{className:"p-6 text-center text-sm text-muted-foreground",children:e("admin.services.list.noRecords")}):null]})}),V.length>0?(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e("admin.services.list.reorderHelp")}):null]})]})]})}e.s(["default",()=>T])}]);
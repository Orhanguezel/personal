(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36261,e=>{"use strict";var i=e.i(43476),t=e.i(71645),a=e.i(18566),r=e.i(46696),l=e.i(19455),n=e.i(15288);e.i(3634);var s=e.i(73983);e.i(70272);var _=e.i(77181),c=e.i(932),o=e.i(87486),d=e.i(77572),u=e.i(18215),m=e.i(93479),h=e.i(10204),b=e.i(99375),p=e.i(67489);let x=e=>{let t,a,l,n,s,_,o,d,x,f,g,v,j,k,w,S,N,T,C,L,A,z,B,H,I,M,D,E,R,O,P,K,$,G=(0,c.c)(72),{mode:U,values:F,disabled:W,hasResourceId:Y,onChange:V,onSubmit:q}=e;G[0]!==W||G[1]!==q||G[2]!==F.title?(t=async e=>{e.preventDefault(),W||(F.title.trim()?await q():r.toast.error("Ad zorunlu."))},G[0]=W,G[1]=q,G[2]=F.title,G[3]=t):t=G[3];let Q=t;G[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(h.Label,{children:"Ad"}),G[4]=a):a=G[4],G[5]!==V?(l=e=>V({title:e.target.value}),G[5]=V,G[6]=l):l=G[6],G[7]!==W||G[8]!==l||G[9]!==F.title?(n=(0,i.jsx)(m.Input,{value:F.title,onChange:l,disabled:W,placeholder:"Örn: Anna (Terapist)"}),G[7]=W,G[8]=l,G[9]=F.title,G[10]=n):n=G[10],G[11]===Symbol.for("react.memo_cache_sentinel")?(s=(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Admin panelde görünen isim."}),G[11]=s):s=G[11],G[12]!==n?(_=(0,i.jsxs)("div",{className:"space-y-2",children:[a,n,s]}),G[12]=n,G[13]=_):_=G[13],G[14]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsx)(h.Label,{children:"Tür"}),G[14]=o):o=G[14],G[15]!==V?(d=e=>V({type:e}),G[15]=V,G[16]=d):d=G[16],G[17]===Symbol.for("react.memo_cache_sentinel")?(x=(0,i.jsx)(p.SelectTrigger,{children:(0,i.jsx)(p.SelectValue,{})}),G[17]=x):x=G[17],G[18]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)(p.SelectContent,{children:u.RESOURCE_TYPE_OPTIONS.map(y)}),G[18]=f):f=G[18],G[19]!==W||G[20]!==d||G[21]!==F.type?(g=(0,i.jsxs)(p.Select,{value:F.type,onValueChange:d,disabled:W,children:[x,f]}),G[19]=W,G[20]=d,G[21]=F.type,G[22]=g):g=G[22],G[23]===Symbol.for("react.memo_cache_sentinel")?(v=(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Filtreleme ve raporlama için."}),G[23]=v):v=G[23],G[24]!==g?(j=(0,i.jsxs)("div",{className:"space-y-2",children:[o,g,v]}),G[24]=g,G[25]=j):j=G[25],G[26]===Symbol.for("react.memo_cache_sentinel")?(k=(0,i.jsx)(h.Label,{children:"Kapasite"}),G[26]=k):k=G[26],G[27]!==V?(w=e=>V({capacity:Number(e.target.value)}),G[27]=V,G[28]=w):w=G[28],G[29]!==W||G[30]!==w||G[31]!==F.capacity?(S=(0,i.jsx)(m.Input,{type:"number",min:1,value:F.capacity,onChange:w,disabled:W}),G[29]=W,G[30]=w,G[31]=F.capacity,G[32]=S):S=G[32],G[33]===Symbol.for("react.memo_cache_sentinel")?(N=(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Haftalık plan kapasitesi bu değeri aşamaz."}),G[33]=N):N=G[33],G[34]!==S?(T=(0,i.jsxs)("div",{className:"space-y-2",children:[k,S,N]}),G[34]=S,G[35]=T):T=G[35],G[36]===Symbol.for("react.memo_cache_sentinel")?(C=(0,i.jsx)(h.Label,{children:"Dış Referans (opsiyonel)"}),G[36]=C):C=G[36];let J=F.external_ref_id??"";return G[37]!==V?(L=e=>V({external_ref_id:e.target.value||null}),G[37]=V,G[38]=L):L=G[38],G[39]!==W||G[40]!==J||G[41]!==L?(A=(0,i.jsx)(m.Input,{type:"text",value:J,onChange:L,disabled:W}),G[39]=W,G[40]=J,G[41]=L,G[42]=A):A=G[42],G[43]===Symbol.for("react.memo_cache_sentinel")?(z=(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Harici sistem id / ref."}),G[43]=z):z=G[43],G[44]!==A?(B=(0,i.jsxs)("div",{className:"space-y-2",children:[C,A,z]}),G[44]=A,G[45]=B):B=G[45],G[46]===Symbol.for("react.memo_cache_sentinel")?(H=(0,i.jsx)(h.Label,{children:"Durum"}),G[46]=H):H=G[46],G[47]!==V?(I=e=>V({is_active:e}),G[47]=V,G[48]=I):I=G[48],G[49]!==W||G[50]!==I||G[51]!==F.is_active?(M=(0,i.jsx)(b.Switch,{checked:F.is_active,onCheckedChange:I,disabled:W}),G[49]=W,G[50]=I,G[51]=F.is_active,G[52]=M):M=G[52],G[53]===Symbol.for("react.memo_cache_sentinel")?(D=(0,i.jsx)("span",{className:"text-sm",children:"Aktif"}),G[53]=D):D=G[53],G[54]!==M?(E=(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[M,D]}),G[54]=M,G[55]=E):E=G[55],G[56]===Symbol.for("react.memo_cache_sentinel")?(R=(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Pasif kaynak public ekranda listelenmez (backend kuralı)."}),G[56]=R):R=G[56],G[57]!==E?(O=(0,i.jsxs)("div",{className:"space-y-2",children:[H,E,R]}),G[57]=E,G[58]=O):O=G[58],G[59]!==j||G[60]!==T||G[61]!==B||G[62]!==O||G[63]!==_?(P=(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[_,j,T,B,O]}),G[59]=j,G[60]=T,G[61]=B,G[62]=O,G[63]=_,G[64]=P):P=G[64],G[65]!==Y||G[66]!==U?(K=Y||"create"!==U?null:(0,i.jsxs)("div",{className:"rounded-md border border-blue-200 bg-blue-50 px-3 py-2 text-sm text-blue-700",children:["Kaynak oluşturulduktan sonra ",(0,i.jsx)("strong",{children:"Haftalık Plan"})," ve"," ",(0,i.jsx)("strong",{children:"Günlük Plan"})," sekmeleri aktif olur."]}),G[65]=Y,G[66]=U,G[67]=K):K=G[67],G[68]!==Q||G[69]!==P||G[70]!==K?($=(0,i.jsxs)("form",{onSubmit:Q,noValidate:!0,className:"space-y-4",children:[P,K]}),G[68]=Q,G[69]=P,G[70]=K,G[71]=$):$=G[71],$};function y(e){return(0,i.jsx)(p.SelectItem,{value:e.value,children:e.label},e.value)}var f=e.i(72436),g=e.i(84774),v=e.i(31863),j=e.i(47167),k=e.i(19929);let w=!1;function S(){try{window.dispatchEvent(new Event("locationchange"))}catch{}}async function N(e){try{let i=await fetch(e,{credentials:"omit",cache:"no-store"});if(!i.ok)return null;return await i.json()}catch{return null}}function T(e){let[i,a]=(0,t.useState)("/"),[r,l]=(0,t.useState)(null),[n,s]=(0,t.useState)(null),_=(0,t.useRef)(!1);return(0,t.useEffect)(()=>{!function(){if(w)return;w=!0;let{pushState:e,replaceState:i}=window.history;window.history.pushState=function(...i){let t=e.apply(this,i);return S(),t},window.history.replaceState=function(...e){let t=i.apply(this,e);return S(),t},window.addEventListener("popstate",S),window.addEventListener("hashchange",S)}();let e=()=>a(window.location.pathname||"/");return e(),window.addEventListener("locationchange",e),window.addEventListener("popstate",e),window.addEventListener("hashchange",e),()=>{window.removeEventListener("locationchange",e),window.removeEventListener("popstate",e),window.removeEventListener("hashchange",e)}},[]),(0,t.useEffect)(()=>{if(_.current)return;_.current=!0;let e=("http://localhost:8044/api".trim()||(j.default.env.API_BASE_URL||"").trim()).replace(/\/+$/,"");e&&(async()=>{let[i,t]=await Promise.all([N(`${e}/site_settings/app-locales`),N(`${e}/site_settings/default-locale`)]),a=Array.isArray(i)?i:i&&"object"==typeof i&&"data"in i&&Array.isArray(i.data)?i.data:[],r=t&&"object"==typeof t&&"data"in t?(0,k.normLocaleTag)(t.data):(0,k.normLocaleTag)(t);l(a.length?a:null),s(r||null)})()},[]),(0,t.useMemo)(()=>{var i;let t,a,l,s,_,c=(a=Array.from(new Set((t=Array.isArray(i=r||[])?i:[]).filter(e=>e&&!1!==e.is_active).map(e=>(0,k.normLocaleTag)(e.code)).filter(Boolean))),(_=(s=(l=t.find(e=>e?.is_default===!0&&e?.is_active!==!1))?(0,k.normLocaleTag)(l.code):"")?[s,...a.filter(e=>e!==s)]:a).length?_:[(0,k.normLocaleTag)("de")||"de"]),o=new Set(c.map(k.normLocaleTag)),d=function(){try{let e=new URLSearchParams(window.location.search||"");return(0,k.normLocaleTag)(e.get("__lc"))}catch{return""}}();if(d&&o.has(d))return d;let u=function(){if("u"<typeof document)return"";let e=document.cookie.match(/(?:^|;\s*)NEXT_LOCALE=([^;]+)/);return e?(0,k.normLocaleTag)(decodeURIComponent(e[1])):""}();if(u&&o.has(u))return u;let m=(0,k.normLocaleTag)(e);if(m&&o.has(m))return m;let h=(0,k.normLocaleTag)(n);if(h&&o.has(h))return h;let b=(0,k.normLocaleTag)(c[0]);return b||(0,k.normLocaleTag)("de")||"de"},[i,e,r,n])}var C=e.i(52974);let L={ui_header_nav_home:"Home",ui_header_nav_about:"About Us",ui_header_nav_services:"Services",ui_header_nav_product:"Products",ui_header_nav_sparepart:"Spare Parts",ui_header_nav_references:"References",ui_header_nav_library:"Library",ui_header_nav_blog:"Blog",ui_header_nav_contact:"Contact",ui_home_hero_title:"Welcome to Our Website",ui_home_hero_subtitle:"We provide the best solutions for your business.",ui_home_hero_cta_primary:"Get Started",ui_home_hero_cta_secondary:"Learn More"};function A(e){return String(e)}let z={ui_header:["ui_header_nav_home","ui_header_nav_about","ui_header_nav_services","ui_header_nav_product","ui_header_nav_sparepart","ui_header_nav_references","ui_header_nav_library","ui_header_nav_news","ui_header_nav_contact","ui_header_cta","ui_header_open_menu","ui_header_open_sidebar","ui_header_close","ui_header_language","ui_header_auth","ui_header_register","ui_header_search_placeholder","ui_header_search","ui_header_contact_info","ui_header_call","ui_header_email"],ui_home:["ui_home_h1","ui_hero_kicker_prefix","ui_hero_kicker_brand","ui_hero_title_fallback","ui_hero_desc_fallback","ui_hero_cta","ui_hero_prev","ui_hero_next"],ui_footer:["ui_footer_company","ui_footer_about","ui_footer_blog","ui_footer_resources","ui_footer_free_tools","ui_footer_contact_us","ui_footer_services","ui_footer_service_seo","ui_footer_service_ppc","ui_footer_service_smm","ui_footer_service_link_building","ui_footer_service_cro","ui_footer_explore","ui_footer_account","ui_footer_privacy","ui_footer_affiliate","ui_footer_product_design","ui_footer_web_design","ui_footer_contact","ui_footer_phone_aria","ui_footer_email_aria","ui_footer_copyright_prefix","ui_footer_copyright_suffix"],ui_services:["ui_services_subprefix","ui_services_sublabel","ui_services_title","ui_services_placeholder_title","ui_services_placeholder_summary","ui_services_details_aria"],ui_banner:["ui_breadcrumb_home"],ui_hero:["ui_hero_kicker_prefix","ui_hero_kicker_brand","ui_hero_title_fallback","ui_hero_desc_fallback","ui_hero_cta","ui_hero_prev","ui_hero_next"],ui_contact:["ui_contact_subprefix","ui_contact_sublabel","ui_contact_title_left","ui_contact_tagline","ui_contact_quick_email_placeholder","ui_contact_form_title","ui_contact_first_name","ui_contact_last_name","ui_contact_company","ui_contact_website","ui_contact_phone","ui_contact_email","ui_contact_select_label","ui_contact_service_cooling_towers","ui_contact_service_maintenance","ui_contact_service_modernization","ui_contact_service_other","ui_contact_terms_prefix","ui_contact_terms","ui_contact_conditions","ui_contact_submit","ui_contact_sending","ui_contact_success","ui_contact_error_generic"],ui_about:["ui_about_subprefix","ui_about_sublabel","ui_about_view_all","ui_about_fallback_title"],ui_about_stats:["ui_about_stats_refs_title","ui_about_stats_projects_title","ui_about_stats_years_title"],ui_pricing:[],ui_testimonials:["ui_feedback_subprefix","ui_feedback_sublabel","ui_feedback_title","ui_feedback_paragraph","ui_feedback_prev","ui_feedback_next","ui_feedback_role_customer"],ui_faq:[],ui_features:[],ui_cta:[],ui_blog:["ui_news_subprefix","ui_news_sublabel","ui_news_title_prefix","ui_news_title_mark","ui_news_read_more","ui_news_read_more_aria","ui_news_view_all","ui_news_untitled","ui_news_sample_one","ui_news_sample_two"],ui_dashboard:[],ui_auth:["ui_auth_title","ui_auth_lead","ui_auth_register_link","ui_auth_email_label","ui_auth_email_placeholder","ui_auth_password_label","ui_auth_password_placeholder","ui_auth_remember_me","ui_auth_submit","ui_auth_loading","ui_auth_or","ui_auth_google_button","ui_auth_google_loading","ui_auth_error_required","ui_auth_error_google_generic"],ui_newsletter:["ui_newsletter_title","ui_newsletter_desc","ui_newsletter_cta","ui_newsletter_ok","ui_newsletter_fail","ui_newsletter_placeholder","ui_newsletter_section_aria","ui_newsletter_email_aria"],ui_library:["ui_library_subprefix","ui_library_sublabel","ui_library_title_prefix","ui_library_title_mark","ui_library_view_detail","ui_library_view_detail_aria","ui_library_view_all","ui_library_untitled","ui_library_sample_one","ui_library_sample_two"],ui_feedback:["ui_feedback_subprefix","ui_feedback_sublabel","ui_feedback_title","ui_feedback_paragraph","ui_feedback_prev","ui_feedback_next","ui_feedback_role_customer"],ui_references:["ui_references_subprefix","ui_references_sublabel","ui_references_title","ui_references_view_all"],ui_news:["ui_news_subprefix","ui_news_sublabel","ui_news_title_prefix","ui_news_title_mark","ui_news_read_more","ui_news_read_more_aria","ui_news_view_all","ui_news_untitled","ui_news_sample_one","ui_news_sample_two"],ui_products:["ui_products_kicker_prefix","ui_products_kicker_label","ui_products_title_prefix","ui_products_title_mark","ui_products_read_more","ui_products_read_more_aria","ui_products_price_label","ui_products_view_all","ui_products_empty"],ui_spareparts:["ui_spareparts_kicker_prefix","ui_spareparts_kicker_label","ui_spareparts_title_prefix","ui_spareparts_title_mark","ui_spareparts_read_more","ui_spareparts_read_more_aria","ui_spareparts_price_label","ui_spareparts_view_all","ui_spareparts_empty"],ui_faqs:["ui_faqs_page_title"],ui_team:["ui_team_page_title"],ui_offer:["ui_offer_page_title"],ui_catalog:["ui_catalog_page_title"],ui_cookie:["ui_cookie_title","ui_cookie_description","ui_cookie_label_necessary","ui_cookie_desc_necessary","ui_cookie_label_analytics","ui_cookie_desc_analytics","ui_cookie_btn_cancel","ui_cookie_btn_save"],ui_errors:["ui_404_title","ui_404_subtitle","ui_404_back_home","ui_500_title","ui_500_subtitle","ui_500_try_again","ui_generic_error","ui_loading"],ui_cookie_policy:["ui_cookie_policy_page_title"],ui_quality:["ui_quality_meta_title","ui_quality_meta_description"],ui_mission_vision:["ui_mission_vision_meta_title","ui_mission_vision_meta_description"],ui_mission:["ui_mission_page_title","ui_mission_meta_title","ui_mission_meta_description"],ui_vision:["ui_vision_page_title","ui_vision_meta_title","ui_vision_meta_description"],ui_kvkk:["ui_kvkk_page_title","ui_kvkk_meta_title","ui_kvkk_meta_description","ui_kvkk_empty","ui_kvkk_empty_text"],ui_legal_notice:["ui_legal_notice_page_title","ui_legal_notice_meta_title","ui_legal_notice_meta_description","ui_legal_notice_empty","ui_legal_notice_empty_text"],ui_privacy_notice:["ui_privacy_notice_page_title","ui_privacy_notice_meta_title","ui_privacy_notice_meta_description","ui_privacy_notice_empty","ui_privacy_notice_empty_text"],ui_privacy_policy:["ui_privacy_policy_page_title","ui_privacy_policy_meta_title","ui_privacy_policy_meta_description","ui_privacy_policy_empty","ui_privacy_policy_empty_text"],ui_terms:["ui_terms_page_title","ui_terms_meta_title","ui_terms_meta_description","ui_terms_empty","ui_terms_empty_text"],ui_common:["ui_common_read_more","ui_common_read_less","ui_common_loading","ui_common_error_generic"],ui_solutions:["ui_solutions_page_title","ui_solutions_meta_title","ui_solutions_meta_description"],ui_appointment:["ui_appointment_page_title","ui_appointment_meta_title","ui_appointment_meta_description","ui_appointment_og_image"]},B=e=>String(e??"").trim(),H=e=>(0,u.hmToMinutes)(e),I=e=>{let a,n,s,_,d,x,y,j,w,S,N,H,I,P,K,$,G,U,F,W,Y,V,q,Q,J,X,Z,ee,ei,et,ea,er,el,en,es,e_,ec,eo,ed,eu,em,eh,eb,ep,ex,ey,ef,eg,ev,ej,ek,ew,eS,eN,eT,eC,eL,eA,ez,eB,eH,eI,eM,eD,eE,eR,eO,eP,eK,e$,eG,eU,eF,eW,eY,eV,eq,eQ,eJ,eX,eZ,e0,e1,e2,e4,e3,e6,e5,e7,e8,e9,ie,ii,it,ia,ir,il,is,i_,ic,io,id,iu,im,ih,ib,ip,ix,iy,ig,iv,ij,ik,iw,iS,iN,iT,iC=(0,c.c)(292),{resourceId:iL,hasResourceId:iA,disabled:iz,onEditDay:iB}=e,{ui:iH}=function(e,i){let t,a,r,l,n=(0,c.c)(11),s=T(i),{data:_}=(0,C.useGetSiteSettingByKeyQuery)(e);_?.value;let o=_?.value;n[0]!==o?(t=function(e){let i=!e||"object"!=typeof e||Array.isArray(e)?e:"data"in e?e.data:"value"in e?e.value:e;if(!i)return{};if("object"==typeof i&&!Array.isArray(i))return i;if("string"==typeof i){let e=i.trim();if(!e)return{};if(e.startsWith("{")&&e.endsWith("}"))try{let i=JSON.parse(e);if(i&&"object"==typeof i&&!Array.isArray(i))return i}catch{}}return{}}(o),n[0]=o,n[1]=t):t=n[1];let d=t;n[2]!==e?(a=z[e]??[],n[2]=e,n[3]=a):a=n[3];let{t:u}=function(e,i){let t,a,r,l,n=(0,c.c)(11);n[0]!==e?(t=e.map(A),n[0]=e,n[1]=t):t=n[1];let s=t,{data:_}=(0,C.useListSiteSettingsQuery)();if(n[2]!==_||n[3]!==s){e:{let e={};if(!_){a=e;break e}for(let i of _){let t=String(i?.key||"").trim();t&&(!s.length||s.includes(t))&&(e[t]=function(e){let i=function(e){if("string"!=typeof e)return e;let i=e.trim();if(!i)return e;if(i.startsWith("{")&&i.endsWith("}")||i.startsWith("[")&&i.endsWith("]"))try{return JSON.parse(i)}catch{}return e}(e);return"string"==typeof i?{label:{en:i}}:i&&"object"==typeof i&&!Array.isArray(i)?i.label&&"object"==typeof i.label&&!Array.isArray(i.label)?i:{label:i}:{}}(i?.value))}a=e}n[2]=_,n[3]=s,n[4]=a}else a=n[4];let o=a;n[5]!==i||n[6]!==o?(r=e=>{let t=String(e||"").trim();if(!t)return"";let a=o[t],r=a?.label||{},l=String(i||"").trim().toLowerCase().replace("_","-").split("-")[0].trim(),n=L[t]??"",s=l&&r[l]||r.en||r.tr||Object.values(r||{})[0]||n||t;return("string"==typeof s?s:"").trim()||n||t},n[5]=i,n[6]=o,n[7]=r):r=n[7];let d=r;return n[8]!==o||n[9]!==d?(l={t:d,map:o},n[8]=o,n[9]=d,n[10]=l):l=n[10],l}(a,s);n[4]!==d||n[5]!==u?(r=(e,i)=>{let t=String(e||"").trim();if(!t)return"";let a=d[t];if("string"==typeof a&&a.trim())return a.trim();let r=String(u(t)||"").trim();if(r&&r!==t)return r;let l=String((void 0===i?"":i)||"").trim();if(l)return l;let n=L[t];return"string"==typeof n&&n.trim()?n.trim():t},n[4]=d,n[5]=u,n[6]=r):r=n[6];let m=r;return n[7]!==d||n[8]!==s||n[9]!==m?(l={ui:m,raw:d,locale:s},n[7]=d,n[8]=s,n[9]=m,n[10]=l):l=n[10],l}("ui_appointment",(iN=(0,c.c)(2),iT=T(void 0),iN[0]!==iT?(iS=(0,k.normLocaleTag)(iT)||"de",iN[0]=iT,iN[1]=iS):iS=iN[1],iS));iC[0]!==iH?(a=(e,i)=>{let t=B(iH(e,i));return!function(e,i){let t=String(e??"").trim();if(!t||t===i||/^ui_[a-z0-9_]+$/i.test(t))return!1;let a=t.replace(/\s+/g,"");return a!==`[${i}]`&&a!==`{{${i}}}`}(t,e)?i:t},iC[0]=iH,iC[1]=a):a=iC[1];let iI=a;iC[2]!==iI?(n=iI("ui_dow_1","Pazartesi"),iC[2]=iI,iC[3]=n):n=iC[3],iC[4]!==n?(s={value:1,label:n},iC[4]=n,iC[5]=s):s=iC[5],iC[6]!==iI?(_=iI("ui_dow_2","Salı"),iC[6]=iI,iC[7]=_):_=iC[7],iC[8]!==_?(d={value:2,label:_},iC[8]=_,iC[9]=d):d=iC[9],iC[10]!==iI?(x=iI("ui_dow_3","Çarşamba"),iC[10]=iI,iC[11]=x):x=iC[11],iC[12]!==x?(y={value:3,label:x},iC[12]=x,iC[13]=y):y=iC[13],iC[14]!==iI?(j=iI("ui_dow_4","Perşembe"),iC[14]=iI,iC[15]=j):j=iC[15],iC[16]!==j?(w={value:4,label:j},iC[16]=j,iC[17]=w):w=iC[17],iC[18]!==iI?(S=iI("ui_dow_5","Cuma"),iC[18]=iI,iC[19]=S):S=iC[19],iC[20]!==S?(N={value:5,label:S},iC[20]=S,iC[21]=N):N=iC[21],iC[22]!==iI?(H=iI("ui_dow_6","Cumartesi"),iC[22]=iI,iC[23]=H):H=iC[23],iC[24]!==H?(I={value:6,label:H},iC[24]=H,iC[25]=I):I=iC[25],iC[26]!==iI?(P=iI("ui_dow_7","Pazar"),iC[26]=iI,iC[27]=P):P=iC[27],iC[28]!==P?(K={value:7,label:P},iC[28]=P,iC[29]=K):K=iC[29],iC[30]!==N||iC[31]!==I||iC[32]!==K||iC[33]!==s||iC[34]!==d||iC[35]!==y||iC[36]!==w?($=[s,d,y,w,N,I,K],iC[30]=N,iC[31]=I,iC[32]=K,iC[33]=s,iC[34]=d,iC[35]=y,iC[36]=w,iC[37]=$):$=iC[37];let iM=$;iC[38]!==iA||iC[39]!==iL?(G=iA?{resource_id:iL}:void 0,iC[38]=iA,iC[39]=iL,iC[40]=G):G=iC[40];let iD=G,iE=!iD;iC[41]!==iE?(U={skip:iE,refetchOnMountOrArgChange:!0},iC[41]=iE,iC[42]=U):U=iC[42];let iR=(0,v.useListWorkingHoursAdminQuery)(iD,U);iC[43]!==iR.data?(F=[...iR.data??[]].map(M).sort(D),iC[43]=iR.data,iC[44]=F):F=iC[44];let iO=F;iC[45]===Symbol.for("react.memo_cache_sentinel")?(W={},iC[45]=W):W=iC[45];let[iP,iK]=(0,t.useState)(W);iC[46]!==iO?(Y=()=>{let e={};for(let i of iO)e[i.id]={...i};iK(e)},V=[iO],iC[46]=iO,iC[47]=Y,iC[48]=V):(Y=iC[47],V=iC[48]),(0,t.useEffect)(Y,V);let[i$,iG]=(0,v.useUpsertWorkingHourAdminMutation)(),{isLoading:iU}=iG,[iF,iW]=(0,v.useDeleteWorkingHourAdminMutation)(),{isLoading:iY}=iW,iV=iz||iR.isLoading||iR.isFetching||iU||iY;iC[49]!==iL?(q=()=>({resource_id:iL||"00000000-0000-0000-0000-000000000000",dow:1,start_time:"10:00",end_time:"18:00",slot_minutes:60,break_minutes:0,capacity:1,is_active:!0}),iC[49]=iL,iC[50]=q):q=iC[50];let[iq,iQ]=(0,t.useState)(q);iC[51]!==iA||iC[52]!==iL?(Q=()=>{iA&&iQ(e=>({...e,resource_id:iL}))},J=[iA,iL],iC[51]=iA,iC[52]=iL,iC[53]=Q,iC[54]=J):(Q=iC[53],J=iC[54]),(0,t.useEffect)(Q,J);let iJ=E;iC[55]!==iA||iC[56]!==iq.break_minutes||iC[57]!==iq.capacity||iC[58]!==iq.dow||iC[59]!==iq.end_time||iC[60]!==iq.is_active||iC[61]!==iq.slot_minutes||iC[62]!==iq.start_time||iC[63]!==iL||iC[64]!==iI||iC[65]!==i$?(X=async()=>{if(!iA)return;let e=(0,u.normalizeHm)(iq.start_time),i=(0,u.normalizeHm)(iq.end_time);if(!iJ(e,i))return void r.toast.error(iI("ui_admin_wh_err_range","Başlangıç/bitiş saati geçersiz. (Bitiş, başlangıçtan büyük olmalı)"));try{await i$({resource_id:iL,dow:(0,u.clampInt)(iq.dow,1,1,7),start_time:e,end_time:i,slot_minutes:(0,u.clampInt)(iq.slot_minutes,60,1,1440),break_minutes:(0,u.clampInt)(iq.break_minutes,0,0,1440),capacity:(0,u.clampInt)(iq.capacity,1,0,999),is_active:(0,u.toActiveBool)(iq.is_active)}).unwrap(),r.toast.success(iI("ui_admin_wh_added","Çalışma aralığı eklendi."))}catch(e){r.toast.error(e?.data?.error?.message||e?.message||iI("ui_admin_wh_add_failed","Çalışma aralığı eklenemedi."))}},iC[55]=iA,iC[56]=iq.break_minutes,iC[57]=iq.capacity,iC[58]=iq.dow,iC[59]=iq.end_time,iC[60]=iq.is_active,iC[61]=iq.slot_minutes,iC[62]=iq.start_time,iC[63]=iL,iC[64]=iI,iC[65]=i$,iC[66]=X):X=iC[66];let iX=X;iC[67]!==iA||iC[68]!==iL||iC[69]!==iI||iC[70]!==i$?(Z=async e=>{if(!iA)return;let i=(0,u.normalizeHm)(e.start_time),t=(0,u.normalizeHm)(e.end_time);if(!iJ(i,t))return void r.toast.error(iI("ui_admin_wh_err_invalid_range","Başlangıç/bitiş saati geçersiz."));try{await i$({id:e.id,resource_id:iL,dow:(0,u.clampInt)(e.dow,1,1,7),start_time:i,end_time:t,slot_minutes:(0,u.clampInt)(e.slot_minutes,60,1,1440),break_minutes:(0,u.clampInt)(e.break_minutes,0,0,1440),capacity:(0,u.clampInt)(e.capacity,1,0,999),is_active:!!e.is_active}).unwrap(),r.toast.success(iI("ui_admin_wh_updated","Çalışma aralığı güncellendi."))}catch(e){r.toast.error(e?.data?.error?.message||e?.message||iI("ui_admin_wh_update_failed","Çalışma aralığı güncellenemedi."))}},iC[67]=iA,iC[68]=iL,iC[69]=iI,iC[70]=i$,iC[71]=Z):Z=iC[71];let iZ=Z;iC[72]!==iM||iC[73]!==iF||iC[74]!==iL||iC[75]!==iI?(ee=async e=>{let i=iM.find(i=>i.value===e.dow)?.label||String(e.dow);if(window.confirm(iI("ui_admin_wh_delete_confirm",`Bu \xe7alışma aralığını silmek \xfczeresin.

G\xfcn: ${i}
Saat: ${e.start_time} - ${e.end_time}

Devam edilsin mi?`)))try{await iF({id:String(e.id),resource_id:iL}).unwrap(),r.toast.success(iI("ui_admin_wh_deleted","Çalışma aralığı silindi."))}catch(e){r.toast.error(e?.data?.error?.message||e?.message||iI("ui_admin_wh_delete_failed","Çalışma aralığı silinemedi."))}},iC[72]=iM,iC[73]=iF,iC[74]=iL,iC[75]=iI,iC[76]=ee):ee=iC[76];let i0=ee;iC[77]!==iB?(ei=e=>{iB?.({dow:e.dow,wh_id:e.id})},iC[77]=iB,iC[78]=ei):ei=iC[78];let i1=ei;if(iC[79]!==iI?(et=iI("ui_admin_wh_title","Haftalık Çalışma Saatleri"),iC[79]=iI,iC[80]=et):et=iC[80],iC[81]!==et?(ea=(0,i.jsx)("div",{className:"text-sm font-semibold",children:et}),iC[81]=et,iC[82]=ea):ea=iC[82],iC[83]!==iI?(er=iI("ui_admin_wh_desc","Bu aralıklar günlük seans üretiminin kaynağıdır. (Seans dk + Ara dk)"),iC[83]=iI,iC[84]=er):er=iC[84],iC[85]!==er?(el=(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:er}),iC[85]=er,iC[86]=el):el=iC[86],iC[87]!==ea||iC[88]!==el?(en=(0,i.jsxs)("div",{children:[ea,el]}),iC[87]=ea,iC[88]=el,iC[89]=en):en=iC[89],iC[90]!==iV||iC[91]!==iI?(es=iV?(0,i.jsx)(o.Badge,{variant:"secondary",className:"text-xs",children:iI("ui_admin_loading","Yükleniyor...")}):null,iC[90]=iV,iC[91]=iI,iC[92]=es):es=iC[92],iC[93]!==iR?(e_=()=>iR.refetch(),iC[93]=iR,iC[94]=e_):e_=iC[94],iC[95]!==iI?(ec=iI("ui_admin_refresh","Yenile"),iC[95]=iI,iC[96]=ec):ec=iC[96],iC[97]!==iV||iC[98]!==e_||iC[99]!==ec?(eo=(0,i.jsx)(l.Button,{variant:"outline",size:"sm",onClick:e_,disabled:iV,children:ec}),iC[97]=iV,iC[98]=e_,iC[99]=ec,iC[100]=eo):eo=iC[100],iC[101]!==es||iC[102]!==eo?(ed=(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[es,eo]}),iC[101]=es,iC[102]=eo,iC[103]=ed):ed=iC[103],iC[104]!==en||iC[105]!==ed?(eu=(0,i.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[en,ed]}),iC[104]=en,iC[105]=ed,iC[106]=eu):eu=iC[106],iC[107]===Symbol.for("react.memo_cache_sentinel")?(em={width:180},iC[107]=em):em=iC[107],iC[108]!==iI?(eh=iI("ui_admin_col_day","Gün"),iC[108]=iI,iC[109]=eh):eh=iC[109],iC[110]!==eh?(eb=(0,i.jsx)(g.TableHead,{style:em,children:eh}),iC[110]=eh,iC[111]=eb):eb=iC[111],iC[112]===Symbol.for("react.memo_cache_sentinel")?(ep={width:120},iC[112]=ep):ep=iC[112],iC[113]!==iI?(ex=iI("ui_admin_col_start","Başlangıç"),iC[113]=iI,iC[114]=ex):ex=iC[114],iC[115]!==ex?(ey=(0,i.jsx)(g.TableHead,{style:ep,children:ex}),iC[115]=ex,iC[116]=ey):ey=iC[116],iC[117]===Symbol.for("react.memo_cache_sentinel")?(ef={width:120},iC[117]=ef):ef=iC[117],iC[118]!==iI?(eg=iI("ui_admin_col_end","Bitiş"),iC[118]=iI,iC[119]=eg):eg=iC[119],iC[120]!==eg?(ev=(0,i.jsx)(g.TableHead,{style:ef,children:eg}),iC[120]=eg,iC[121]=ev):ev=iC[121],iC[122]===Symbol.for("react.memo_cache_sentinel")?(ej={width:120},iC[122]=ej):ej=iC[122],iC[123]!==iI?(ek=iI("ui_admin_col_session","Seans (dk)"),iC[123]=iI,iC[124]=ek):ek=iC[124],iC[125]!==ek?(ew=(0,i.jsx)(g.TableHead,{style:ej,children:ek}),iC[125]=ek,iC[126]=ew):ew=iC[126],iC[127]===Symbol.for("react.memo_cache_sentinel")?(eS={width:120},iC[127]=eS):eS=iC[127],iC[128]!==iI?(eN=iI("ui_admin_col_break","Ara (dk)"),iC[128]=iI,iC[129]=eN):eN=iC[129],iC[130]!==eN?(eT=(0,i.jsx)(g.TableHead,{style:eS,children:eN}),iC[130]=eN,iC[131]=eT):eT=iC[131],iC[132]===Symbol.for("react.memo_cache_sentinel")?(eC={width:110},iC[132]=eC):eC=iC[132],iC[133]!==iI?(eL=iI("ui_admin_col_capacity","Kapasite"),iC[133]=iI,iC[134]=eL):eL=iC[134],iC[135]!==eL?(eA=(0,i.jsx)(g.TableHead,{style:eC,children:eL}),iC[135]=eL,iC[136]=eA):eA=iC[136],iC[137]===Symbol.for("react.memo_cache_sentinel")?(ez={width:90},iC[137]=ez):ez=iC[137],iC[138]!==iI?(eB=iI("ui_admin_col_active","Aktif"),iC[138]=iI,iC[139]=eB):eB=iC[139],iC[140]!==eB?(eH=(0,i.jsx)(g.TableHead,{style:ez,children:eB}),iC[140]=eB,iC[141]=eH):eH=iC[141],iC[142]===Symbol.for("react.memo_cache_sentinel")?(eI={width:260},iC[142]=eI):eI=iC[142],iC[143]!==iI?(eM=iI("ui_admin_col_actions","İşlemler"),iC[143]=iI,iC[144]=eM):eM=iC[144],iC[145]!==eM?(eD=(0,i.jsx)(g.TableHead,{className:"text-right",style:eI,children:eM}),iC[145]=eM,iC[146]=eD):eD=iC[146],iC[147]!==eb||iC[148]!==ey||iC[149]!==ev||iC[150]!==ew||iC[151]!==eT||iC[152]!==eA||iC[153]!==eH||iC[154]!==eD?(eE=(0,i.jsx)(g.TableHeader,{children:(0,i.jsxs)(g.TableRow,{children:[eb,ey,ev,ew,eT,eA,eH,eD]})}),iC[147]=eb,iC[148]=ey,iC[149]=ev,iC[150]=ew,iC[151]=eT,iC[152]=eA,iC[153]=eH,iC[154]=eD,iC[155]=eE):eE=iC[155],iC[156]!==iI||iC[157]!==iO.length?(eR=0===iO.length?(0,i.jsx)(g.TableRow,{children:(0,i.jsx)(g.TableCell,{colSpan:8,className:"text-sm text-muted-foreground",children:iI("ui_admin_wh_empty","Henüz çalışma aralığı yok. Aşağıdan yeni aralık ekleyebilirsin.")})}):null,iC[156]=iI,iC[157]=iO.length,iC[158]=eR):eR=iC[158],iC[159]!==iM||iC[160]!==iV||iC[161]!==i0||iC[162]!==i1||iC[163]!==iZ||iC[164]!==iB||iC[165]!==iI||iC[166]!==iP||iC[167]!==iO){let e;iC[169]!==iM||iC[170]!==iV||iC[171]!==i0||iC[172]!==i1||iC[173]!==iZ||iC[174]!==iB||iC[175]!==iI||iC[176]!==iP?(e=e=>{let t=iP[e.id]||e;return(0,i.jsxs)(g.TableRow,{children:[(0,i.jsx)(g.TableCell,{children:(0,i.jsxs)(p.Select,{value:String(t.dow),onValueChange:i=>iK(a=>({...a,[e.id]:{...t,dow:Number(i)}})),disabled:iV,children:[(0,i.jsx)(p.SelectTrigger,{children:(0,i.jsx)(p.SelectValue,{})}),(0,i.jsx)(p.SelectContent,{children:iM.map(R)})]})}),(0,i.jsx)(g.TableCell,{children:(0,i.jsx)(m.Input,{type:"time",value:t.start_time,disabled:iV,onChange:i=>iK(a=>({...a,[e.id]:{...t,start_time:i.target.value}}))})}),(0,i.jsx)(g.TableCell,{children:(0,i.jsx)(m.Input,{type:"time",value:t.end_time,disabled:iV,onChange:i=>iK(a=>({...a,[e.id]:{...t,end_time:i.target.value}}))})}),(0,i.jsx)(g.TableCell,{children:(0,i.jsx)(m.Input,{type:"number",value:t.slot_minutes,min:1,max:1440,disabled:iV,onChange:i=>iK(a=>({...a,[e.id]:{...t,slot_minutes:Number(i.target.value)}}))})}),(0,i.jsx)(g.TableCell,{children:(0,i.jsx)(m.Input,{type:"number",value:t.break_minutes,min:0,max:1440,disabled:iV,onChange:i=>iK(a=>({...a,[e.id]:{...t,break_minutes:Number(i.target.value)}}))})}),(0,i.jsx)(g.TableCell,{children:(0,i.jsx)(m.Input,{type:"number",value:t.capacity,min:0,max:999,disabled:iV,onChange:i=>iK(a=>({...a,[e.id]:{...t,capacity:Number(i.target.value)}}))})}),(0,i.jsx)(g.TableCell,{children:(0,i.jsx)(b.Switch,{checked:!!t.is_active,disabled:iV,onCheckedChange:i=>iK(a=>({...a,[e.id]:{...t,is_active:i}}))})}),(0,i.jsx)(g.TableCell,{className:"text-right",children:(0,i.jsxs)("div",{className:"flex flex-wrap justify-end gap-2",children:[(0,i.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",disabled:iV||!iB,onClick:()=>i1(t),title:iI("ui_admin_wh_edit_day_hint","Bu günün günlük seanslarını düzenle"),children:iI("ui_admin_btn_edit","Düzenle")}),(0,i.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",disabled:iV,onClick:()=>void iZ(t),children:iI("ui_admin_btn_save","Kaydet")}),(0,i.jsx)(l.Button,{type:"button",variant:"destructive",size:"sm",disabled:iV,onClick:()=>void i0(t),children:iI("ui_admin_btn_delete","Sil")})]})})]},e.id)},iC[169]=iM,iC[170]=iV,iC[171]=i0,iC[172]=i1,iC[173]=iZ,iC[174]=iB,iC[175]=iI,iC[176]=iP,iC[177]=e):e=iC[177],eO=iO.map(e),iC[159]=iM,iC[160]=iV,iC[161]=i0,iC[162]=i1,iC[163]=iZ,iC[164]=iB,iC[165]=iI,iC[166]=iP,iC[167]=iO,iC[168]=eO}else eO=iC[168];iC[178]!==eR||iC[179]!==eO?(eP=(0,i.jsxs)(g.TableBody,{children:[eR,eO]}),iC[178]=eR,iC[179]=eO,iC[180]=eP):eP=iC[180],iC[181]!==eE||iC[182]!==eP?(eK=(0,i.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,i.jsxs)(g.Table,{children:[eE,eP]})}),iC[181]=eE,iC[182]=eP,iC[183]=eK):eK=iC[183],iC[184]===Symbol.for("react.memo_cache_sentinel")?(e$=(0,i.jsx)(f.Separator,{className:"my-4"}),iC[184]=e$):e$=iC[184],iC[185]!==iI?(eG=iI("ui_admin_wh_add_title","Yeni Çalışma Aralığı Ekle"),iC[185]=iI,iC[186]=eG):eG=iC[186],iC[187]!==eG?(eU=(0,i.jsx)("div",{className:"text-sm font-semibold mb-2",children:eG}),iC[187]=eG,iC[188]=eU):eU=iC[188],iC[189]!==iI?(eF=iI("ui_admin_lbl_day","Gün"),iC[189]=iI,iC[190]=eF):eF=iC[190],iC[191]!==eF?(eW=(0,i.jsx)(h.Label,{children:eF}),iC[191]=eF,iC[192]=eW):eW=iC[192];let i2=String(iq.dow);iC[193]===Symbol.for("react.memo_cache_sentinel")?(eY=e=>iQ(i=>({...i,dow:Number(e)})),iC[193]=eY):eY=iC[193],iC[194]===Symbol.for("react.memo_cache_sentinel")?(eV=(0,i.jsx)(p.SelectTrigger,{children:(0,i.jsx)(p.SelectValue,{})}),iC[194]=eV):eV=iC[194],iC[195]!==iM?(eq=(0,i.jsx)(p.SelectContent,{children:iM.map(O)}),iC[195]=iM,iC[196]=eq):eq=iC[196],iC[197]!==iV||iC[198]!==i2||iC[199]!==eq?(eQ=(0,i.jsxs)(p.Select,{value:i2,onValueChange:eY,disabled:iV,children:[eV,eq]}),iC[197]=iV,iC[198]=i2,iC[199]=eq,iC[200]=eQ):eQ=iC[200],iC[201]!==eW||iC[202]!==eQ?(eJ=(0,i.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[eW,eQ]}),iC[201]=eW,iC[202]=eQ,iC[203]=eJ):eJ=iC[203],iC[204]!==iI?(eX=iI("ui_admin_lbl_start","Başlangıç"),iC[204]=iI,iC[205]=eX):eX=iC[205],iC[206]!==eX?(eZ=(0,i.jsx)(h.Label,{children:eX}),iC[206]=eX,iC[207]=eZ):eZ=iC[207];let i4=String(iq.start_time);iC[208]===Symbol.for("react.memo_cache_sentinel")?(e0=e=>iQ(i=>({...i,start_time:e.target.value})),iC[208]=e0):e0=iC[208],iC[209]!==iV||iC[210]!==i4?(e1=(0,i.jsx)(m.Input,{type:"time",value:i4,onChange:e0,disabled:iV}),iC[209]=iV,iC[210]=i4,iC[211]=e1):e1=iC[211],iC[212]!==eZ||iC[213]!==e1?(e2=(0,i.jsxs)("div",{className:"space-y-2 md:col-span-1",children:[eZ,e1]}),iC[212]=eZ,iC[213]=e1,iC[214]=e2):e2=iC[214],iC[215]!==iI?(e4=iI("ui_admin_lbl_end","Bitiş"),iC[215]=iI,iC[216]=e4):e4=iC[216],iC[217]!==e4?(e3=(0,i.jsx)(h.Label,{children:e4}),iC[217]=e4,iC[218]=e3):e3=iC[218];let i3=String(iq.end_time);iC[219]===Symbol.for("react.memo_cache_sentinel")?(e6=e=>iQ(i=>({...i,end_time:e.target.value})),iC[219]=e6):e6=iC[219],iC[220]!==iV||iC[221]!==i3?(e5=(0,i.jsx)(m.Input,{type:"time",value:i3,onChange:e6,disabled:iV}),iC[220]=iV,iC[221]=i3,iC[222]=e5):e5=iC[222],iC[223]!==e3||iC[224]!==e5?(e7=(0,i.jsxs)("div",{className:"space-y-2 md:col-span-1",children:[e3,e5]}),iC[223]=e3,iC[224]=e5,iC[225]=e7):e7=iC[225],iC[226]!==iI?(e8=iI("ui_admin_lbl_session","Seans (dk)"),iC[226]=iI,iC[227]=e8):e8=iC[227],iC[228]!==e8?(e9=(0,i.jsx)(h.Label,{children:e8}),iC[228]=e8,iC[229]=e9):e9=iC[229];let i6=Number(iq.slot_minutes??60);iC[230]===Symbol.for("react.memo_cache_sentinel")?(ie=e=>iQ(i=>({...i,slot_minutes:Number(e.target.value)})),iC[230]=ie):ie=iC[230],iC[231]!==iV||iC[232]!==i6?(ii=(0,i.jsx)(m.Input,{type:"number",value:i6,min:1,max:1440,onChange:ie,disabled:iV}),iC[231]=iV,iC[232]=i6,iC[233]=ii):ii=iC[233],iC[234]!==ii||iC[235]!==e9?(it=(0,i.jsxs)("div",{className:"space-y-2 md:col-span-1",children:[e9,ii]}),iC[234]=ii,iC[235]=e9,iC[236]=it):it=iC[236],iC[237]!==iI?(ia=iI("ui_admin_lbl_break","Ara"),iC[237]=iI,iC[238]=ia):ia=iC[238],iC[239]!==ia?(ir=(0,i.jsx)(h.Label,{children:ia}),iC[239]=ia,iC[240]=ir):ir=iC[240];let i5=Number(iq.break_minutes??0);iC[241]===Symbol.for("react.memo_cache_sentinel")?(il=e=>iQ(i=>({...i,break_minutes:Number(e.target.value)})),iC[241]=il):il=iC[241],iC[242]!==iV||iC[243]!==i5?(is=(0,i.jsx)(m.Input,{type:"number",value:i5,min:0,max:1440,onChange:il,disabled:iV}),iC[242]=iV,iC[243]=i5,iC[244]=is):is=iC[244],iC[245]!==ir||iC[246]!==is?(i_=(0,i.jsxs)("div",{className:"space-y-2 md:col-span-1",children:[ir,is]}),iC[245]=ir,iC[246]=is,iC[247]=i_):i_=iC[247],iC[248]!==iI?(ic=iI("ui_admin_lbl_capacity","Kapasite"),iC[248]=iI,iC[249]=ic):ic=iC[249],iC[250]!==ic?(io=(0,i.jsx)(h.Label,{children:ic}),iC[250]=ic,iC[251]=io):io=iC[251];let i7=Number(iq.capacity??1);return iC[252]===Symbol.for("react.memo_cache_sentinel")?(id=e=>iQ(i=>({...i,capacity:Number(e.target.value)})),iC[252]=id):id=iC[252],iC[253]!==iV||iC[254]!==i7?(iu=(0,i.jsx)(m.Input,{type:"number",value:i7,min:0,max:999,onChange:id,disabled:iV}),iC[253]=iV,iC[254]=i7,iC[255]=iu):iu=iC[255],iC[256]!==io||iC[257]!==iu?(im=(0,i.jsxs)("div",{className:"space-y-2 md:col-span-1",children:[io,iu]}),iC[256]=io,iC[257]=iu,iC[258]=im):im=iC[258],iC[259]!==iI?(ih=iI("ui_admin_lbl_active","Aktif"),iC[259]=iI,iC[260]=ih):ih=iC[260],iC[261]!==ih?(ib=(0,i.jsx)(h.Label,{children:ih}),iC[261]=ih,iC[262]=ib):ib=iC[262],iC[263]!==iq.is_active?(ip=(0,u.toActiveBool)(iq.is_active),iC[263]=iq.is_active,iC[264]=ip):ip=iC[264],iC[265]===Symbol.for("react.memo_cache_sentinel")?(ix=e=>iQ(i=>({...i,is_active:e})),iC[265]=ix):ix=iC[265],iC[266]!==iV||iC[267]!==ip?(iy=(0,i.jsx)("div",{className:"flex items-center gap-2",children:(0,i.jsx)(b.Switch,{checked:ip,onCheckedChange:ix,disabled:iV})}),iC[266]=iV,iC[267]=ip,iC[268]=iy):iy=iC[268],iC[269]!==ib||iC[270]!==iy?(ig=(0,i.jsxs)("div",{className:"space-y-2 md:col-span-1",children:[ib,iy]}),iC[269]=ib,iC[270]=iy,iC[271]=ig):ig=iC[271],iC[272]!==iI?(iv=iI("ui_admin_btn_add","Ekle"),iC[272]=iI,iC[273]=iv):iv=iC[273],iC[274]!==iV||iC[275]!==iX||iC[276]!==iv?(ij=(0,i.jsx)("div",{className:"md:col-span-1 flex items-end justify-end",children:(0,i.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",onClick:iX,disabled:iV,children:iv})}),iC[274]=iV,iC[275]=iX,iC[276]=iv,iC[277]=ij):ij=iC[277],iC[278]!==it||iC[279]!==i_||iC[280]!==im||iC[281]!==ig||iC[282]!==ij||iC[283]!==eJ||iC[284]!==e2||iC[285]!==e7?(ik=(0,i.jsxs)("div",{className:"grid gap-3 md:grid-cols-8",children:[eJ,e2,e7,it,i_,im,ig,ij]}),iC[278]=it,iC[279]=i_,iC[280]=im,iC[281]=ig,iC[282]=ij,iC[283]=eJ,iC[284]=e2,iC[285]=e7,iC[286]=ik):ik=iC[286],iC[287]!==ik||iC[288]!==eu||iC[289]!==eK||iC[290]!==eU?(iw=(0,i.jsxs)(i.Fragment,{children:[eu,eK,e$,eU,ik]}),iC[287]=ik,iC[288]=eu,iC[289]=eK,iC[290]=eU,iC[291]=iw):iw=iC[291],iw};function M(e){return{id:B(e.id),dow:(0,u.clampInt)(e.dow,1,1,7),start_time:(0,u.normalizeHm)(e.start_time),end_time:(0,u.normalizeHm)(e.end_time),slot_minutes:(0,u.clampInt)(e.slot_minutes,60,1,1440),break_minutes:(0,u.clampInt)(e.break_minutes,0,0,1440),capacity:(0,u.clampInt)(e.capacity,1,0,999),is_active:(0,u.toActiveBool)(e.is_active)}}function D(e,i){return e.dow!==i.dow?e.dow-i.dow:H(e.start_time)-H(i.start_time)}function E(e,i){let t=H(e),a=H(i);return Number.isFinite(t)&&Number.isFinite(a)&&a>t}function R(e){return(0,i.jsx)(p.SelectItem,{value:String(e.value),children:e.label},e.value)}function O(e){return(0,i.jsx)(p.SelectItem,{value:String(e.value),children:e.label},e.value)}let P=e=>String(e??"").trim(),K=()=>(0,u.normalizeYmd)(new Date().toISOString());function $(e){let t,a,r,n,s,_,d,u,b,p,x,y,g,v,j,k,w,S,N=(0,c.c)(44),{busy:T,effectiveDate:C,dayDow:L,onChangeDate:A,onRefresh:z,onGenerate:B,onCloseDay:H,onOpenDay:I}=e;return N[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm font-semibold",children:"Günlük Plan"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Seçilen güne göre haftalık plandan seanslar çıkarılır. DB’ye yazmak için “Slot Üret” kullan."})]}),N[0]=t):t=N[0],N[1]!==T?(a=T?(0,i.jsx)(o.Badge,{variant:"secondary",className:"text-xs",children:"Yükleniyor..."}):null,N[1]=T,N[2]=a):a=N[2],N[3]!==T||N[4]!==z?(r=(0,i.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",onClick:z,disabled:T,children:"Yenile"}),N[3]=T,N[4]=z,N[5]=r):r=N[5],N[6]!==a||N[7]!==r?(n=(0,i.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-2 mb-2",children:[t,(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[a,r]})]}),N[6]=a,N[7]=r,N[8]=n):n=N[8],N[9]===Symbol.for("react.memo_cache_sentinel")?(s=(0,i.jsx)(h.Label,{children:"Tarih"}),N[9]=s):s=N[9],N[10]!==A?(_=e=>A(e.target.value),N[10]=A,N[11]=_):_=N[11],N[12]!==T||N[13]!==C||N[14]!==_?(d=(0,i.jsx)(m.Input,{type:"date",value:C,onChange:_,disabled:T}),N[12]=T,N[13]=C,N[14]=_,N[15]=d):d=N[15],N[16]!==L?(u=(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Gün: ",(0,i.jsx)("strong",{children:L})," (1=Pt … 7=Pz)"]}),N[16]=L,N[17]=u):u=N[17],N[18]!==d||N[19]!==u?(b=(0,i.jsxs)("div",{className:"space-y-2",children:[s,d,u]}),N[18]=d,N[19]=u,N[20]=b):b=N[20],N[21]!==T||N[22]!==B?(p=(0,i.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",onClick:B,disabled:T,children:"Slot Üret"}),N[21]=T,N[22]=B,N[23]=p):p=N[23],N[24]!==T||N[25]!==H?(x=(0,i.jsx)(l.Button,{type:"button",variant:"destructive",size:"sm",onClick:H,disabled:T,children:"Günü Kapat"}),N[24]=T,N[25]=H,N[26]=x):x=N[26],N[27]!==T||N[28]!==I?(y=(0,i.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",onClick:I,disabled:T,children:"Günü Aç"}),N[27]=T,N[28]=I,N[29]=y):y=N[29],N[30]!==x||N[31]!==y||N[32]!==p?(g=(0,i.jsxs)("div",{className:"flex flex-wrap gap-2",children:[p,x,y]}),N[30]=x,N[31]=y,N[32]=p,N[33]=g):g=N[33],N[34]===Symbol.for("react.memo_cache_sentinel")?(v=(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Not: Onay anında kapasite tekrar kontrol edilir (backend kuralı)."}),N[34]=v):v=N[34],N[35]!==g?(j=(0,i.jsxs)("div",{className:"md:col-span-2 flex flex-col gap-2 md:items-end",children:[g,v]}),N[35]=g,N[36]=j):j=N[36],N[37]!==j||N[38]!==b?(k=(0,i.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[b,j]}),N[37]=j,N[38]=b,N[39]=k):k=N[39],N[40]===Symbol.for("react.memo_cache_sentinel")?(w=(0,i.jsx)(f.Separator,{className:"my-4"}),N[40]=w):w=N[40],N[41]!==k||N[42]!==n?(S=(0,i.jsxs)(i.Fragment,{children:[n,k,w]}),N[41]=k,N[42]=n,N[43]=S):S=N[43],S}function G(e){let t,a,r=(0,c.c)(9),{busy:l,whForDay:n,selectedWhId:s,onSelectWhId:_,preview:o}=e,d=n.length>0,u=o.length>0;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsxs)("div",{className:"mb-2",children:[(0,i.jsx)("div",{className:"text-sm font-semibold",children:"Seans Önizleme (Haftalık Plandan)"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Önizleme sadece UI içindir. Public saatler için DB planı doldurmak gerekir."})]}),r[0]=t):t=r[0],r[1]!==l||r[2]!==u||r[3]!==d||r[4]!==_||r[5]!==o||r[6]!==s||r[7]!==n?(a=(0,i.jsxs)(i.Fragment,{children:[t,d?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"grid gap-2 md:grid-cols-2 mb-2",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(h.Label,{children:"Çalışma Aralığı"}),(0,i.jsxs)(p.Select,{value:s,onValueChange:_,disabled:l,children:[(0,i.jsx)(p.SelectTrigger,{children:(0,i.jsx)(p.SelectValue,{placeholder:"Aralık seçin"})}),(0,i.jsx)(p.SelectContent,{children:n.map(F)})]}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Aynı gün içinde birden fazla aralık varsa, günlük seansları aralık bazında yönet."})]})}),s?u?(0,i.jsx)("div",{className:"overflow-x-auto mb-3",children:(0,i.jsxs)(g.Table,{children:[(0,i.jsx)(g.TableHeader,{children:(0,i.jsxs)(g.TableRow,{children:[(0,i.jsx)(g.TableHead,{style:{width:120},children:"Saat"}),(0,i.jsx)(g.TableHead,{style:{width:120},children:"Kapasite"}),(0,i.jsx)(g.TableHead,{children:"Aralık"})]})}),(0,i.jsx)(g.TableBody,{children:o.map(U)})]})}):(0,i.jsx)("div",{className:"rounded-md border border-muted bg-muted/40 px-3 py-2 text-sm",children:"Seçilen aralık için seans üretilemedi. (Saatler/slot dk/ara dk kontrol et)"}):(0,i.jsx)("div",{className:"rounded-md border border-muted bg-muted/40 px-3 py-2 text-sm",children:"Önizleme için bir aralık seç."})]}):(0,i.jsx)("div",{className:"rounded-md border border-muted bg-muted/40 px-3 py-2 text-sm",children:"Bu gün için aktif haftalık çalışma aralığı yok. (DOW eşleşmiyor veya aralık pasif)"})]}),r[1]=l,r[2]=u,r[3]=d,r[4]=_,r[5]=o,r[6]=s,r[7]=n,r[8]=a):a=r[8],a}function U(e){return(0,i.jsxs)(g.TableRow,{children:[(0,i.jsx)(g.TableCell,{className:"text-nowrap",children:(0,i.jsx)(o.Badge,{variant:"outline",children:e.time})}),(0,i.jsx)(g.TableCell,{className:"text-sm",children:e.capacity}),(0,i.jsx)(g.TableCell,{className:"text-sm text-muted-foreground",children:e.range})]},`${e.wh_id}:${e.time}`)}function F(e){return(0,i.jsxs)(p.SelectItem,{value:e.id,children:[e.start_time,"-",e.end_time," • ",e.slot_minutes,"dk + ",e.break_minutes,"dk • kap:",e.capacity]},e.id)}function W(e){let t,a,r,n,s=(0,c.c)(9),{busy:_,planRows:d,onToggle:m}=e,h=d.length>0;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsxs)("div",{className:"mb-2",children:[(0,i.jsx)("div",{className:"text-sm font-semibold",children:"DB Plan (Slot Kayıtları)"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Public “müsait saatler” buradan okunur."})]}),s[0]=t):t=s[0],s[1]!==_||s[2]!==h||s[3]!==m||s[4]!==d?(a=h?(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)(g.Table,{children:[(0,i.jsx)(g.TableHeader,{children:(0,i.jsxs)(g.TableRow,{children:[(0,i.jsx)(g.TableHead,{style:{width:110},children:"Saat"}),(0,i.jsx)(g.TableHead,{style:{width:140},children:"Kapasite"}),(0,i.jsx)(g.TableHead,{style:{width:140},children:"Durum"}),(0,i.jsx)(g.TableHead,{className:"text-right",style:{width:160},children:"İşlem"})]})}),(0,i.jsx)(g.TableBody,{children:d.map(e=>{let t,a,r=(0,u.normalizeHm)(e.time),n=1===Number(e.is_active??0),s=Number(e.capacity??0),c=Number(e.reserved_count??0),d=!!e.available;return(0,i.jsxs)(g.TableRow,{children:[(0,i.jsx)(g.TableCell,{className:"text-nowrap",children:(0,i.jsx)(o.Badge,{variant:"outline",children:r})}),(0,i.jsxs)(g.TableCell,{className:"text-sm",children:[(t=Number(s??0),a=Number(c??0),t<=0?"-":`${a}/${t}`),s>0?(0,i.jsx)("span",{className:"text-xs text-muted-foreground ml-2",children:"(dolu/toplam)"}):null]}),(0,i.jsx)(g.TableCell,{className:"text-nowrap",children:n?d?(0,i.jsx)(o.Badge,{className:"bg-emerald-100 text-emerald-700",children:"Açık"}):(0,i.jsx)(o.Badge,{className:"bg-yellow-100 text-yellow-700",children:"Dolu"}):(0,i.jsx)(o.Badge,{variant:"secondary",children:"Kapalı"})}),(0,i.jsx)(g.TableCell,{className:"text-right text-nowrap",children:(0,i.jsx)(l.Button,{type:"button",variant:n?"destructive":"outline",size:"sm",onClick:()=>m(e),disabled:_,children:n?"Kapat":"Aç"})})]},String(e.id||`${r}:${P(e.slot_id||"")}`))})})]})}):(0,i.jsx)("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 px-3 py-2 text-sm text-yellow-700",children:"DB plan boş. Önizleme görüyorsan “Slot Üret” ile DB’ye yazdırmalısın."}),s[1]=_,s[2]=h,s[3]=m,s[4]=d,s[5]=a):a=s[5],s[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsxs)("div",{className:"mt-3 rounded-md border border-muted bg-muted/40 px-3 py-2 text-sm",children:[(0,i.jsx)("div",{className:"font-semibold mb-1",children:"Net Kural"}),(0,i.jsx)("div",{children:"Haftalık plan: seans üretiminin kaynağı (UI önizleme buradan)."}),(0,i.jsx)("div",{children:"DB plan: public’in gerçek kaynağı (müsait saatler buradan seçilir)."}),(0,i.jsx)("div",{children:"Plan boşsa public’te saat görünmez. Bu yüzden üretim şart."})]}),s[6]=r):r=s[6],s[7]!==a?(n=(0,i.jsxs)(i.Fragment,{children:[t,a,r]}),s[7]=a,s[8]=n):n=s[8],n}let Y=({resourceId:e,hasResourceId:a,disabled:l,initialDow:n,initialWhId:s})=>{let[_,c]=(0,t.useState)(()=>K()),o=(0,t.useMemo)(()=>(0,u.normalizeYmd)(_)||K(),[_]),d=(0,t.useMemo)(()=>{let e;return 0===(e=new Date(`${o}T00:00:00`).getDay())?7:e},[o]),m=(0,t.useMemo)(()=>a?{resource_id:e}:void 0,[a,e]),h=(0,v.useListWorkingHoursAdminQuery)(m,{skip:!m,refetchOnMountOrArgChange:!0}),b=(0,t.useMemo)(()=>[...h.data??[]].map(e=>({id:P(e.id),dow:Number(e.dow??1),start_time:(0,u.normalizeHm)(e.start_time),end_time:(0,u.normalizeHm)(e.end_time),slot_minutes:Number(e.slot_minutes??60),break_minutes:Number(e.break_minutes??0),capacity:Number(e.capacity??1),is_active:1===Number(e.is_active??0)})),[h.data]),p=(0,t.useMemo)(()=>{let e=Number(n??d);return b.filter(e=>e.is_active).filter(i=>Number(i.dow)===e).sort((e,i)=>(0,u.hmToMinutes)(e.start_time)-(0,u.hmToMinutes)(i.start_time))},[b,d,n]),[x,y]=(0,t.useState)("");(0,t.useEffect)(()=>{s?y(String(s)):!x&&p.length&&y(p[0].id)},[s,p.length]);let f=(0,t.useMemo)(()=>p.find(e=>e.id===x)||null,[p,x]),g=(0,t.useMemo)(()=>{if(!f)return[];let e=[],i=(0,u.hmToMinutes)(f.start_time),t=(0,u.hmToMinutes)(f.end_time),a=Math.max(1,Number(f.slot_minutes??60)),r=Math.max(1,a+Math.max(0,Number(f.break_minutes??0)));if(!Number.isFinite(i)||!Number.isFinite(t)||t<=i)return[];for(let l=i;l+a<=t;l+=r)e.push({time:(0,u.minutesToHm)(l),wh_id:f.id,capacity:Math.max(0,Number(f.capacity??1)),slot_minutes:a,break_minutes:Math.max(0,Number(f.break_minutes??0)),range:`${f.start_time}-${f.end_time} • ${a}dk + ${Math.max(0,Number(f.break_minutes??0))}dk`});return e.sort((e,i)=>(0,u.hmToMinutes)(e.time)-(0,u.hmToMinutes)(i.time))},[f]),j=(0,t.useMemo)(()=>a?{resource_id:e,date:o}:void 0,[a,e,o]),k=(0,v.useGetDailyPlanAdminQuery)(j,{skip:!j,refetchOnMountOrArgChange:!0}),w=(0,t.useMemo)(()=>[...k.data??[]].sort((e,i)=>(0,u.hmToMinutes)((0,u.normalizeHm)(e.time))-(0,u.hmToMinutes)((0,u.normalizeHm)(i.time))),[k.data]),[S,{isLoading:N}]=(0,v.useGenerateSlotsAdminMutation)(),[T,{isLoading:C}]=(0,v.useOverrideDayAdminMutation)(),[L,{isLoading:A}]=(0,v.useOverrideSlotAdminMutation)(),z=l||h.isLoading||h.isFetching||k.isLoading||k.isFetching||N||C||A,B=async()=>{if(a)try{let i=await S({resource_id:e,date:o}).unwrap();r.toast.success(`Slot \xfcretimi tamam. Oluşan=${i?.created??0}, Plan=${i?.planned??0}`),await k.refetch()}catch(e){r.toast.error(e?.data?.error?.message||e?.message||"Slot üretimi başarısız.")}},H=async i=>{if(a)try{let t=await T({resource_id:e,date:o,is_active:i}).unwrap();r.toast.success(`G\xfcn g\xfcncellendi. updated=${t?.updated??0}`),await k.refetch()}catch(e){r.toast.error(e?.data?.error?.message||e?.message||"Gün override edilemedi.")}},I=async i=>{if(!a)return;let t=(0,u.normalizeHm)(i.time);if(!t)return;let l=1!==Number(i.is_active??0),n=Number(i.reserved_count??0);if(l||!(n>0)||window.confirm(`Bu slotta ${n} onaylı rezervasyon var.
Slotu kapatırsan bu randevular i\xe7in aksiyon gerekebilir.

Devam edilsin mi?`))try{await L({resource_id:e,date:o,time:t,is_active:l}).unwrap(),r.toast.success("Slot güncellendi."),await k.refetch()}catch(e){r.toast.error(e?.data?.error?.message||e?.message||"Slot güncellenemedi.")}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)($,{busy:z,effectiveDate:o,dayDow:d,onChangeDate:e=>c((0,u.normalizeYmd)(e)||K()),onRefresh:()=>k.refetch(),onGenerate:B,onCloseDay:()=>void H(!1),onOpenDay:()=>void H(!0)}),(0,i.jsx)(G,{busy:z,whForDay:p,selectedWhId:x,onSelectWhId:y,preview:g}),(0,i.jsx)(W,{busy:z,planRows:w,onToggle:I})]})},V=e=>String(e??"").trim(),q=e=>{let a,r,_,m,h,b,p,y,f,g,v,j,k,w,S,N,T,C,L,A,z,B,H,M,D,E,R,O,P=(0,c.c)(75),{mode:K,initialData:$,loading:G,saving:U,onSubmit:F,onCancel:W}=e;P[0]!==$?.id?(a=V($?.id),r=(0,s.isUuidLike)(a),P[0]=$?.id,P[1]=a,P[2]=r):(a=P[1],r=P[2]);let q=r,[Q,J]=(0,t.useState)("resource");P[3]===Symbol.for("react.memo_cache_sentinel")?(_={},P[3]=_):_=P[3];let[X,Z]=(0,t.useState)(_);P[4]!==$?(m=()=>{let e=V($?.type),i=u.RESOURCE_TYPE_VALUES.includes(e)?e:"therapist";return{title:V($?.title),type:i,is_active:(0,u.toActiveBool)($?.is_active??1),capacity:Number($?.capacity??1),external_ref_id:$?.external_ref_id?String($?.external_ref_id):null}},P[4]=$,P[5]=m):m=P[5];let[ee,ei]=(0,t.useState)(m);P[6]!==$?(h=()=>{let e=V($?.type),i=u.RESOURCE_TYPE_VALUES.includes(e)?e:"therapist";ei({title:V($?.title),type:i,is_active:(0,u.toActiveBool)($?.is_active??1),capacity:Number($?.capacity??1),external_ref_id:$?.external_ref_id?String($?.external_ref_id):null})},b=[$],P[6]=$,P[7]=h,P[8]=b):(h=P[7],b=P[8]),(0,t.useEffect)(h,b);let et=G||U;P[9]!==F||P[10]!==ee?(p=async()=>{let e=ee.title.trim(),i=Number(ee.capacity??1),t=ee.external_ref_id?ee.external_ref_id.trim():null;await F({...ee,title:e,capacity:Number.isFinite(i)&&i>0?Math.floor(i):1,external_ref_id:t||null})},P[9]=F,P[10]=ee,P[11]=p):p=P[11];let ea=p,er="create"===K?"Yeni Kaynak":"Kaynak Yönetimi";P[12]!==er?(y=(0,i.jsx)(n.CardTitle,{children:er}),P[12]=er,P[13]=y):y=P[13],P[14]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)(n.CardDescription,{children:"Kaynak bilgileri + haftalık plan + günlük plan."}),P[14]=f):f=P[14],P[15]!==y?(g=(0,i.jsxs)("div",{children:[y,f]}),P[15]=y,P[16]=g):g=P[16],P[17]!==et||P[18]!==W?(v=W?(0,i.jsx)(l.Button,{variant:"outline",size:"sm",onClick:W,disabled:et,children:"Geri"}):null,P[17]=et,P[18]=W,P[19]=v):v=P[19],P[20]!==ea?(j=()=>void ea(),P[20]=ea,P[21]=j):j=P[21];let el=U?"create"===K?"Oluşturuluyor...":"Kaydediliyor...":"create"===K?"Oluştur":"Kaydet";P[22]!==et||P[23]!==j||P[24]!==el?(k=(0,i.jsx)(l.Button,{size:"sm",onClick:j,disabled:et,children:el}),P[22]=et,P[23]=j,P[24]=el,P[25]=k):k=P[25],P[26]!==G?(w=G?(0,i.jsx)(o.Badge,{variant:"secondary",className:"text-xs",children:"Yükleniyor..."}):null,P[26]=G,P[27]=w):w=P[27],P[28]!==v||P[29]!==k||P[30]!==w?(S=(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[v,k,w]}),P[28]=v,P[29]=k,P[30]=w,P[31]=S):S=P[31],P[32]!==g||P[33]!==S?(N=(0,i.jsx)(n.CardHeader,{children:(0,i.jsxs)("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[g,S]})}),P[32]=g,P[33]=S,P[34]=N):N=P[34],P[35]===Symbol.for("react.memo_cache_sentinel")?(T=e=>J(e),P[35]=T):T=P[35],P[36]!==et?(C=(0,i.jsx)(d.TabsTrigger,{value:"resource",disabled:et,children:"Kaynak"}),P[36]=et,P[37]=C):C=P[37];let en=et||!q,es=q?void 0:"Önce kaynak oluştur.";P[38]!==en||P[39]!==es?(L=(0,i.jsx)(d.TabsTrigger,{value:"weekly",disabled:en,title:es,children:"Haftalık Plan"}),P[38]=en,P[39]=es,P[40]=L):L=P[40];let e_=et||!q,ec=q?void 0:"Önce kaynak oluştur.";return P[41]!==e_||P[42]!==ec?(A=(0,i.jsx)(d.TabsTrigger,{value:"daily",disabled:e_,title:ec,children:"Günlük Plan"}),P[41]=e_,P[42]=ec,P[43]=A):A=P[43],P[44]!==C||P[45]!==L||P[46]!==A?(z=(0,i.jsxs)(d.TabsList,{className:"mb-4",children:[C,L,A]}),P[44]=C,P[45]=L,P[46]=A,P[47]=z):z=P[47],P[48]===Symbol.for("react.memo_cache_sentinel")?(B=e=>ei(i=>({...i,...e})),P[48]=B):B=P[48],P[49]!==et||P[50]!==q||P[51]!==K||P[52]!==ea||P[53]!==ee?(H=(0,i.jsx)(d.TabsContent,{value:"resource",children:(0,i.jsx)(x,{mode:K,values:ee,disabled:et,hasResourceId:q,onChange:B,onSubmit:ea})}),P[49]=et,P[50]=q,P[51]=K,P[52]=ea,P[53]=ee,P[54]=H):H=P[54],P[55]===Symbol.for("react.memo_cache_sentinel")?(M=e=>{let{dow:i,wh_id:t}=e;Z({dow:i,wh_id:t}),J("daily")},P[55]=M):M=P[55],P[56]!==et||P[57]!==q||P[58]!==a?(D=(0,i.jsx)(d.TabsContent,{value:"weekly",children:(0,i.jsx)(I,{resourceId:a,hasResourceId:q,disabled:et,onEditDay:M})}),P[56]=et,P[57]=q,P[58]=a,P[59]=D):D=P[59],P[60]!==X.dow||P[61]!==X.wh_id||P[62]!==et||P[63]!==q||P[64]!==a?(E=(0,i.jsx)(d.TabsContent,{value:"daily",children:(0,i.jsx)(Y,{resourceId:a,hasResourceId:q,disabled:et,initialDow:X.dow,initialWhId:X.wh_id})}),P[60]=X.dow,P[61]=X.wh_id,P[62]=et,P[63]=q,P[64]=a,P[65]=E):E=P[65],P[66]!==Q||P[67]!==z||P[68]!==H||P[69]!==D||P[70]!==E?(R=(0,i.jsx)(n.CardContent,{children:(0,i.jsxs)(d.Tabs,{value:Q,onValueChange:T,children:[z,H,D,E]})}),P[66]=Q,P[67]=z,P[68]=H,P[69]=D,P[70]=E,P[71]=R):R=P[71],P[72]!==N||P[73]!==R?(O=(0,i.jsxs)(n.Card,{children:[N,R]}),P[72]=N,P[73]=R,P[74]=O):O=P[74],O};function Q({id:e}){let c=(0,a.useRouter)(),o=String(e??"").trim(),d="new"===o,u=(0,s.isUuidLike)(o),m=(0,_.useGetResourceAdminQuery)(o,{skip:d||!u,refetchOnMountOrArgChange:!0}),[h,b]=(0,_.useCreateResourceAdminMutation)(),[p,x]=(0,_.useUpdateResourceAdminMutation)(),y=m.isLoading||m.isFetching,f=b.isLoading||x.isLoading;t.useEffect(()=>{d||u||r.toast.error("Geçersiz kaynak id.")},[d,u]);let g=async e=>{try{if(d){let i=await h(e).unwrap(),t=String(i?.id||"").trim();r.toast.success("Kaynak oluşturuldu."),(0,s.isUuidLike)(t)?c.replace(`/admin/availability/${encodeURIComponent(t)}`):c.replace("/admin/availability");return}await p({id:o,patch:e}).unwrap(),r.toast.success("Kaynak güncellendi."),await m.refetch()}catch(e){r.toast.error(function(e){let i=e?.data?.error?.message;if("string"==typeof i&&i.trim())return i;let t=e?.data?.error;if("string"==typeof t&&t.trim())return t;let a=e?.data?.message;if("string"==typeof a&&a.trim())return a;let r=e?.error;return"string"==typeof r&&r.trim()?r:"İşlem başarısız. Lütfen tekrar deneyin."}(e))}};return d||u?!d&&m.isError?(0,i.jsxs)(n.Card,{children:[(0,i.jsxs)(n.CardHeader,{children:[(0,i.jsx)(n.CardTitle,{children:"Kaynak Bulunamadı"}),(0,i.jsx)(n.CardDescription,{children:"Bu kaynağa erişilemedi veya silinmiş olabilir."})]}),(0,i.jsx)(n.CardContent,{children:(0,i.jsx)(l.Button,{type:"button",onClick:()=>c.push("/admin/availability"),children:"Listeye Dön"})})]}):(0,i.jsx)("div",{className:"space-y-6",children:(0,i.jsx)(q,{mode:d?"create":"edit",initialData:d?void 0:m.data,loading:y,saving:f,onSubmit:g,onCancel:()=>c.push("/admin/availability")})}):(0,i.jsxs)(n.Card,{children:[(0,i.jsxs)(n.CardHeader,{children:[(0,i.jsx)(n.CardTitle,{children:"Geçersiz Kaynak"}),(0,i.jsx)(n.CardDescription,{children:"Gelen id geçersiz. Lütfen listeye dön."})]}),(0,i.jsx)(n.CardContent,{children:(0,i.jsx)(l.Button,{type:"button",onClick:()=>c.push("/admin/availability"),children:"Listeye Dön"})})]})}e.s(["default",()=>Q],36261)}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83683,e=>{"use strict";var t=e.i(43476),r=e.i(932);let l=(0,e.i(75254).default)("languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);var a=e.i(31278),i=e.i(10204),s=e.i(87486),n=e.i(67489);let o=e=>String(e??"").trim();function d(e){return!!e.value}function c(e){return(0,t.jsx)(n.SelectItem,{value:e.value,children:e.label},`${e.value}:${e.label}`)}e.s(["AdminLocaleSelect",0,e=>{let u,m,g,x,f,p,h,v,b,y,j,S,N,_,w=(0,r.c)(41),{value:k,onChange:C,options:A,loading:L,disabled:q,label:O,allowEmpty:z,emptySentinel:F}=e,J=void 0!==L&&L,M=void 0===O?"Dil":O,B=void 0===z||z,D=void 0===F?"__all__":F,Q=Array.isArray(A)&&A.length>0,E=void 0!==q&&q||J||!Q;w[0]!==B||w[1]!==D?(u=e=>{let t=o(e);return B&&""===t?D:t},w[0]=B,w[1]=D,w[2]=u):u=w[2];let U=u;w[3]!==B||w[4]!==D?(m=e=>{let t=o(e);return B&&t===D?"":t},w[3]=B,w[4]=D,w[5]=m):m=w[5];let $=m;w[6]!==U||w[7]!==k?(g=U(o(k)),w[6]=U,w[7]=k,w[8]=g):g=w[8];let T=g;if(w[9]!==U||w[10]!==A){let e,t=Array.isArray(A)?A:[];w[12]!==U?(e=e=>({value:U(o(e.value).toLowerCase()),raw:o(e.value).toLowerCase(),label:e.label?o(e.label):o(e.value).toLowerCase().toUpperCase()}),w[12]=U,w[13]=e):e=w[13],x=t.map(e).filter(d),w[9]=U,w[10]=A,w[11]=x}else x=w[11];let G=x;return w[14]!==M?(f=(0,t.jsx)(i.Label,{className:"text-sm",children:M}),w[14]=M,w[15]=f):f=w[15],w[16]!==J?(p=J?(0,t.jsxs)(s.Badge,{variant:"secondary",className:"gap-1",children:[(0,t.jsx)(a.Loader2,{className:"size-3.5 animate-spin"}),"Yükleniyor"]}):(0,t.jsxs)(s.Badge,{variant:"secondary",className:"gap-1",children:[(0,t.jsx)(l,{className:"size-3.5"}),"Locale"]}),w[16]=J,w[17]=p):p=w[17],w[18]!==f||w[19]!==p?(h=(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[f,p]}),w[18]=f,w[19]=p,w[20]=h):h=w[20],w[21]!==$||w[22]!==C?(v=e=>C($(e)),w[21]=$,w[22]=C,w[23]=v):v=w[23],w[24]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)(n.SelectTrigger,{children:(0,t.jsx)(n.SelectValue,{placeholder:"Locale seç"})}),w[24]=b):b=w[24],w[25]!==G?(y=G.map(c),w[25]=G,w[26]=y):y=w[26],w[27]!==y?(j=(0,t.jsx)(n.SelectContent,{children:y}),w[27]=y,w[28]=j):j=w[28],w[29]!==E||w[30]!==v||w[31]!==j||w[32]!==T?(S=(0,t.jsxs)(n.Select,{value:T,onValueChange:v,disabled:E,children:[b,j]}),w[29]=E,w[30]=v,w[31]=j,w[32]=T,w[33]=S):S=w[33],w[34]!==Q||w[35]!==J?(N=Q||J?null:(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Locale seçenekleri bulunamadı."}),w[34]=Q,w[35]=J,w[36]=N):N=w[36],w[37]!==h||w[38]!==S||w[39]!==N?(_=(0,t.jsxs)("div",{className:"space-y-2",children:[h,S,N]}),w[37]=h,w[38]=S,w[39]=N,w[40]=_):_=w[40],_}],83683)},31278,e=>{"use strict";var t=e.i(17521);e.s(["Loader2",()=>t.default])},87486,e=>{"use strict";var t=e.i(43476),r=e.i(932),l=e.i(86011),a=e.i(25913),i=e.i(75157);let s=(0,a.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n(e){let a,n,o,d,c,u,m=(0,r.c)(12);m[0]!==e?({className:a,variant:d,asChild:o,...n}=e,m[0]=e,m[1]=a,m[2]=n,m[3]=o,m[4]=d):(a=m[1],n=m[2],o=m[3],d=m[4]);let g=void 0!==o&&o?l.Slot.Slot:"span";return m[5]!==a||m[6]!==d?(c=(0,i.cn)(s({variant:d}),a),m[5]=a,m[6]=d,m[7]=c):c=m[7],m[8]!==g||m[9]!==n||m[10]!==c?(u=(0,t.jsx)(g,{"data-slot":"badge",className:c,...n}),m[8]=g,m[9]=n,m[10]=c,m[11]=u):u=m[11],u}e.s(["Badge",()=>n])},5861,e=>{"use strict";var t=e.i(932);e.i(70272);var r=e.i(14321);let l=e=>String(e||"").trim().toLowerCase().replace("_","-").split("-")[0].trim();function a(){let e,a,u,m,g,x,f,p,h,v=(0,t.c)(22);v[0]===Symbol.for("react.memo_cache_sentinel")?(e={keys:["app_locales","default_locale"]},v[0]=e):e=v[0];let{data:b,isLoading:y,isFetching:j}=(0,r.useListSiteSettingsAdminQuery)(e);if(v[1]!==b){let e=b??[],t=e.find(c),r=e.find(d),x=function(e){let t=new Set,r=[];for(let a of e){let e=l(a?.code);e&&(t.has(e)||(t.add(e),r.push({...a,code:e})))}return r}((function e(t){if(!t)return[];if(Array.isArray(t))return t.map(e=>({code:l(e?.code??e),label:"string"==typeof e?.label?e.label:void 0,is_active:e?.is_active,is_default:e?.is_default})).filter(e=>!!e.code);if("string"==typeof t){let r=t.trim();if(!r)return[];try{let t=JSON.parse(r);return e(t)}catch{return[]}}return"object"==typeof t&&null!==t&&Array.isArray(t.locales)?e(t.locales):[]})(t?.value).filter(o));if(a=x.map(n).filter(Boolean),!(u=l(r?.value))){let e=x.find(s);u=e?l(e.code):""}u&&!a.includes(u)&&(u=a[0]??""),m=x.map(i),g=new Set(a),v[1]=b,v[2]=a,v[3]=u,v[4]=m,v[5]=g}else a=v[2],u=v[3],m=v[4],g=v[5];let S=g;v[6]!==S?(x=e=>{let t=l(e);return!!t&&S.has(t)},v[6]=S,v[7]=x):x=v[7];let N=x;v[8]!==a||v[9]!==u||v[10]!==S?(f=(e,t)=>{let r=l(e);if(r&&S.has(r))return r;let i=l(t);return i&&S.has(i)?i:u&&S.has(u)?u:a[0]??""},v[8]=a,v[9]=u,v[10]=S,v[11]=f):f=v[11];let _=f;v[12]!==a||v[13]!==_||v[14]!==u||v[15]!==N||v[16]!==m?(p={localeOptions:m,defaultLocaleFromDb:u,activeLocaleCodes:a,hasLocale:N,coerceLocale:_},v[12]=a,v[13]=_,v[14]=u,v[15]=N,v[16]=m,v[17]=p):p=v[17];let w=p;return v[18]!==w||v[19]!==j||v[20]!==y?(h={...w,loading:y,fetching:j},v[18]=w,v[19]=j,v[20]=y,v[21]=h):h=v[21],h}function i(e){return{value:l(e.code),label:function(e){let t=l(e.code),r=String(e.label||"").trim();if(r)return`${r} (${t})`;let a=null;try{a=new Intl.DisplayNames(["de"],{type:"language"})}catch{a=null}let i=a?.of(t)??"";return i?`${i} (${t})`:`${t.toUpperCase()} (${t})`}(e)}}function s(e){return!0===e.is_default}function n(e){return l(e.code)}function o(e){return e&&e.code&&!1!==e.is_active}function d(e){return"default_locale"===e.key}function c(e){return"app_locales"===e.key}e.s(["useAdminLocales",()=>a])},31658,e=>{"use strict";var t=e.i(19929);function r(e){let r=String(e??"").trim();return r&&(0,t.normLocaleTag)(r)||""}function l(e,t="de"){return r(e)||t}e.s(["localeShortClient",()=>r,"localeShortClientOr",()=>l])},20995,e=>{"use strict";var t=e.i(31658);function r(e,l,a="de"){let i=Array.isArray(e)?e:[],s=new Set(i.map(e=>(0,t.localeShortClient)(e?.value)).filter(Boolean)),n=(0,t.localeShortClient)(l);if(n&&s.has(n))return n;let o=(0,t.localeShortClient)(i[0]?.value);return o&&s.has(o)?o:(0,t.localeShortClientOr)(a,a)}e.s(["resolveAdminApiLocale",()=>r])},24687,e=>{"use strict";var t=e.i(43476),r=e.i(932),l=e.i(75157);function a(e){let a,i,s,n,o=(0,r.c)(8);return o[0]!==e?({className:a,...i}=e,o[0]=e,o[1]=a,o[2]=i):(a=o[1],i=o[2]),o[3]!==a?(s=(0,l.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),o[3]=a,o[4]=s):s=o[4],o[5]!==i||o[6]!==s?(n=(0,t.jsx)("textarea",{"data-slot":"textarea",className:s,...i}),o[5]=i,o[6]=s,o[7]=n):n=o[7],n}e.s(["Textarea",()=>a])},80352,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let l=(0,e.i(75254).default)("braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);var a=e.i(75157),i=e.i(10204),s=e.i(24687),n=e.i(87486);let o=e=>{try{return JSON.stringify(e??{},null,2)}catch{return""}};e.s(["AdminJsonEditor",0,({label:e,value:d,onChange:c,onErrorChange:u,disabled:m,helperText:g,height:x=260})=>{let[f,p]=(0,r.useState)(()=>o(d)),[h,v]=(0,r.useState)(null);return(0,r.useEffect)(()=>{p(o(d))},[d]),(0,t.jsxs)("div",{className:"space-y-2",children:[e?(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)(i.Label,{className:"text-sm",children:e}),(0,t.jsxs)(n.Badge,{variant:"secondary",className:"gap-1",children:[(0,t.jsx)(l,{className:"size-3.5"}),"JSON editor"]})]}):null,(0,t.jsx)(s.Textarea,{value:f,onChange:e=>p(e.target.value),onBlur:()=>{if(!f.trim()){c({}),v(null),u?.(null);return}try{let e=JSON.parse(f);c(e),v(null),u?.(null)}catch(t){let e=t?.message?String(t.message):"Geçersiz JSON";v(e),u?.(e)}},disabled:m,spellCheck:!1,className:(0,a.cn)("font-mono text-xs leading-5",h&&"border-destructive focus-visible:ring-destructive"),style:{minHeight:x,whiteSpace:"pre",fontFamily:"SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"}}),g&&!h?(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:g}):null,h?(0,t.jsxs)("div",{className:"text-xs text-destructive",children:["JSON hatası: ",(0,t.jsx)("span",{className:"font-medium",children:h})]}):null]})}],80352)},11405,e=>{"use strict";var t=e.i(43476),r=e.i(71645),l=e.i(18566),a=e.i(46696),i=e.i(5861),s=e.i(20995),n=e.i(31658);e.i(70272);var o=e.i(59946),d=e.i(932),c=e.i(83683),u=e.i(80352);let m=e=>{let r,l,a,i,s,n,o,c,m,g=(0,d.c)(13),{jsonModel:x,disabled:f,onChangeJson:p,onErrorChange:h}=e;return g[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsxs)("div",{children:["Bu JSON, ",(0,t.jsx)("code",{children:"/admin/faqs"})," create / update isteklerine gönderilen payload ile uyumludur."]}),g[0]=r):r=g[0],g[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("code",{children:"question"}),g[1]=l):l=g[1],g[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("code",{children:"answer"}),g[2]=a):a=g[2],g[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("code",{children:"slug"}),g[3]=i):i=g[3],g[4]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)("li",{children:[l,", ",a,", ",i,", ",(0,t.jsx)("code",{children:"locale"})]}),n=(0,t.jsx)("code",{children:"is_active"}),g[4]=s,g[5]=n):(s=g[4],n=g[5]),g[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsxs)("div",{children:["Başlıca alanlar:",(0,t.jsxs)("ul",{className:"mb-0 mt-1 list-disc pl-5",children:[s,(0,t.jsxs)("li",{children:[n,", ",(0,t.jsx)("code",{children:"display_order"})]})]})]}),g[6]=o):o=g[6],g[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsxs)("div",{className:"space-y-2 text-xs text-muted-foreground",children:[r,o,(0,t.jsxs)("div",{children:["Not: JSON modunda ",(0,t.jsx)("code",{children:"locale"})," göndermezsen, seçili locale (form üstünden) kullanılır."]})]}),g[7]=c):c=g[7],g[8]!==f||g[9]!==x||g[10]!==p||g[11]!==h?(m=(0,t.jsx)("div",{className:"rounded-lg border bg-card p-3",children:(0,t.jsx)(u.AdminJsonEditor,{label:"FAQ JSON (create/update payload)",value:x,onChange:p,onErrorChange:h,disabled:f,height:380,helperText:c})}),g[8]=f,g[9]=x,g[10]=p,g[11]=h,g[12]=m):m=g[12],m},g=e=>String(e??"").trim().toLowerCase().replace("_","-").split("-")[0].trim(),x=(e,t=0)=>{let r="number"==typeof e?e:Number(String(e??""));return Number.isFinite(r)?r:t},f=(e,t)=>{let r=g(t||"de")||"de";if(!e)return{id:void 0,locale:r,is_active:!0,display_order:0,question:"",answer:"",slug:""};let l=((e,t="de")=>g(e?.locale_resolved??e?.locale??t)||g(t)||"de")(e,r);return{id:e.id,locale:l,is_active:!!Number(e.is_active??0),display_order:x(e.display_order,0),question:e.question??"",answer:e.answer??"",slug:e.slug??""}},p=e=>({question:e.question,answer:e.answer,slug:e.slug,locale:e.locale,is_active:e.is_active,display_order:e.display_order}),h=e=>{let l,i,s,n,u,h,b,y,j,S,N,_,w,k,C,A,L,q,O,z,F,J,M,B,D,Q,E,U,$,T,G,I=(0,d.c)(102),{mode:R,initialData:K,loading:V,saving:Y,locales:H,localesLoading:P,defaultLocale:W,onLocaleChange:X,onSubmit:Z,onCancel:ee}=e;I[0]!==W||I[1]!==K?(l=g(W||"de")||"de",i=r.useState,s=f(K,l),I[0]=W,I[1]=K,I[2]=l,I[3]=i,I[4]=s):(l=I[2],i=I[3],s=I[4]);let[et,er]=i(s),[el,ea]=(0,r.useState)(!1),ei=V||Y,[es,en]=(0,o.useLazyGetFaqAdminQuery)(),eo=(0,r.useRef)(0),[ed,ec]=(0,r.useState)("form");I[5]!==et?(n=()=>p(et),I[5]=et,I[6]=n):n=I[6];let[eu,em]=(0,r.useState)(n),[eg,ex]=(0,r.useState)(null);I[7]!==K||I[8]!==l?(u=()=>{let e=f(K,l);er(e),ea(!1),em(p(e)),ex(null)},h=[K,l],I[7]=K,I[8]=l,I[9]=u,I[10]=h):(u=I[9],h=I[10]),(0,r.useEffect)(u,h),I[11]!==l||I[12]!==et.locale?(b=()=>{et.locale||er(e=>({...e,locale:l}))},y=[et.locale,l],I[11]=l,I[12]=et.locale,I[13]=b,I[14]=y):(b=I[13],y=I[14]),(0,r.useEffect)(b,y),I[15]!==ed||I[16]!==et?(j=()=>{"form"===ed&&(em(p(et)),ex(null))},S=[et,ed],I[15]=ed,I[16]=et,I[17]=j,I[18]=S):(j=I[17],S=I[18]),(0,r.useEffect)(j,S),I[19]!==ed||I[20]!==K||I[21]!==R||I[22]!==X||I[23]!==l||I[24]!==es||I[25]!==et.locale?(N=async e=>{let t=g(e||l)||l;if(g(et.locale)===t)return void X?.(t);if(X?.(t),"create"===R||!K?.id)return void er(e=>({...e,locale:t}));let r=eo.current=eo.current+1;er(e=>({...e,locale:t}));try{let e=await es({id:K.id,locale:t}).unwrap();if(r!==eo.current)return;let a=f(e,l);a.locale=t,er(a),ea(!1),"json"===ed&&(em(p(a)),ex(null))}catch(e){if(r!==eo.current)return;404===(e?.status??e?.originalStatus)?a.toast.info("Seçilen dil için kayıt bulunamadı; bu dilde yeni içerik oluşturabilirsin."):a.toast.error("Seçilen dil için kayıt yüklenirken bir hata oluştu.")}},I[19]=ed,I[20]=K,I[21]=R,I[22]=X,I[23]=l,I[24]=es,I[25]=et.locale,I[26]=N):N=I[26];let ef=N;I[27]!==Z||I[28]!==l?(_=e=>{let t=e.question.trim(),r=e.answer.trim(),i=e.slug.trim();t&&r&&i?Z({...e,locale:g(e.locale||l)||l,question:t,answer:r,slug:i,display_order:Number.isFinite(e.display_order)?e.display_order:0}):a.toast.error("Question, Answer ve Slug alanları zorunludur.")},I[27]=Z,I[28]=l,I[29]=_):_=I[29];let ep=_;I[30]!==ei||I[31]!==ed||I[32]!==eg||I[33]!==eu||I[34]!==l||I[35]!==ep||I[36]!==et?(w=e=>{let t,r,i,s;if(e.preventDefault(),ei)return;if("form"===ed)return void ep(et);if(eg)return void a.toast.error("JSON geçersiz. Lütfen hatayı düzelt.");let n=(t=g(l||"de")||"de",r={...et??{id:void 0,locale:t,is_active:!0,display_order:0,question:"",answer:"",slug:""}},s=g((i=eu??{}).locale??r.locale??t)||t,r.locale=s,void 0!==i.is_active&&(r.is_active=!!i.is_active),void 0!==i.display_order&&(r.display_order=x(i.display_order,0)),void 0!==i.question&&(r.question=String(i.question??"")),void 0!==i.answer&&(r.answer=String(i.answer??"")),void 0!==i.slug&&(r.slug=String(i.slug??"")),r);(function(e){let t=e.question.trim(),r=e.answer.trim(),l=e.slug.trim();return!!t&&!!r&&!!l})(n)?(er(n),ea(!0),ep(n)):a.toast.error("JSON içinde Question, Answer ve Slug alanları zorunludur.")},I[30]=ei,I[31]=ed,I[32]=eg,I[33]=eu,I[34]=l,I[35]=ep,I[36]=et,I[37]=w):w=I[37];let eh=w;I[38]!==H?(k=H??[],I[38]=H,I[39]=k):k=I[39],I[40]!==k?(C=k.map(v),I[40]=k,I[41]=C):C=I[41];let ev=C,eb=en.isLoading||en.isFetching,ey=!ei,ej=!ei;I[42]!==ej||I[43]!==ey||I[44]!==ed||I[45]!==eg||I[46]!==et?(A=()=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",className:["rounded-md border px-3 py-1 text-xs","form"===ed?"bg-muted text-foreground":"bg-background text-muted-foreground",!ej?"opacity-60":""].join(" "),onClick:()=>ec("form"),disabled:!ej,children:"Form"}),(0,t.jsx)("button",{type:"button",className:["rounded-md border px-3 py-1 text-xs","json"===ed?"bg-muted text-foreground":"bg-background text-muted-foreground",!ey?"opacity-60":""].join(" "),onClick:()=>{em(p(et)),ex(null),ec("json")},disabled:!ey,children:"JSON"}),"json"===ed?(0,t.jsx)("span",{className:"ml-2 text-[11px] text-muted-foreground",children:eg?"JSON hatalı":"JSON hazır"}):null]}),I[42]=ej,I[43]=ey,I[44]=ed,I[45]=eg,I[46]=et,I[47]=A):A=I[47];let eS=A,eN="create"===R?"Yeni FAQ Oluştur":"FAQ Düzenle";I[48]!==eN?(L=(0,t.jsx)("div",{className:"text-sm font-semibold",children:eN}),I[48]=eN,I[49]=L):L=I[49];let e_="form"===ed?"Locale, aktiflik, sıralama, soru/cevap ve slug alanlarını doldur.":"İstek payload’ını JSON olarak düzenle ve kaydet.";I[50]!==e_?(q=(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e_}),I[50]=e_,I[51]=q):q=I[51],I[52]!==L||I[53]!==q?(O=(0,t.jsxs)("div",{className:"min-w-0",children:[L,q]}),I[52]=L,I[53]=q,I[54]=O):O=I[54],I[55]!==eS?(z=eS(),I[55]=eS,I[56]=z):z=I[56],I[57]===Symbol.for("react.memo_cache_sentinel")?(F=(0,t.jsx)("div",{className:"h-4 w-px bg-border mx-1 hidden lg:block"}),I[57]=F):F=I[57],I[58]!==ei||I[59]!==ee?(J=ee?(0,t.jsx)("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:ee,disabled:ei,children:"Geri"}):null,I[58]=ei,I[59]=ee,I[60]=J):J=I[60];let ew=Y?"create"===R?"Oluşturuluyor...":"Kaydediliyor...":"create"===R?"Oluştur":"Kaydet";I[61]!==ei||I[62]!==ew?(M=(0,t.jsx)("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-xs text-primary-foreground disabled:opacity-60",disabled:ei,children:ew}),I[61]=ei,I[62]=ew,I[63]=M):M=I[63],I[64]!==V||I[65]!==eb?(B=V||eb?(0,t.jsx)("span",{className:"rounded-full border px-2 py-0.5 text-[11px] text-muted-foreground",children:eb?"Dil değiştiriliyor...":"Yükleniyor..."}):null,I[64]=V,I[65]=eb,I[66]=B):B=I[66],I[67]!==z||I[68]!==J||I[69]!==M||I[70]!==B?(D=(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[z,F,J,M,B]}),I[67]=z,I[68]=J,I[69]=M,I[70]=B,I[71]=D):D=I[71],I[72]!==O||I[73]!==D?(Q=(0,t.jsx)("div",{className:"border-b p-3",children:(0,t.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[O,D]})}),I[72]=O,I[73]=D,I[74]=Q):Q=I[74];let ek=!!P,eC=ei||!!P&&!ev.length||eb;return I[75]!==ef||I[76]!==ev||I[77]!==ek||I[78]!==eC||I[79]!==et.locale?(E=(0,t.jsx)(c.AdminLocaleSelect,{value:et.locale,onChange:ef,options:ev,loading:ek,disabled:eC,label:"Dil"}),I[75]=ef,I[76]=ev,I[77]=ek,I[78]=eC,I[79]=et.locale,I[80]=E):E=I[80],I[81]!==ei||I[82]!==ed||I[83]!==K||I[84]!==eu||I[85]!==el||I[86]!==eb||I[87]!==et.answer||I[88]!==et.display_order||I[89]!==et.is_active||I[90]!==et.question||I[91]!==et.slug?(U="json"===ed?(0,t.jsx)(m,{jsonModel:eu,disabled:ei||eb,onChangeJson:e=>em(e),onErrorChange:e=>ex(e)}):(0,t.jsxs)("div",{className:"grid gap-4 lg:grid-cols-12",children:[(0,t.jsx)("div",{className:"lg:col-span-8 space-y-4",children:(0,t.jsxs)("div",{className:"rounded-lg border bg-card p-3 space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-end",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{id:"is_active",type:"checkbox",className:"h-4 w-4",checked:et.is_active,onChange:e=>er(t=>({...t,is_active:e.target.checked})),disabled:ei}),(0,t.jsx)("span",{children:"Aktif"})]}),(0,t.jsxs)("div",{className:"md:ml-auto w-full md:w-56",children:[(0,t.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Sıralama (display_order)"}),(0,t.jsx)("input",{type:"number",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:et.display_order,onChange:e=>er(t=>({...t,display_order:x(e.target.value,0)})),disabled:ei})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Question"}),(0,t.jsx)("input",{type:"text",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:et.question,onChange:e=>{let t=e.target.value;er(e=>{let r={...e,question:t};return el||(r.slug=(e=>{if(!e)return"";let t=e.trim(),r={ç:"c",Ç:"c",ğ:"g",Ğ:"g",ı:"i",I:"i",İ:"i",ö:"o",Ö:"o",ş:"s",Ş:"s",ü:"u",Ü:"u"};return(t=(t=t.split("").map(e=>r[e]??e).join("")).replace(/ß/g,"ss").replace(/ẞ/g,"ss")).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-")})(t)),r})},disabled:ei,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Slug"}),(0,t.jsx)("input",{type:"text",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:et.slug,onFocus:()=>ea(!0),onChange:e=>{ea(!0),er(t=>({...t,slug:e.target.value}))},disabled:ei,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Answer"}),(0,t.jsx)("textarea",{className:"w-full rounded-md border bg-background px-3 py-2 text-sm",rows:8,value:et.answer,onChange:e=>er(t=>({...t,answer:e.target.value})),disabled:ei,required:!0})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-4",children:(0,t.jsxs)("div",{className:"rounded-lg border bg-card p-3 space-y-2",children:[(0,t.jsx)("div",{className:"text-sm font-semibold",children:"Notlar"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"FAQ modülünde görsel/SEO alanı yok. Bu form sadece backend’deki faq alanlarını yönetir."}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["İstersen üstten ",(0,t.jsx)("code",{children:"JSON"})," moduna geçip payload’ı direkt düzenleyebilirsin."]}),K?.created_at?(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Oluşturulma: ",(0,t.jsx)("code",{children:K.created_at})]}):null,K?.updated_at?(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Güncelleme: ",(0,t.jsx)("code",{children:K.updated_at})]}):null]})})]}),I[81]=ei,I[82]=ed,I[83]=K,I[84]=eu,I[85]=el,I[86]=eb,I[87]=et.answer,I[88]=et.display_order,I[89]=et.is_active,I[90]=et.question,I[91]=et.slug,I[92]=U):U=I[92],I[93]!==E||I[94]!==U?($=(0,t.jsxs)("div",{className:"p-3 space-y-4",children:[E,U]}),I[93]=E,I[94]=U,I[95]=$):$=I[95],I[96]!==Q||I[97]!==$?(T=(0,t.jsxs)("div",{className:"rounded-lg border bg-card",children:[Q,$]}),I[96]=Q,I[97]=$,I[98]=T):T=I[98],I[99]!==eh||I[100]!==T?(G=(0,t.jsx)("form",{onSubmit:eh,className:"space-y-4",children:T}),I[99]=eh,I[100]=T,I[101]=G):G=I[101],G};function v(e){return{value:g(e.value),label:e.label}}function b(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)}function y({id:e}){let d=(0,l.useRouter)(),c="new"===String(e),{localeOptions:u,defaultLocaleFromDb:m,loading:g,fetching:x}=(0,i.useAdminLocales)(),f=r.useMemo(()=>(0,s.resolveAdminApiLocale)(u,m,"tr"),[u,m]),p=r.useMemo(()=>new Set((u??[]).map(e=>(0,n.localeShortClient)(e.value)).filter(Boolean)),[u]),[v,y]=r.useState("");r.useEffect(()=>{u&&0!==u.length&&y(e=>{let t=(0,n.localeShortClient)(e);return t&&p.has(t)?t:(0,n.localeShortClientOr)(f,"tr")})},[u,p,f]);let j=r.useMemo(()=>{let e=(0,n.localeShortClient)(v);return e&&p.has(e)?e:(0,n.localeShortClientOr)(f,"tr")},[v,p,f]),S=!g&&!x,N=(u?.length??0)>0,[_,w]=(0,o.useLazyGetFaqAdminQuery)(),[k,C]=r.useState(void 0);r.useEffect(()=>{let t=!0;return async function(){if(!S||!N)return;if(c)return C(void 0);let r=String(e||"");if(b(r))try{let e=await _({id:r,locale:j}).unwrap();if(!t)return;C(e)}catch{if(!t)return;C(void 0)}}(),()=>{t=!1}},[e,c,S,N,j,_]);let[A,L]=(0,o.useCreateFaqAdminMutation)(),[q,O]=(0,o.useUpdateFaqAdminMutation)(),z=g||x||w.isLoading||w.isFetching,F=L.isLoading||O.isLoading,J=z||F,M=r.useMemo(()=>(u??[]).map(e=>({value:String(e.value??""),label:String(e.label??e.value??"")})),[u]),B=c?"create":"edit",D=()=>d.push("/admin/faqs"),Q=async t=>{try{let r=(0,n.localeShortClientOr)(t.locale||j||f,"tr");if(p.size>0&&!p.has((0,n.localeShortClient)(r)))return void a.toast.error("Geçerli bir locale seçilmedi. app_locales ve default_locale kontrol edin.");if("create"===B){let e={locale:r,is_active:+!!t.is_active,display_order:t.display_order??0,question:t.question.trim(),answer:t.answer.trim(),slug:t.slug.trim()},l=await A(e).unwrap(),i=String(l?.id??"").trim();if(!i||!b(i))return void a.toast.error("Oluşturuldu ama id dönmedi/UUID değil. Backend response'u kontrol et.");a.toast.success("FAQ başarıyla oluşturuldu."),d.replace(`/admin/faqs/${encodeURIComponent(i)}`),d.refresh();return}let l=k?.id||t.id||e;if(!l||!b(String(l)))return void a.toast.error("FAQ verisi yüklenemedi (id yok).");let i={locale:r,is_active:+!!t.is_active,display_order:t.display_order??0,question:t.question.trim(),answer:t.answer.trim(),slug:t.slug.trim()};await q({id:String(l),patch:i}).unwrap(),a.toast.success("FAQ güncellendi."),r!==j&&y(r)}catch(e){a.toast.error(function(e){let t=e?.data?.error?.message;if("string"==typeof t&&t.trim())return t;let r=e?.data?.message;if("string"==typeof r&&r.trim())return r;let l=e?.error;return"string"==typeof l&&l.trim()?l:"İşlem başarısız. Lütfen tekrar deneyin."}(e))}};return S&&!N?(0,t.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,t.jsx)("div",{className:"text-sm font-semibold",children:"Dil listesi bulunamadı"}),(0,t.jsxs)("div",{className:"mt-1 text-sm text-muted-foreground",children:[(0,t.jsx)("code",{children:"site_settings.app_locales"})," boş veya geçersiz. Önce Site Settings’ten dilleri ayarlayın."]})]}):c||b(String(e||""))?(0,t.jsx)(h,{mode:B,initialData:k,loading:J,saving:F,locales:M,localesLoading:g||x,defaultLocale:j||f||"tr",onLocaleChange:e=>y((0,n.localeShortClientOr)(e,"tr")),onSubmit:Q,onCancel:D}):(0,t.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,t.jsx)("div",{className:"text-sm font-semibold",children:"Geçersiz ID"}),(0,t.jsxs)("div",{className:"mt-1 text-sm text-muted-foreground",children:["UUID değil: ",(0,t.jsx)("code",{children:String(e||"-")})]}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)("button",{className:"rounded-md border px-3 py-2 text-xs",onClick:D,children:"Listeye dön"})})]})}e.s(["default",()=>y],11405)}]);
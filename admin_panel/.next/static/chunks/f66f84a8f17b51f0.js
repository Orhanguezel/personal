(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32623,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(71645),i=e.i(46696),l=e.i(55436),n=e.i(90092),r=e.i(42825),d=e.i(19455),o=e.i(93479),c=e.i(10204),m=e.i(87486),u=e.i(15288),g=e.i(77572),p=e.i(67489),x=e.i(22016),h=e.i(84774);function f(e){let t=function(e){if(null==e||"object"==typeof e)return e;if("string"==typeof e){let t=e.trim();if(!t||!(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")))return e;try{return JSON.parse(t)}catch{}}return e}(e);if(null==t)return"—";if("string"==typeof t){let e=t.trim();return e.length<=80?e:`${e.slice(0,77)}...`}if("number"==typeof t||"boolean"==typeof t)return String(t);if(Array.isArray(t))return 0===t.length?"[]":`Array [${t.length} items]`;if("object"==typeof t){let e=Object.keys(t);return 0===e.length?"{}":e.length<=3?`{ ${e.join(", ")} }`:`Object {${e.length} fields}`}try{let e=JSON.stringify(t);if(e.length<=80)return e;return`${e.slice(0,77)}...`}catch{return String(t)}}function y(e){if(!e)return"—";try{return new Date(e).toLocaleString()}catch{return"—"}}let j=e=>{let a,i,l,n,r,o,c,g,p,j,v,_,S,N,w,C,k,T,L,B=(0,s.c)(50),{settings:z,loading:A,onEdit:I,onDelete:M,getEditHref:O,selectedLocale:R}=e;e:{let e;B[0]!==z?(e=Array.isArray(z)?z:[],B[0]=z,B[1]=e):e=B[1];let t=e;if("*"===R){let e;B[2]!==t?(e=t.filter(b),B[2]=t,B[3]=e):e=B[3],a=e;break e}a=t}let F=a,E=F.length>0;B[4]!==O||B[5]!==I?(i=e=>{let s=O?.(e);return s?(0,t.jsx)(d.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,t.jsx)(x.default,{prefetch:!1,href:s,children:"Düzenle"})}):I?(0,t.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>I(e),children:"Düzenle"}):null},B[4]=O,B[5]=I,B[6]=i):i=B[6];let $=i;B[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(u.CardTitle,{className:"text-base",children:"Ayar Listesi"}),B[7]=l):l=B[7],B[8]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsxs)("span",{className:"text-muted-foreground",children:[(0,t.jsx)("code",{children:"site_settings"})," kayıtları"]}),B[8]=n):n=B[8];let H=R||"—";B[9]!==H?(r=(0,t.jsxs)("span",{className:"text-muted-foreground",children:["(",(0,t.jsx)("span",{className:"font-medium text-foreground",children:H}),")"]}),B[9]=H,B[10]=r):r=B[10],B[11]!==R?(o="*"===R?(0,t.jsxs)("span",{className:"text-muted-foreground",children:[" ","• SEO anahtarları bu listede gizlenir; SEO tab’ında yönetilir."]}):null,B[11]=R,B[12]=o):o=B[12],B[13]!==r||B[14]!==o?(c=(0,t.jsxs)("div",{className:"space-y-1",children:[l,(0,t.jsxs)(u.CardDescription,{className:"text-sm",children:[n," ",r,o]})]}),B[13]=r,B[14]=o,B[15]=c):c=B[15],B[16]!==R?(g=R?(0,t.jsx)(m.Badge,{variant:"secondary",children:R}):null,B[16]=R,B[17]=g):g=B[17],B[18]!==A?(p=A?(0,t.jsx)(m.Badge,{variant:"outline",children:"Yükleniyor…"}):null,B[18]=A,B[19]=p):p=B[19],B[20]!==p||B[21]!==g?(j=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[g,p]}),B[20]=p,B[21]=g,B[22]=j):j=B[22],B[23]!==j||B[24]!==c?(v=(0,t.jsx)(u.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[c,j]})}),B[23]=j,B[24]=c,B[25]=v):v=B[25],B[26]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)(h.TableHeader,{children:(0,t.jsxs)(h.TableRow,{children:[(0,t.jsx)(h.TableHead,{className:"w-[25%]",children:"Key"}),(0,t.jsx)(h.TableHead,{className:"w-[8%]",children:"Dil"}),(0,t.jsx)(h.TableHead,{className:"w-[35%]",children:"Değer (Özet)"}),(0,t.jsx)(h.TableHead,{className:"w-[15%]",children:"Güncellenme"}),(0,t.jsx)(h.TableHead,{className:"w-[17%] text-right",children:"İşlemler"})]})}),B[26]=_):_=B[26],B[27]!==F||B[28]!==E||B[29]!==M||B[30]!==$?(S=E?F.map(e=>(0,t.jsxs)(h.TableRow,{children:[(0,t.jsx)(h.TableCell,{className:"align-top font-medium wrap-break-word",children:e.key}),(0,t.jsx)(h.TableCell,{className:"align-top",children:e.locale?(0,t.jsx)(m.Badge,{variant:"outline",children:e.locale}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"—"})}),(0,t.jsx)(h.TableCell,{className:"align-top",children:(0,t.jsx)("div",{className:"max-w-md overflow-hidden text-ellipsis text-xs text-muted-foreground",children:(0,t.jsx)("code",{className:"rounded bg-muted px-1.5 py-0.5",children:f(e.value)})})}),(0,t.jsx)(h.TableCell,{className:"align-top",children:(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:y(e.updated_at)})}),(0,t.jsx)(h.TableCell,{className:"align-top text-right",children:(0,t.jsxs)("div",{className:"inline-flex items-center gap-2",children:[$(e),M?(0,t.jsx)(d.Button,{type:"button",variant:"destructive",size:"sm",onClick:()=>M(e),children:"Sil"}):null]})})]},`${e.key}_${e.locale||"none"}`)):(0,t.jsx)(h.TableRow,{children:(0,t.jsx)(h.TableCell,{colSpan:5,className:"py-10 text-center text-muted-foreground",children:"Kayıt bulunamadı."})}),B[27]=F,B[28]=E,B[29]=M,B[30]=$,B[31]=S):S=B[31],B[32]!==S?(N=(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(h.Table,{children:[_,(0,t.jsx)(h.TableBody,{children:S})]})})}),B[32]=S,B[33]=N):N=B[33],B[34]!==F||B[35]!==E||B[36]!==M||B[37]!==$?(w=(0,t.jsx)("div",{className:"rounded-md border",children:E?(0,t.jsx)("div",{className:"divide-y",children:F.map(e=>{let s=$(e);return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"flex items-start justify-between gap-3",children:(0,t.jsxs)("div",{className:"min-w-0 space-y-2",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("div",{className:"font-medium wrap-break-word",children:e.key}),e.locale?(0,t.jsx)(m.Badge,{variant:"outline",children:e.locale}):null]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground wrap-break-word",children:f(e.value)}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Güncellenme: ",y(e.updated_at)]})]})}),s||M?(0,t.jsxs)("div",{className:"mt-4 grid gap-2",children:[s?(0,t.jsx)("div",{className:"grid",children:s}):null,M?(0,t.jsx)(d.Button,{type:"button",variant:"destructive",size:"sm",onClick:()=>M(e),children:"Sil"}):null]}):null]},`${e.key}_${e.locale||"none"}`)})}):(0,t.jsx)("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"Kayıt bulunamadı."})}),B[34]=F,B[35]=E,B[36]=M,B[37]=$,B[38]=w):w=B[38];let D="*"===R?" SEO anahtarları burada da gizlidir.":"";return B[39]!==D?(C=(0,t.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground",children:["Mobil görünümde kayıtlar kart formatında listelenir.",D]}),B[39]=D,B[40]=C):C=B[40],B[41]!==w||B[42]!==C?(k=(0,t.jsxs)("div",{className:"md:hidden",children:[w,C]}),B[41]=w,B[42]=C,B[43]=k):k=B[43],B[44]!==N||B[45]!==k?(T=(0,t.jsxs)(u.CardContent,{className:"space-y-4",children:[N,k]}),B[44]=N,B[45]=k,B[46]=T):T=B[46],B[47]!==v||B[48]!==T?(L=(0,t.jsxs)(u.Card,{children:[v,T]}),B[47]=v,B[48]=T,B[49]=L):L=B[49],L};function b(e){let t;return e&&!((t=String(e.key||"").trim().toLowerCase())&&("seo"===t||"site_seo"===t||"site_meta_default"===t||t.startsWith("seo_")||t.startsWith("seo|")||t.startsWith("site_seo|")||t.startsWith("ui_seo")||t.startsWith("ui_seo_")))}j.displayName="SiteSettingsList",e.i(70272);var v=e.i(14321);let _=["contact_info","socials","businessHours","company_profile","ui_header"],S={contact_info:{phone:"",email:"",address:"",whatsapp:""},socials:{instagram:"",facebook:"",linkedin:"",youtube:"",x:""},businessHours:[{day:"mon",open:"09:00",close:"18:00",closed:!1},{day:"tue",open:"09:00",close:"18:00",closed:!1},{day:"wed",open:"09:00",close:"18:00",closed:!1},{day:"thu",open:"09:00",close:"18:00",closed:!1},{day:"fri",open:"09:00",close:"18:00",closed:!1},{day:"sat",open:"10:00",close:"14:00",closed:!1},{day:"sun",open:"00:00",close:"00:00",closed:!0}],company_profile:{company_name:"guezelwebdesign",slogan:"",about:""},ui_header:{nav_home:"Home",nav_products:"Products",nav_services:"Services",nav_contact:"Contact",cta_label:"Get Offer"}};function N(e){return _.includes(e)}function w(e){if(null==e)return"";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return String(e);try{return JSON.stringify(e,null,2)}catch{return String(e)}}function C(e,t){return e?.data?.error?.message||e?.data?.message||e?.message||t}let k=({locale:e})=>{let[s,g]=a.useState(""),[p,{isLoading:f}]=(0,v.useUpdateSiteSettingAdminMutation)(),[y,{isLoading:j}]=(0,v.useDeleteSiteSettingAdminMutation)(),b=(0,r.useAdminTranslations)(e),k=a.useMemo(()=>({locale:"*",q:s.trim()||void 0,keys:_}),[s]),T=a.useMemo(()=>({locale:e,q:s.trim()||void 0,keys:_}),[e,s]),L=(0,v.useListSiteSettingsAdminQuery)(k,{skip:!e}),B=(0,v.useListSiteSettingsAdminQuery)(T,{skip:!e}),z=a.useMemo(()=>[...Array.isArray(L.data)?L.data:[],...Array.isArray(B.data)?B.data:[]],[L.data,B.data]),A=a.useMemo(()=>{let t=Array.isArray(z)?z:[],a=s.trim().toLowerCase(),i=(a&&a.length>=2?t.filter(e=>{if(!e||!N(e.key))return!1;let t=String(e.key||"").toLowerCase(),s=w(e.value).toLowerCase();return t.includes(a)||s.includes(a)}):t.filter(e=>e&&N(e.key))).filter(e=>e&&N(e.key)),l=new Map;for(let t of i){let s=t.key,a=l.get(s)||{};"*"===t.locale&&(a.global=t),t.locale===e&&(a.local=t),l.set(s,a)}return _.map(e=>{let t=l.get(e)||{},s=t.local?"locale":t.global?"global":"none",a="locale"===s?t.local?.value:"global"===s?t.global?.value:void 0;return{key:e,globalRow:t.global,localeRow:t.local,effectiveSource:s,effectiveValue:a}})},[z,e,s]),I=L.isLoading||B.isLoading||L.isFetching||B.isFetching||f||j,M=async()=>{await Promise.all([L.refetch(),B.refetch()])},O=async t=>{if(!t.globalRow)return void i.toast.error(b("admin.siteSettings.general.missingGlobalError"));try{await p({key:t.key,locale:e,value:t.globalRow.value}).unwrap(),i.toast.success(b("admin.siteSettings.general.overrideCreated",{key:t.key,locale:e})),await M()}catch(e){i.toast.error(C(e,b("admin.siteSettings.messages.error")))}},R=async(e,t)=>{try{await p({key:e,locale:t,value:S[e]}).unwrap(),i.toast.success(b("admin.siteSettings.general.defaultsRestored",{key:e,locale:t})),await M()}catch(e){i.toast.error(C(e,b("admin.siteSettings.messages.error")))}},F=async(e,t)=>{if(window.confirm(b("admin.siteSettings.general.deleteConfirm",{key:e,locale:t})))try{await y({key:e,locale:t}).unwrap(),i.toast.success(b("admin.siteSettings.general.deleted",{key:e,locale:t})),await M()}catch(e){i.toast.error(C(e,b("admin.siteSettings.messages.error")))}},E=async()=>{try{for(let e of _)A.find(t=>t.key===e)?.globalRow||await p({key:e,locale:"*",value:S[e]}).unwrap();i.toast.success(b("admin.siteSettings.general.globalBootstrapSuccess")),await M()}catch(e){i.toast.error(C(e,b("admin.siteSettings.messages.error")))}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(u.CardTitle,{className:"text-base",children:b("admin.siteSettings.general.title")}),(0,t.jsx)(u.CardDescription,{children:b("admin.siteSettings.general.description",{locale:e})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)(m.Badge,{variant:"secondary",children:[b("admin.siteSettings.filters.language"),": ",e]}),(0,t.jsxs)(d.Button,{type:"button",variant:"outline",onClick:M,disabled:I,title:b("admin.siteSettings.filters.refreshButton"),children:[(0,t.jsx)(n.RefreshCcw,{className:"mr-2 size-4"}),b("admin.siteSettings.filters.refreshButton")]}),(0,t.jsx)(d.Button,{type:"button",variant:"outline",onClick:E,disabled:I,title:b("admin.siteSettings.general.globalBootstrapTooltip"),children:b("admin.siteSettings.general.globalBootstrap")})]})]})}),(0,t.jsxs)(u.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"general-search",children:b("admin.siteSettings.filters.search")}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Search,{className:"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(o.Input,{id:"general-search",value:s,onChange:e=>g(e.target.value),placeholder:b("admin.siteSettings.general.searchPlaceholder"),className:"pl-9",disabled:I})]})]}),I?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Badge,{variant:"outline",children:b("admin.siteSettings.messages.loading")}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:b("admin.siteSettings.general.loadingNote")})]}):null]})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsx)(u.CardTitle,{className:"text-base",children:b("admin.siteSettings.general.recordsTitle")}),(0,t.jsxs)(u.CardDescription,{children:[b("admin.siteSettings.general.managedKeys")," ",(0,t.jsx)("span",{className:"text-muted-foreground",children:_.map(e=>(0,t.jsx)("code",{className:"mr-2",children:e},e))})]})]}),(0,t.jsxs)(u.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(h.Table,{children:[(0,t.jsx)(h.TableHeader,{children:(0,t.jsxs)(h.TableRow,{children:[(0,t.jsx)(h.TableHead,{className:"w-[24%]",children:b("admin.siteSettings.general.keyColumn")}),(0,t.jsx)(h.TableHead,{className:"w-[16%]",children:b("admin.siteSettings.general.sourceColumn")}),(0,t.jsx)(h.TableHead,{className:"w-[40%]",children:b("admin.siteSettings.general.effectiveColumn")}),(0,t.jsx)(h.TableHead,{className:"w-[20%] text-right",children:b("admin.siteSettings.general.actionsColumn")})]})}),(0,t.jsx)(h.TableBody,{children:A.length?A.map(s=>{var a,i;let l=!!s.globalRow,n=!!s.localeRow,r=n?e:"*";return(0,t.jsxs)(h.TableRow,{children:[(0,t.jsxs)(h.TableCell,{className:"align-top",children:[(0,t.jsx)("div",{className:"wrap-break-word font-mono text-sm font-medium",children:s.key}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[(0,t.jsx)(m.Badge,{variant:"outline",className:"text-xs",children:l?b("admin.siteSettings.general.globalExists"):b("admin.siteSettings.general.globalNotExists")}),(0,t.jsx)(m.Badge,{variant:"outline",className:"text-xs",children:n?b("admin.siteSettings.general.localeExists",{locale:e}):b("admin.siteSettings.general.localeNotExists",{locale:e})})]})]}),(0,t.jsx)(h.TableCell,{className:"align-top",children:"locale"===(a=s.effectiveSource)?(0,t.jsx)(m.Badge,{children:b("admin.siteSettings.general.sourceOverride")}):"global"===a?(0,t.jsx)(m.Badge,{variant:"secondary",children:b("admin.siteSettings.general.sourceGlobal")}):(0,t.jsx)(m.Badge,{variant:"outline",children:b("admin.siteSettings.general.sourceNone")})}),(0,t.jsxs)(h.TableCell,{className:"align-top",children:[(0,t.jsx)("div",{className:"max-w-md overflow-hidden wrap-break-word text-xs text-muted-foreground",children:(0,t.jsx)("code",{className:"rounded bg-muted px-1.5 py-0.5",children:function(e){if(void 0===e)return"";let t=w(e);return t.length<=180?t:`${t.slice(0,177)}...`}(s.effectiveValue)})}),"global"!==s.effectiveSource||n?null:(0,t.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:b("admin.siteSettings.general.noOverrideNote",{locale:e})})]}),(0,t.jsx)(h.TableCell,{className:"align-top",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-wrap justify-end gap-1",children:[(0,t.jsx)(d.Button,{asChild:!0,variant:"outline",size:"sm",disabled:I||!(l||n),children:(0,t.jsx)(x.default,{prefetch:!1,href:(i=s.key,`/admin/site-settings/${encodeURIComponent(i)}?locale=${encodeURIComponent(r)}`),children:b("admin.siteSettings.actions.edit")})}),!n&&l?(0,t.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>O(s),disabled:I,children:b("admin.siteSettings.general.overrideButton")}):null,l||n?(0,t.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>R(s.key,n?e:"*"),disabled:I,title:b("admin.siteSettings.general.restoreTooltip"),children:b("admin.siteSettings.general.restoreButton")}):null]}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-end gap-1",children:[(0,t.jsx)(d.Button,{type:"button",variant:"destructive",size:"sm",onClick:()=>F(s.key,"*"),disabled:I||!l,title:b("admin.siteSettings.general.deleteGlobalTooltip"),children:b("admin.siteSettings.general.deleteGlobal")}),(0,t.jsx)(d.Button,{type:"button",variant:"destructive",size:"sm",onClick:()=>F(s.key,e),disabled:I||!n,title:b("admin.siteSettings.general.deleteLocaleTooltip",{locale:e}),children:b("admin.siteSettings.general.deleteLocale")})]})]})})]},`group_${s.key}`)}):(0,t.jsx)(h.TableRow,{children:(0,t.jsxs)(h.TableCell,{colSpan:4,className:"py-10 text-center text-muted-foreground",children:[b("admin.siteSettings.general.noRecords"),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:E,disabled:I,children:b("admin.siteSettings.general.globalBootstrap")})})]})})})]})}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:b("admin.siteSettings.general.deleteTooltip")})]})]})]})};k.displayName="GeneralSettingsTab",e.i(47167);var T=e.i(50270);let L=T.z.string().trim().min(1),B=T.z.object({type:T.z.enum(["website","article","product"]).default("website"),images:T.z.array(T.z.string().trim().min(1)).default([])}).strict(),z=T.z.object({card:T.z.enum(["summary","summary_large_image","app","player"]).default("summary_large_image"),site:T.z.string().trim().optional(),creator:T.z.string().trim().optional()}).strict(),A=T.z.object({noindex:T.z.boolean().default(!1),index:T.z.boolean().default(!0),follow:T.z.boolean().default(!0)}).strict();T.z.object({site_name:L,title_default:L,title_template:L,description:T.z.string().trim().optional(),open_graph:B.default({type:"website",images:["/img/og-default.jpg"]}),twitter:z.default({card:"summary_large_image",site:"",creator:""}),robots:A.default({noindex:!1,index:!0,follow:!0})}).strict(),T.z.object({title:L,description:L,keywords:T.z.string().trim().optional()}).strict();let I={site_name:"guezelwebdesign Industrial Cooling Towers",title_default:"guezelwebdesign Industrial Cooling Towers and Engineering",title_template:"%s – guezelwebdesign",description:"Industrial cooling towers, engineering, installation and service solutions for efficient process cooling.",open_graph:{type:"website",images:["/img/og-default.jpg"]},twitter:{card:"summary_large_image",site:"",creator:""},robots:{noindex:!1,index:!0,follow:!0}},M={tr:{title:"guezelwebdesign – Endüstriyel Su Soğutma Kuleleri ve Mühendislik",description:"Endüstriyel soğutma kuleleri, modernizasyon ve enerji verimliliği çözümleri. Keşif, üretim, montaj, bakım ve yedek parça.",keywords:"guezelwebdesign, endüstriyel, soğutma kulesi, enerji verimliliği, b2b"},en:{title:"guezelwebdesign – Industrial Cooling Towers and Engineering",description:"Industrial cooling towers and energy efficiency solutions. Engineering, manufacturing, installation, modernization, testing and spare parts.",keywords:"guezelwebdesign, industrial, cooling towers, energy efficiency, b2b"},de:{title:"guezelwebdesign – Industrielle Kuehltuerme und Engineering",description:"Industrielle Kuehlturmtechnik und Energieeffizienzloesungen. Planung, Fertigung, Montage, Modernisierung, Leistungstests und Ersatzteile.",keywords:"guezelwebdesign, industriell, kuehlturm, energieeffizienz, b2b"}};var O=e.i(1695);function R(e){if(null==e)return"";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return String(e);try{return JSON.stringify(e,null,2)}catch{return String(e)}}let F=["seo","site_seo","site_meta_default"];function E(e){if(void 0===e)return"";let t=R(e);return t.length<=180?t:t.slice(0,180)+"..."}function $(e,t){return`/admin/site-settings/${encodeURIComponent(e)}?locale=${encodeURIComponent(t)}`}let H=e=>null==e?"":String(e).trim();async function D(e){let t=H(e);if(t)try{await navigator.clipboard.writeText(t),i.toast.success("URL kopyalandı.")}catch{i.toast.error("Kopyalama başarısız. Tarayıcı izni engelliyor olabilir.")}}let G=({locale:e})=>{let[s,n]=(0,a.useState)(""),r=(0,a.useMemo)(()=>({locale:"*",q:s.trim()||void 0}),[s]),g=(0,a.useMemo)(()=>({locale:e,q:s.trim()||void 0}),[e,s]),p=(0,a.useMemo)(()=>({locale:"*",keys:["site_og_default_image"],sort:"key",order:"asc",limit:1,offset:0}),[]),f=(0,v.useListSiteSettingsAdminQuery)(r,{skip:!e,refetchOnMountOrArgChange:!0}),y=(0,v.useListSiteSettingsAdminQuery)(g,{skip:!e,refetchOnMountOrArgChange:!0}),j=(0,v.useListSiteSettingsAdminQuery)(p,{refetchOnMountOrArgChange:!0}),b=(0,a.useMemo)(()=>[...Array.isArray(f.data)?f.data:[],...Array.isArray(y.data)?y.data:[]],[f.data,y.data]),_=(0,a.useMemo)(()=>{let t=b||[],a=s.trim().toLowerCase();return function(e,t){let s,a=e.filter(e=>{let t;return e&&!!(t=String(e.key||"").trim().toLowerCase())&&("seo"===t||"site_seo"===t||"site_meta_default"===t||t.startsWith("seo_")||t.startsWith("seo|")||t.startsWith("site_seo|")||t.startsWith("ui_seo")||t.startsWith("ui_seo_"))}),i=(s=Array.from(new Set(a.map(e=>e.key).filter(Boolean))),[...F.filter(e=>s.includes(e)),...s.filter(e=>!F.includes(e)).sort((e,t)=>e.localeCompare(t))]),l=new Map;for(let e of a){let s=l.get(e.key)||{};"*"===e.locale&&(s.global=e),e.locale===t&&(s.local=e),l.set(e.key,s)}return i.map(e=>{let t=l.get(e)||{},s=t.local?"locale":t.global?"global":"none",a="locale"===s?t.local?.value:"global"===s?t.global?.value:void 0;return{key:e,globalRow:t.global,localeRow:t.local,effectiveSource:s,effectiveValue:a}})}(a&&a.length>=2?t.filter(e=>{let t=String(e?.key||"").toLowerCase(),s=R(e?.value).toLowerCase();return t.includes(a)||s.includes(a)}):t,e)},[b,e,s]),[S,{isLoading:N}]=(0,v.useUpdateSiteSettingAdminMutation)(),[w,{isLoading:C}]=(0,v.useDeleteSiteSettingAdminMutation)(),k=f.isLoading||y.isLoading||j.isLoading||f.isFetching||y.isFetching||j.isFetching||N||C,T=async()=>{await Promise.all([f.refetch(),y.refetch(),j.refetch()])};(0,a.useEffect)(()=>{e&&T()},[e]);let L=async(e,t)=>{if(window.confirm(`"${e}" (${t}) silinsin mi?`))try{await w({key:e,locale:t}).unwrap(),i.toast.success(`"${e}" (${t}) silindi.`),await T()}catch(t){let e=t?.data?.error?.message||t?.message||"SEO ayarı silinirken hata oluştu.";i.toast.error(e)}},B=async t=>{if(!t.globalRow)return void i.toast.error("GLOBAL (*) kayıt bulunamadı. Önce global değer oluşturmalısın.");if("site_meta_default"===t.key)return void i.toast.error("site_meta_default GLOBAL(*) olamaz. Locale için seed/structured değer yaz.");try{await S({key:t.key,locale:e,value:t.globalRow.value}).unwrap(),i.toast.success(`"${t.key}" i\xe7in ${e} override oluşturuldu (GLOBAL kopyalandı).`),await T()}catch(t){let e=t?.data?.error?.message||t?.message||"Override oluşturulurken hata oluştu.";i.toast.error(e)}},z=async(t,s)=>{try{if("seo"===t)await S({key:t,locale:s,value:I}).unwrap();else if("site_seo"===t)await S({key:t,locale:s,value:I}).unwrap();else{if("site_meta_default"!==t)return void i.toast.error("Bu key için default tanımlı değil.");if("*"===s)return void i.toast.error("site_meta_default global(*) olamaz. Locale seçerek restore et.");let a=M[s]||M[e]||M.de;await S({key:t,locale:s,value:a}).unwrap()}i.toast.success(`"${t}" (${s}) default değerler geri y\xfcklendi.`),await T()}catch(t){let e=t?.data?.error?.message||t?.message||"Default restore hata verdi.";i.toast.error(e)}},A=async()=>{try{for(let e of["seo","site_seo"])_.find(t=>t.key===e)?.globalRow||await S({key:e,locale:"*",value:I}).unwrap();i.toast.success("Eksik GLOBAL SEO kayıtları oluşturuldu."),await T()}catch(t){let e=t?.data?.error?.message||t?.message||"GLOBAL bootstrap hata verdi.";i.toast.error(e)}},G=(0,a.useMemo)(()=>((Array.isArray(j.data)?j.data:[]).find(e=>e&&"site_og_default_image"===e.key)||null)??null,[j.data]),P=(0,a.useMemo)(()=>G?function(e){let t=H(e);if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")||t.startsWith("//"))return t;let s="http://localhost:3000".replace(/\/$/,"");try{return t.startsWith("/")?`${s}${t}`:`${s}/storage/${t}`}catch(e){}return t}(function(e){if(null==e)return"";if("string"==typeof e){let t=e.trim();if(!t)return"";if(!(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")))return t;try{let e=JSON.parse(t);return H(e?.url)||""}catch{return t}}return"object"==typeof e&&H(e?.url)||""}(G.value)):"",[G]),W=async e=>{let t=H(e);if(t)try{let e;await S({key:"site_og_default_image",locale:"*",value:(e=H(t))?{url:e}:null}).unwrap(),i.toast.success("Varsayılan OG görseli güncellendi."),await j.refetch()}catch(t){let e=t?.data?.error?.message||t?.message||"Varsayılan OG görseli kaydedilirken hata oluştu.";i.toast.error(e)}};return(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(u.CardTitle,{className:"text-base",children:"SEO Ayarları"}),(0,t.jsxs)(u.CardDescription,{children:["GLOBAL (",(0,t.jsx)("code",{children:"*"}),") default + seçili dil (",(0,t.jsx)("strong",{children:e}),') override birlikte yönetilir. "Düzenle" butonu form sayfasını açar.']})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)(m.Badge,{variant:"secondary",children:["Dil: ",e]}),(0,t.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:T,disabled:k,children:"Yenile"}),(0,t.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:A,disabled:k,title:"seo / site_seo GLOBAL (*) yoksa default schema ile oluşturur",children:"Global Bootstrap"})]})]})}),(0,t.jsxs)(u.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"rounded-md border p-4",children:[(0,t.jsx)("div",{className:"mb-4 flex items-start justify-between",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-sm font-semibold",children:"Varsayılan OG Görseli (Global)"}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Key: ",(0,t.jsx)("code",{children:"site_og_default_image"})," / ",(0,t.jsx)("code",{children:'locale="*"'})]})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(O.AdminImageUploadField,{label:"",helperText:(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Upload sonrası otomatik kaydedilir. Brand & Media tabındaki"," ",(0,t.jsx)("code",{children:"site_og_default_image"})," ile aynıdır."]}),bucket:"public",folder:"site-media",metadata:{key:"site_og_default_image",scope:"site_settings",locale:"*"},value:P,onChange:e=>void W(e),disabled:k,openLibraryHref:"/admin/storage",previewAspect:"16x9",previewObjectFit:"cover"}),P&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"rounded-md border bg-muted/50 p-3",children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Kayıtlı URL:"}),(0,t.jsx)(d.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>void D(P),disabled:k,children:"Kopyala"})]}),(0,t.jsx)("code",{className:"block wrap-break-word text-xs font-mono leading-relaxed",children:P})]}),(0,t.jsxs)("div",{className:"rounded-md border bg-muted/50 p-3",children:[(0,t.jsx)("div",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Önizleme:"}),(0,t.jsx)("div",{className:"relative aspect-video w-full max-w-sm overflow-hidden rounded border bg-background",children:(0,t.jsx)("img",{src:P,alt:"OG Default Image",className:"h-full w-full object-cover",onError:e=>{let t=e.target;t.style.display="none";let s=t.parentElement;if(s&&!s.querySelector(".error-message")){let e=document.createElement("div");e.className="error-message flex h-full items-center justify-center text-xs text-muted-foreground",e.textContent="Görsel yüklenemedi",s.appendChild(e)}}})})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"seo-search",children:"Ara"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Search,{className:"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(o.Input,{id:"seo-search",type:"text",placeholder:"Key veya değer içinde ara",value:s,onChange:e=>n(e.target.value),disabled:k,className:"pl-9"})]})]}),k&&(0,t.jsx)("div",{children:(0,t.jsx)(m.Badge,{variant:"secondary",children:"Yükleniyor..."})}),(0,t.jsxs)("div",{className:"overflow-x-auto rounded-md border",children:[(0,t.jsxs)(h.Table,{className:"table-fixed",children:[(0,t.jsx)(h.TableHeader,{children:(0,t.jsxs)(h.TableRow,{children:[(0,t.jsx)(h.TableHead,{className:"w-[20%]",children:"Key"}),(0,t.jsx)(h.TableHead,{className:"w-[15%]",children:"Kaynak"}),(0,t.jsx)(h.TableHead,{className:"w-[35%]",children:"Effective (Özet)"}),(0,t.jsx)(h.TableHead,{className:"w-[30%] text-right",children:"İşlemler"})]})}),(0,t.jsx)(h.TableBody,{children:_.length?_.map(s=>{var i;let l,n=!!s.globalRow,r=!!s.localeRow,o=(l=s.localeRow?e:s.globalRow?"*":e,"site_meta_default"===s.key&&"*"===l?e:l),c=$(s.key,o);return(0,t.jsxs)(a.default.Fragment,{children:[(0,t.jsxs)(h.TableRow,{className:"bg-muted/50",children:[(0,t.jsx)(h.TableCell,{className:"font-mono text-sm font-semibold",children:s.key}),(0,t.jsx)(h.TableCell,{children:"locale"===s.effectiveSource?(0,t.jsx)(m.Badge,{variant:"default",children:"Override"}):"global"===s.effectiveSource?(0,t.jsx)(m.Badge,{variant:"secondary",children:"Global"}):(0,t.jsx)(m.Badge,{variant:"outline",children:"Yok"})}),(0,t.jsxs)(h.TableCell,{children:[(0,t.jsx)("div",{className:"wrap-break-word overflow-hidden text-sm text-muted-foreground",children:E(s.effectiveValue)}),"global"===s.effectiveSource&&!r&&(0,t.jsxs)("div",{className:"mt-1 wrap-break-word text-xs text-muted-foreground",children:["Bu key için ",(0,t.jsx)("strong",{children:e})," override yok; GLOBAL (",(0,t.jsx)("code",{children:"*"}),") uygulanıyor."]})]}),(0,t.jsx)(h.TableCell,{className:"align-top",children:(0,t.jsx)("div",{className:"flex flex-col gap-2",children:(0,t.jsxs)("div",{className:"flex flex-wrap justify-end gap-1",children:[(0,t.jsx)(d.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,t.jsx)(x.default,{href:c,children:"Düzenle"})}),!r&&n&&"site_meta_default"!==s.key&&(0,t.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>B(s),disabled:k,children:"Override Oluştur"}),("seo"===(i=s.key)||"site_seo"===i||"site_meta_default"===i)&&(n||r)&&(0,t.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>z(s.key,r?e:"*"),disabled:k,title:"Bu satırın default değerlerini geri yükler",children:"Restore"})]})})})]}),(0,t.jsxs)(h.TableRow,{children:[(0,t.jsx)(h.TableCell,{className:"pl-8 text-sm text-muted-foreground",children:"GLOBAL (*)"}),(0,t.jsx)(h.TableCell,{className:"text-sm text-muted-foreground",children:n?"Var":"Yok"}),(0,t.jsx)(h.TableCell,{className:"wrap-break-word overflow-hidden text-sm text-muted-foreground",children:n?E(s.globalRow?.value):"-"}),(0,t.jsx)(h.TableCell,{className:"align-top",children:(0,t.jsxs)("div",{className:"flex flex-wrap justify-end gap-1",children:[(0,t.jsx)(d.Button,{asChild:!0,variant:"outline",size:"sm",disabled:!n,children:(0,t.jsx)(x.default,{href:$(s.key,"site_meta_default"===s.key?e:"*"),"aria-disabled":!n,tabIndex:n?0:-1,children:"Düzenle"})}),(0,t.jsx)(d.Button,{type:"button",variant:"destructive",size:"sm",disabled:k||!n,onClick:()=>L(s.key,"*"),title:"site_meta_default"===s.key?"Normalde GLOBAL olmaz; varsa silinebilir.":"",children:"Sil"})]})})]}),(0,t.jsxs)(h.TableRow,{children:[(0,t.jsxs)(h.TableCell,{className:"pl-8 text-sm text-muted-foreground",children:["LOCALE (",e,")"]}),(0,t.jsx)(h.TableCell,{className:"text-sm text-muted-foreground",children:r?"Var":"Yok"}),(0,t.jsx)(h.TableCell,{className:"wrap-break-word overflow-hidden text-sm text-muted-foreground",children:r?E(s.localeRow?.value):"-"}),(0,t.jsx)(h.TableCell,{className:"align-top",children:(0,t.jsxs)("div",{className:"flex flex-wrap justify-end gap-1",children:[(0,t.jsx)(d.Button,{asChild:!0,variant:"outline",size:"sm",disabled:!r,children:(0,t.jsx)(x.default,{href:$(s.key,e),"aria-disabled":!r,tabIndex:r?0:-1,children:"Düzenle"})}),(0,t.jsx)(d.Button,{type:"button",variant:"destructive",size:"sm",disabled:k||!r,onClick:()=>L(s.key,e),children:"Sil"})]})})]})]},`group_${s.key}`)}):(0,t.jsx)(h.TableRow,{children:(0,t.jsx)(h.TableCell,{colSpan:4,className:"py-10 text-center",children:(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["SEO kaydı bulunamadı.",(0,t.jsxs)("div",{className:"mt-2",children:["Seed çalıştıysa en az ",(0,t.jsx)("code",{children:"seo"})," ve ",(0,t.jsx)("code",{children:"site_seo"})," GLOBAL satırı görünmelidir."]})]})})})})]}),(0,t.jsx)("div",{className:"border-t p-3",children:(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Not: ",(0,t.jsx)("code",{children:"site_meta_default"})," GLOBAL(*) olamaz; edit linki her zaman locale ile açılır."]})})]})]})]})};var P=e.i(82267),W=e.i(99375),U=e.i(72436);let K=["smtp_host","smtp_port","smtp_username","smtp_password","smtp_from_email","smtp_from_name","smtp_ssl"],Q={smtp_host:"",smtp_port:"",smtp_username:"",smtp_password:"",smtp_from_email:"",smtp_from_name:"",smtp_ssl:!1};function J(e){if(null==e)return"";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return String(e);try{return JSON.stringify(e)}catch{return String(e)}}let V=({locale:e})=>{let s=(0,r.useAdminTranslations)(e),{data:l,isLoading:n,isFetching:g,refetch:p}=(0,v.useListSiteSettingsAdminQuery)({keys:K}),[x,{isLoading:h}]=(0,v.useUpdateSiteSettingAdminMutation)(),[f,{isLoading:y}]=(0,P.useSendTestMailMutation)(),[j,b]=a.default.useState(Q),[_,S]=a.default.useState("");a.default.useEffect(()=>{let e=function(e){let t=new Map;if(e)for(let s of e)t.set(s.key,s);return t}(l),t={...Q};t.smtp_host=J(e.get("smtp_host")?.value),t.smtp_port=J(e.get("smtp_port")?.value),t.smtp_username=J(e.get("smtp_username")?.value),t.smtp_password=J(e.get("smtp_password")?.value),t.smtp_from_email=J(e.get("smtp_from_email")?.value),t.smtp_from_name=J(e.get("smtp_from_name")?.value),t.smtp_ssl=function(e){if(!0===e)return!0;if(!1===e)return!1;if("number"==typeof e)return 1===e;if("string"==typeof e){let t=e.trim().toLowerCase();return"1"===t||"true"===t||"yes"===t||"on"===t}return!1}(e.get("smtp_ssl")?.value),b(t)},[l]);let N=n||g||h||y,w=(e,t)=>{b(s=>({...s,[e]:t}))},C=async()=>{try{for(let e of[{key:"smtp_host",value:j.smtp_host.trim()},{key:"smtp_port",value:j.smtp_port.trim()||""},{key:"smtp_username",value:j.smtp_username.trim()},{key:"smtp_password",value:j.smtp_password},{key:"smtp_from_email",value:j.smtp_from_email.trim()},{key:"smtp_from_name",value:j.smtp_from_name.trim()},{key:"smtp_ssl",value:j.smtp_ssl}])await x({key:e.key,value:e.value}).unwrap();i.toast.success(s("admin.siteSettings.smtp.saved")),await p()}catch(t){let e=t?.data?.error?.message||t?.message||s("admin.siteSettings.smtp.saved");i.toast.error(e)}},k=async()=>{try{let e=_.trim(),t=j.smtp_from_email.trim();e?await f({to:e}).unwrap():t?await f({to:t}).unwrap():await f().unwrap(),i.toast.success(s("admin.siteSettings.smtp.testSent"))}catch(t){let e=t?.data?.error?.details||t?.data?.error?.message||t?.message;i.toast.error(e||s("admin.siteSettings.smtp.testSent"))}};return(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(u.CardTitle,{className:"text-base",children:s("admin.siteSettings.smtp.title")}),(0,t.jsx)(u.CardDescription,{children:s("admin.siteSettings.smtp.description")})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(m.Badge,{variant:"secondary",children:s("admin.siteSettings.smtp.badge",{locale:e||"—"})}),(0,t.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:p,disabled:N,children:s("admin.common.refresh")})]})]})}),(0,t.jsxs)(u.CardContent,{className:"space-y-6",children:[N&&(0,t.jsx)("div",{children:(0,t.jsx)(m.Badge,{variant:"secondary",children:s("admin.common.loading")})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-12",children:[(0,t.jsxs)("div",{className:"space-y-2 md:col-span-6",children:[(0,t.jsx)(c.Label,{htmlFor:"smtp-host",className:"text-sm",children:s("admin.siteSettings.smtp.host")}),(0,t.jsx)(o.Input,{id:"smtp-host",value:j.smtp_host,onChange:e=>w("smtp_host",e.target.value),placeholder:s("admin.siteSettings.smtp.hostPlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-3",children:[(0,t.jsx)(c.Label,{htmlFor:"smtp-port",className:"text-sm",children:s("admin.siteSettings.smtp.port")}),(0,t.jsx)(o.Input,{id:"smtp-port",value:j.smtp_port,onChange:e=>w("smtp_port",e.target.value),placeholder:s("admin.siteSettings.smtp.portPlaceholder"),disabled:N})]}),(0,t.jsx)("div",{className:"flex items-end md:col-span-3",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(W.Switch,{id:"smtp-ssl",checked:j.smtp_ssl,onCheckedChange:()=>{b(e=>({...e,smtp_ssl:!e.smtp_ssl}))},disabled:N}),(0,t.jsx)(c.Label,{htmlFor:"smtp-ssl",className:"text-sm",children:s("admin.siteSettings.smtp.ssl")})]})}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-6",children:[(0,t.jsx)(c.Label,{htmlFor:"smtp-username",className:"text-sm",children:s("admin.siteSettings.smtp.username")}),(0,t.jsx)(o.Input,{id:"smtp-username",value:j.smtp_username,onChange:e=>w("smtp_username",e.target.value),placeholder:s("admin.siteSettings.smtp.usernamePlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-6",children:[(0,t.jsx)(c.Label,{htmlFor:"smtp-password",className:"text-sm",children:s("admin.siteSettings.smtp.password")}),(0,t.jsx)(o.Input,{id:"smtp-password",type:"password",value:j.smtp_password,onChange:e=>w("smtp_password",e.target.value),placeholder:s("admin.siteSettings.smtp.passwordPlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-6",children:[(0,t.jsx)(c.Label,{htmlFor:"smtp-from-email",className:"text-sm",children:s("admin.siteSettings.smtp.fromEmail")}),(0,t.jsx)(o.Input,{id:"smtp-from-email",value:j.smtp_from_email,onChange:e=>w("smtp_from_email",e.target.value),placeholder:s("admin.siteSettings.smtp.fromEmailPlaceholder"),disabled:N}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:s("admin.siteSettings.smtp.fromEmailHelp")})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-6",children:[(0,t.jsx)(c.Label,{htmlFor:"smtp-from-name",className:"text-sm",children:s("admin.siteSettings.smtp.fromName")}),(0,t.jsx)(o.Input,{id:"smtp-from-name",value:j.smtp_from_name,onChange:e=>w("smtp_from_name",e.target.value),placeholder:s("admin.siteSettings.smtp.fromNamePlaceholder"),disabled:N})]})]}),(0,t.jsx)(U.Separator,{}),(0,t.jsxs)("div",{className:"grid grid-cols-1 items-end gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"test-email",className:"text-sm",children:s("admin.siteSettings.smtp.testEmail")}),(0,t.jsx)(o.Input,{id:"test-email",value:_,onChange:e=>S(e.target.value),placeholder:s("admin.siteSettings.smtp.testEmailPlaceholder"),disabled:N}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:s("admin.siteSettings.smtp.testEmailHelp")})]}),(0,t.jsxs)("div",{className:"mt-3 flex justify-end gap-2 md:mt-0 md:justify-end",children:[(0,t.jsx)(d.Button,{type:"button",variant:"outline",disabled:N,onClick:k,children:y?s("admin.siteSettings.smtp.sendingTest"):s("admin.siteSettings.smtp.sendTest")}),(0,t.jsx)(d.Button,{type:"button",variant:"default",disabled:N,onClick:C,children:h?s("admin.common.saving"):s("admin.common.save")})]})]})]})]})};var q=e.i(96865);let Y=["storage_driver","storage_local_root","storage_local_base_url","storage_cdn_public_base","storage_public_api_base","cloudinary_cloud_name","cloudinary_api_key","cloudinary_api_secret","cloudinary_folder","cloudinary_unsigned_preset"],X={storage_driver:"",storage_local_root:"",storage_local_base_url:"",storage_cdn_public_base:"",storage_public_api_base:"",cloudinary_cloud_name:"",cloudinary_api_key:"",cloudinary_api_secret:"",cloudinary_folder:"",cloudinary_unsigned_preset:""},Z=({locale:e})=>{let{data:s,isLoading:l,isFetching:n,refetch:g}=(0,v.useListSiteSettingsAdminQuery)({keys:Y}),[p,{isLoading:x}]=(0,v.useUpdateSiteSettingAdminMutation)(),[h,{data:f,isFetching:y,error:j}]=(0,q.useLazyDiagCloudinaryAdminQuery)(),[b,_]=a.useState(X),S=(0,r.useAdminTranslations)(e);a.useEffect(()=>{let e=function(e){let t=new Map;if(e)for(let s of e)t.set(String(s.key),s);return t}(s),t={...X};Y.forEach(s=>t[s]=function(e){if(null==e)return"";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return String(e);try{return JSON.stringify(e)}catch{return String(e)}}(e.get(s)?.value)),_(t)},[s]);let N=l||n||x||y,w=(e,t)=>{_(s=>({...s,[e]:t}))},C=async()=>{if(!N)try{for(let e of Y)await p({key:e,value:b[e].trim()}).unwrap();i.toast.success(S("admin.siteSettings.cloudinary.saved")),await g()}catch(t){var e;i.toast.error((e=S("admin.siteSettings.messages.error"),t?.data?.error?.message||t?.data?.message||t?.message||e))}},k=async()=>{if(!N)try{let e=await h().unwrap();e?.ok?i.toast.success(S("admin.siteSettings.cloudinary.testSuccess",{cloud:e.cloud,publicId:e.uploaded?.public_id||""})):i.toast.error(S("admin.siteSettings.cloudinary.testFailedConsole"))}catch(s){let e=s?.status,t=s?.data;if(501===e)return void("driver_is_local"===t?.reason?i.toast.error(S("admin.siteSettings.cloudinary.testFailedLocal")):i.toast.error(S("admin.siteSettings.cloudinary.testFailedConfig")));if(502===e){let e=t?.step,a=t?.error?.msg||t?.error?.message||t?.message||s?.message||"Cloudinary test failed.";i.toast.error(S("admin.siteSettings.cloudinary.testFailedStep",{step:e||"unknown",message:a}));return}i.toast.error(t?.error?.msg||t?.error?.message||t?.message||s?.message||S("admin.siteSettings.messages.error"))}},T=a.useMemo(()=>y?S("admin.siteSettings.cloudinary.testInfoTesting"):f?.ok?S("admin.siteSettings.cloudinary.testInfoSuccess",{cloud:f.cloud}):j?S("admin.siteSettings.cloudinary.testInfoError"):S("admin.siteSettings.cloudinary.testInfo"),[y,f,j,S]);return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(u.CardTitle,{className:"text-base",children:S("admin.siteSettings.cloudinary.title")}),(0,t.jsx)(u.CardDescription,{children:S("admin.siteSettings.cloudinary.description")})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(m.Badge,{variant:"secondary",children:S("admin.siteSettings.cloudinary.badge",{locale:e||"—"})}),(0,t.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>g(),disabled:N,children:S("admin.siteSettings.actions.refresh")}),N?(0,t.jsx)(m.Badge,{variant:"outline",children:S("admin.siteSettings.messages.loading")}):null]})]})}),(0,t.jsxs)(u.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"storage_driver",children:S("admin.siteSettings.cloudinary.storageDriver")}),(0,t.jsx)(o.Input,{id:"storage_driver",value:b.storage_driver,onChange:e=>w("storage_driver",e.target.value),placeholder:S("admin.siteSettings.cloudinary.storageDriverPlaceholder"),disabled:N}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:S("admin.siteSettings.cloudinary.storageDriverHelp")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"storage_local_root",children:S("admin.siteSettings.cloudinary.localRoot")}),(0,t.jsx)(o.Input,{id:"storage_local_root",value:b.storage_local_root,onChange:e=>w("storage_local_root",e.target.value),placeholder:S("admin.siteSettings.cloudinary.localRootPlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"storage_local_base_url",children:S("admin.siteSettings.cloudinary.localBaseUrl")}),(0,t.jsx)(o.Input,{id:"storage_local_base_url",value:b.storage_local_base_url,onChange:e=>w("storage_local_base_url",e.target.value),placeholder:S("admin.siteSettings.cloudinary.localBaseUrlPlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-2 lg:col-span-1",children:[(0,t.jsx)(c.Label,{htmlFor:"storage_cdn_public_base",children:S("admin.siteSettings.cloudinary.cdnPublicBase")}),(0,t.jsx)(o.Input,{id:"storage_cdn_public_base",value:b.storage_cdn_public_base,onChange:e=>w("storage_cdn_public_base",e.target.value),placeholder:S("admin.siteSettings.cloudinary.cdnPublicBasePlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-2 lg:col-span-2",children:[(0,t.jsx)(c.Label,{htmlFor:"storage_public_api_base",children:S("admin.siteSettings.cloudinary.publicApiBase")}),(0,t.jsx)(o.Input,{id:"storage_public_api_base",value:b.storage_public_api_base,onChange:e=>w("storage_public_api_base",e.target.value),placeholder:S("admin.siteSettings.cloudinary.publicApiBasePlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"cloudinary_cloud_name",children:S("admin.siteSettings.cloudinary.cloudName")}),(0,t.jsx)(o.Input,{id:"cloudinary_cloud_name",value:b.cloudinary_cloud_name,onChange:e=>w("cloudinary_cloud_name",e.target.value),placeholder:S("admin.siteSettings.cloudinary.cloudNamePlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"cloudinary_api_key",children:S("admin.siteSettings.cloudinary.apiKey")}),(0,t.jsx)(o.Input,{id:"cloudinary_api_key",value:b.cloudinary_api_key,onChange:e=>w("cloudinary_api_key",e.target.value),placeholder:S("admin.siteSettings.cloudinary.apiKeyPlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"cloudinary_api_secret",children:S("admin.siteSettings.cloudinary.apiSecret")}),(0,t.jsx)(o.Input,{id:"cloudinary_api_secret",value:b.cloudinary_api_secret,onChange:e=>w("cloudinary_api_secret",e.target.value),placeholder:S("admin.siteSettings.cloudinary.apiSecretPlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-1 lg:col-span-1",children:[(0,t.jsx)(c.Label,{htmlFor:"cloudinary_folder",children:S("admin.siteSettings.cloudinary.folder")}),(0,t.jsx)(o.Input,{id:"cloudinary_folder",value:b.cloudinary_folder,onChange:e=>w("cloudinary_folder",e.target.value),placeholder:S("admin.siteSettings.cloudinary.folderPlaceholder"),disabled:N})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-1 lg:col-span-2",children:[(0,t.jsx)(c.Label,{htmlFor:"cloudinary_unsigned_preset",children:S("admin.siteSettings.cloudinary.unsignedPreset")}),(0,t.jsx)(o.Input,{id:"cloudinary_unsigned_preset",value:b.cloudinary_unsigned_preset,onChange:e=>w("cloudinary_unsigned_preset",e.target.value),placeholder:S("admin.siteSettings.cloudinary.unsignedPresetPlaceholder"),disabled:N})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 border-t pt-4 lg:flex-row lg:items-center lg:justify-between",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:T}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(d.Button,{type:"button",variant:"outline",disabled:N,onClick:k,children:y?S("admin.siteSettings.cloudinary.testing"):S("admin.siteSettings.cloudinary.testButton")}),(0,t.jsx)(d.Button,{type:"button",variant:"default",disabled:N,onClick:C,children:x?S("admin.siteSettings.actions.saving"):S("admin.siteSettings.actions.save")})]})]})]})]})})};Z.displayName="CloudinarySettingsTab";var ee=e.i(65994);let et=["site_logo","site_logo_dark","site_logo_light","site_favicon","site_apple_touch_icon","site_app_icon_512","site_og_default_image"],es={site_logo:"Logo",site_logo_dark:"Logo (Dark)",site_logo_light:"Logo (Light)",site_favicon:"Favicon",site_apple_touch_icon:"Apple Touch Icon",site_app_icon_512:"App Icon 512x512",site_og_default_image:"OG Default Image"};function ea(e){return et.includes(e)}let ei={site_logo:{aspect:"4x3",fit:"contain"},site_logo_dark:{aspect:"4x3",fit:"contain"},site_logo_light:{aspect:"4x3",fit:"contain"},site_favicon:{aspect:"1x1",fit:"contain"},site_apple_touch_icon:{aspect:"1x1",fit:"contain"},site_app_icon_512:{aspect:"1x1",fit:"contain"},site_og_default_image:{aspect:"16x9",fit:"cover"}},el=e=>null==e?"":String(e).trim();async function en(e,t,s){let a=el(e);if(a)try{await navigator.clipboard.writeText(a),i.toast.success(t)}catch{i.toast.error(s)}}let er=()=>{let[e,s]=(0,a.useState)(""),n=(0,ee.useAdminT)(),r=(0,a.useMemo)(()=>({locale:"*",q:e.trim()||void 0,keys:[...et],sort:"key",order:"asc",limit:200,offset:0}),[e]),g=(0,v.useListSiteSettingsAdminQuery)(r,{refetchOnMountOrArgChange:!0}),[p,{isLoading:h}]=(0,v.useUpdateSiteSettingAdminMutation)(),[f,{isLoading:y}]=(0,v.useDeleteSiteSettingAdminMutation)(),j=g.isLoading||g.isFetching||h||y,b=(0,a.useCallback)(async()=>{await g.refetch()},[g.refetch]),_=(0,a.useMemo)(()=>{let t=(Array.isArray(g.data)?g.data:[]).filter(e=>e&&ea(String(e.key||""))&&"*"===String(e.locale??"")),s=e.trim().toLowerCase();return!s||s.length<2?t:t.filter(e=>String(e?.key||"").toLowerCase().includes(s))},[g.data,e]),S=(0,a.useMemo)(()=>{let e=new Map;for(let t of et)e.set(t,null);for(let t of _)t&&ea(String(t.key||""))&&e.set(t.key,t);return e},[_]),N=(0,a.useCallback)(async(e,t)=>{let s=el(t);if(s)try{let t;await p({key:e,locale:"*",value:(t=el(s))?{url:t}:null}).unwrap(),i.toast.success(n("admin.siteSettings.brandMedia.updated",{label:es[e]})),await b()}catch(t){i.toast.error(t?.data?.error?.message||t?.message||n("admin.siteSettings.brandMedia.updateError",{label:es[e]}))}},[p,b,n]),w=(0,a.useCallback)(async e=>{if(window.confirm(n("admin.siteSettings.brandMedia.deleteConfirm",{key:e,locale:"*"})))try{await f({key:e,locale:"*"}).unwrap(),i.toast.success(n("admin.common.deleted",{item:e})),await b()}catch(e){i.toast.error(e?.data?.error?.message||e?.message||n("admin.siteSettings.brandMedia.deleteError"))}},[f,b,n]);return(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(u.CardTitle,{className:"text-base",children:n("admin.siteSettings.brandMedia.title")}),(0,t.jsx)(u.CardDescription,{children:n("admin.siteSettings.brandMedia.description")})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(m.Badge,{variant:"secondary",children:"Locale: *"}),(0,t.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:b,disabled:j,children:n("admin.siteSettings.actions.refresh")})]})]})}),(0,t.jsxs)(u.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"brand-search",children:n("admin.siteSettings.filters.search")}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Search,{className:"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(o.Input,{id:"brand-search",type:"text",placeholder:n("admin.siteSettings.brandMedia.searchPlaceholder"),value:e,onChange:e=>s(e.target.value),disabled:j,className:"pl-9"})]})]}),j&&(0,t.jsx)("div",{children:(0,t.jsx)(m.Badge,{variant:"secondary",children:n("admin.siteSettings.messages.loading")})}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3",children:et.map(e=>{let s=S.get(e)??null,a=!!s,i=function(e){let t=el(e);if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")||t.startsWith("//"))return t;let s="http://localhost:3000".replace(/\/$/,"");try{return t.startsWith("/")?`${s}${t}`:`${s}/storage/${t}`}catch(e){}return t}(function(e){if(null==e)return"";if("string"==typeof e){let t=e.trim();if(!t)return"";if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]"))try{let e=JSON.parse(t),s=el(e?.url);if(s)return s}catch{}return t}if("object"==typeof e&&null!==e){let t=el(e?.url);if(t)return t}return""}(s?.value??null)),l=ei[e];return(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,t.jsx)(u.CardTitle,{className:"text-sm",children:n(`admin.siteSettings.brandMedia.labels.${e}`)}),(0,t.jsxs)(u.CardDescription,{className:"text-xs",children:[(0,t.jsx)("code",{className:"font-mono",children:e}),(0,t.jsx)("span",{className:"mx-1",children:"•"}),(0,t.jsx)("span",{children:"locale: *"})]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(d.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,t.jsx)(x.default,{href:`/admin/site-settings/${encodeURIComponent(e)}?locale=${encodeURIComponent("*")}`,children:n("admin.siteSettings.actions.edit")})}),(0,t.jsx)(d.Button,{type:"button",variant:"destructive",size:"sm",disabled:j||!a,onClick:()=>void w(e),children:n("admin.siteSettings.actions.delete")})]})]})}),(0,t.jsxs)(u.CardContent,{className:"space-y-4",children:[(0,t.jsx)(O.AdminImageUploadField,{label:"",helperText:(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:n("admin.siteSettings.brandMedia.uploadHelp")}),bucket:"public",folder:"site-media",metadata:{key:e,scope:"site_settings",locale:"*"},value:i,onChange:t=>void N(e,t),disabled:j,openLibraryHref:"/admin/storage",previewAspect:l.aspect,previewObjectFit:l.fit}),i&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"rounded-md border bg-muted/50 p-3",children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:n("admin.common.savedUrl")}),(0,t.jsx)(d.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>void en(i,n("admin.common.copySuccess"),n("admin.common.copyFailed")),disabled:j,children:n("admin.siteSettings.actions.copy")})]}),(0,t.jsx)("code",{className:"block wrap-break-word text-xs font-mono leading-relaxed",children:i})]}),(0,t.jsxs)("div",{className:"rounded-md border bg-muted/50 p-3",children:[(0,t.jsx)("div",{className:"mb-2 text-xs font-medium text-muted-foreground",children:n("admin.common.previewColon")}),(0,t.jsx)("div",{className:"relative aspect-video w-full overflow-hidden rounded border bg-background",children:(0,t.jsx)("img",{src:i,alt:n(`admin.siteSettings.brandMedia.labels.${e}`),className:"h-full w-full object-contain",onError:e=>{let t=e.target;t.style.display="none";let s=t.parentElement;if(s&&!s.querySelector(".error-message")){let e=document.createElement("div");e.className="error-message flex h-full items-center justify-center text-xs text-muted-foreground",e.textContent=n("admin.common.imageLoadFailed"),s.appendChild(e)}}})})]})]})]})]},`media_${e}`)})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:n("admin.siteSettings.brandMedia.note")})]})]})};er.displayName="BrandMediaTab";var ed=e.i(24687);let eo=["google_client_id","google_client_secret","gtm_container_id","ga4_measurement_id","cookie_consent"],ec={google_client_id:"",google_client_secret:"",gtm_container_id:"",ga4_measurement_id:"",cookie_consent:""},em=({locale:e})=>{let{data:s,isLoading:l,isFetching:g,refetch:p}=(0,v.useListSiteSettingsAdminQuery)({keys:eo,locale:"*"}),[x,{isLoading:h}]=(0,v.useUpdateSiteSettingAdminMutation)(),[f,y]=a.useState(ec),j=(0,r.useAdminTranslations)(e);a.useEffect(()=>{let e=function(e){let t=new Map;if(e)for(let s of e)t.set(s.key,s);return t}(s),t={...ec};eo.forEach(s=>{t[s]=function(e){if(null==e)return"";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return String(e);try{return JSON.stringify(e,null,2)}catch{return String(e)}}(e.get(s)?.value)}),y(t)},[s]);let b=l||g||h,_=(e,t)=>y(s=>({...s,[e]:t})),S=async()=>{try{for(let e of[{key:"google_client_id",value:f.google_client_id.trim()},{key:"google_client_secret",value:f.google_client_secret.trim()},{key:"gtm_container_id",value:f.gtm_container_id.trim()},{key:"ga4_measurement_id",value:f.ga4_measurement_id.trim()},{key:"cookie_consent",value:function(e){let t=String(e??"").trim();if(!t)return"";try{return JSON.parse(t)}catch{return t}}(f.cookie_consent)}])await x({key:e.key,value:e.value,locale:"*"}).unwrap();i.toast.success(j("admin.siteSettings.api.saved")),await p()}catch(t){let e=t?.data?.error?.message||t?.message||j("admin.siteSettings.api.saveError");i.toast.error(e)}};return(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(u.CardTitle,{className:"text-base",children:j("admin.siteSettings.api.title")}),(0,t.jsx)(u.CardDescription,{children:j("admin.siteSettings.api.description")})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(m.Badge,{variant:"secondary",children:j("admin.siteSettings.api.badge")}),e&&(0,t.jsx)(m.Badge,{variant:"outline",children:j("admin.siteSettings.api.uiBadge",{locale:e})}),b&&(0,t.jsx)(m.Badge,{variant:"outline",children:j("admin.siteSettings.messages.loading")}),(0,t.jsx)(d.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(),disabled:b,title:j("admin.siteSettings.actions.refresh"),children:(0,t.jsx)(n.RefreshCcw,{className:"size-4"})})]})]})}),(0,t.jsxs)(u.CardContent,{className:"space-y-6",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:j("admin.siteSettings.api.note")}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.Label,{htmlFor:"google_client_id",children:[j("admin.siteSettings.api.googleClientId"),(0,t.jsx)("code",{className:"ml-2 text-xs text-muted-foreground",children:"(google_client_id)"})]}),(0,t.jsx)(o.Input,{id:"google_client_id",value:f.google_client_id,onChange:e=>_("google_client_id",e.target.value),placeholder:"Google OAuth Client ID",disabled:b}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:j("admin.siteSettings.api.googleClientIdHelp")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.Label,{htmlFor:"google_client_secret",children:[j("admin.siteSettings.api.googleClientSecret"),(0,t.jsx)("code",{className:"ml-2 text-xs text-muted-foreground",children:"(google_client_secret)"})]}),(0,t.jsx)(o.Input,{id:"google_client_secret",type:"password",value:f.google_client_secret,onChange:e=>_("google_client_secret",e.target.value),placeholder:"Google OAuth Client Secret",disabled:b}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:j("admin.siteSettings.api.googleClientSecretHelp")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.Label,{htmlFor:"gtm_container_id",children:[j("admin.siteSettings.api.gtmContainerId"),(0,t.jsx)("code",{className:"ml-2 text-xs text-muted-foreground",children:"(gtm_container_id)"})]}),(0,t.jsx)(o.Input,{id:"gtm_container_id",value:f.gtm_container_id,onChange:e=>_("gtm_container_id",e.target.value),placeholder:j("admin.siteSettings.api.gtmContainerIdPlaceholder"),disabled:b}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:j("admin.siteSettings.api.gtmContainerIdHelp")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.Label,{htmlFor:"ga4_measurement_id",children:[j("admin.siteSettings.api.ga4MeasurementId"),(0,t.jsx)("code",{className:"ml-2 text-xs text-muted-foreground",children:"(ga4_measurement_id)"})]}),(0,t.jsx)(o.Input,{id:"ga4_measurement_id",value:f.ga4_measurement_id,onChange:e=>_("ga4_measurement_id",e.target.value),placeholder:j("admin.siteSettings.api.ga4MeasurementIdPlaceholder"),disabled:b}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:j("admin.siteSettings.api.ga4MeasurementIdHelp")})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.Label,{htmlFor:"cookie_consent",children:[j("admin.siteSettings.api.cookieConsent"),(0,t.jsx)("code",{className:"ml-2 text-xs text-muted-foreground",children:"(cookie_consent)"})]}),(0,t.jsx)(ed.Textarea,{id:"cookie_consent",rows:10,value:f.cookie_consent,onChange:e=>_("cookie_consent",e.target.value),placeholder:j("admin.siteSettings.api.cookieConsentPlaceholder"),disabled:b,className:"font-mono text-xs"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:j("admin.siteSettings.api.cookieConsentHelp")})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(d.Button,{type:"button",onClick:S,disabled:b,children:h?j("admin.siteSettings.actions.saving"):j("admin.siteSettings.actions.save")})})]})]})};function eu(e){return null==e?"":String(e)}function eg(e,t){let s=e?.data?.error?.message;if("string"==typeof s&&s.trim())return s;let a=e?.data?.error;if("string"==typeof a&&a.trim())return a;let i=e?.data?.message;if("string"==typeof i&&i.trim())return i;let l=e?.error;return"string"==typeof l&&l.trim()?l:t}function ep(e){let a,i,l,n,r,d,o=(0,s.c)(17),{locale:c,search:m,onDeleteRow:u}=e;o[0]!==m?(a=m.trim()||void 0,o[0]=m,o[1]=a):a=o[1];let g=a;o[2]!==c||o[3]!==g?(i={locale:c,q:g,sort:"key",order:"asc",limit:200,offset:0},o[2]=c,o[3]=g,o[4]=i):i=o[4];let p=i,x=!c;o[5]!==x?(l={skip:x,refetchOnMountOrArgChange:!0},o[5]=x,o[6]=l):l=o[6];let h=(0,v.useListSiteSettingsAdminQuery)(p,l),f=h.isLoading||h.isFetching;o[7]!==h.data?(n=h.data??[],o[7]=h.data,o[8]=n):n=o[8];let y=n;return o[9]!==c?(r=e=>{var t;return t=String(e.key||""),`/admin/site-settings/${encodeURIComponent(t)}?locale=${encodeURIComponent(c)}`},o[9]=c,o[10]=r):r=o[10],o[11]!==f||o[12]!==c||o[13]!==u||o[14]!==y||o[15]!==r?(d=(0,t.jsx)(j,{settings:y,loading:f,selectedLocale:c,onDelete:u,getEditHref:r}),o[11]=f,o[12]=c,o[13]=u,o[14]=y,o[15]=r,o[16]=d):d=o[16],d}function ex(){let e=(0,v.useGetAppLocalesAdminQuery)(),s=(0,v.useGetDefaultLocaleAdminQuery)(),x=a.useMemo(()=>{var t,a;let i,l,n;return t=e.data,a=s.data,i=Array.isArray(t)?t:[],l="string"==typeof a?a:eu(a),(n=[...i].sort((e,t)=>{let s=+(e?.is_active===!1),a=+(t?.is_active===!1);return s!==a?s-a:String(e?.code||"").localeCompare(String(t?.code||""))}).filter(e=>e?.code).map(e=>{let t=String(e.code),s=e.label?`${e.label} (${t})`:t;return{value:t,label:s+(e.is_default?" • default":!1===e.is_active?" • inactive":"")}})).length?n:[{value:l||"de",label:l||"de"}]},[e.data,s.data]),h=a.useMemo(()=>(function(e,t){let s=Array.isArray(e)?e:[],a="string"==typeof t?t.trim():eu(t).trim();if(a)return a;let i=s.find(e=>e?.is_active!==!1&&e?.code)?.code;return i?String(i):"de"})(e.data,s.data),[e.data,s.data]),[f,y]=a.useState("general"),[j,b]=a.useState(""),[_,S]=a.useState(""),[N,{isLoading:w}]=(0,v.useDeleteSiteSettingAdminMutation)(),C=(0,r.useAdminTranslations)(_);a.useEffect(()=>{_||S(h)},[h]);let T=e.isFetching||s.isFetching||e.isLoading||s.isLoading||w,L=async()=>{try{await Promise.all([e.refetch(),s.refetch()]),i.toast.success(C("admin.siteSettings.filters.refreshed"))}catch(e){i.toast.error(eg(e,C("admin.siteSettings.messages.error")))}},B=async e=>{let t=String(e?.key||"").trim(),s=e?.locale?String(e.locale):void 0;if(t&&window.confirm(`"${t}" (${s||_||"—"}) silinsin mi?`))try{await N({key:t,locale:s??void 0}).unwrap(),i.toast.success(C("admin.siteSettings.messages.deleted"))}catch(e){i.toast.error(eg(e,C("admin.siteSettings.messages.error")))}},z=!!(_&&_.trim()),A="global_list"===f||"smtp"===f||"brand_media"===f;return(0,t.jsxs)("div",{className:"w-full max-w-full space-y-6 overflow-x-hidden px-2 pb-6 md:px-0 md:pb-0",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h1",{className:"text-lg font-semibold",children:C("admin.siteSettings.title")}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:C("admin.siteSettings.description")})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{className:"gap-2",children:[(0,t.jsx)(u.CardTitle,{className:"text-base",children:C("admin.siteSettings.filters.title")}),(0,t.jsx)(u.CardDescription,{children:C("admin.siteSettings.filters.description")})]}),(0,t.jsx)(u.CardContent,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-end",children:[(0,t.jsxs)("div",{className:"w-full flex-1 space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"q",children:C("admin.siteSettings.filters.search")}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Search,{className:"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(o.Input,{id:"q",value:j,onChange:e=>b(e.target.value),placeholder:C("admin.siteSettings.filters.searchPlaceholder"),className:"w-full pl-9",disabled:T})]})]}),(0,t.jsxs)("div",{className:"w-full space-y-2 lg:w-56",children:[(0,t.jsx)(c.Label,{children:C("admin.siteSettings.filters.language")}),(0,t.jsxs)(p.Select,{value:z?_:"",onValueChange:e=>S(e),disabled:T||A,children:[(0,t.jsx)(p.SelectTrigger,{className:"w-full",children:(0,t.jsx)(p.SelectValue,{placeholder:A?"Global":C("admin.siteSettings.filters.selectLanguage")})}),(0,t.jsx)(p.SelectContent,{children:(x??[]).map(e=>(0,t.jsx)(p.SelectItem,{value:e.value,children:e.label},e.value))})]}),A?(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:C("admin.siteSettings.filters.languageDisabledNote")}):null]}),(0,t.jsxs)("div",{className:"flex w-full gap-2 lg:w-auto",children:[(0,t.jsxs)(d.Button,{type:"button",variant:"ghost",onClick:L,disabled:T,title:C("admin.siteSettings.filters.refreshButton"),className:"flex-1 lg:flex-initial",children:[(0,t.jsx)(n.RefreshCcw,{className:"size-4"}),(0,t.jsx)("span",{className:"ml-2 lg:hidden",children:C("admin.siteSettings.filters.refreshButton")})]}),(0,t.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>{b(""),A||S(h)},disabled:T,className:"flex-1 lg:flex-initial",children:C("admin.siteSettings.filters.resetButton")})]})]})})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{className:"gap-2",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(u.CardTitle,{className:"text-base",children:C("admin.siteSettings.management.title")}),(0,t.jsxs)(u.CardDescription,{children:["list"===f?C("admin.siteSettings.management.localeRecords"):null,"global_list"===f?C("admin.siteSettings.management.globalRecords"):null,"general"===f?C("admin.siteSettings.general.title"):null,"seo"===f?C("admin.siteSettings.tabs.seo"):null,"smtp"===f?C("admin.siteSettings.tabs.smtp"):null,"cloudinary"===f?C("admin.siteSettings.cloudinary.title"):null,"brand_media"===f?C("admin.siteSettings.brandMedia.title"):null,"api"===f?C("admin.siteSettings.api.title"):null]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[A?(0,t.jsx)(m.Badge,{variant:"secondary",children:"Global"}):null,!A&&z?(0,t.jsx)(m.Badge,{variant:"secondary",children:_}):null,T?(0,t.jsx)(m.Badge,{variant:"outline",children:C("admin.siteSettings.messages.loading")}):null]})]})}),(0,t.jsx)(u.CardContent,{className:"space-y-4",children:z?(0,t.jsxs)(g.Tabs,{value:f,onValueChange:e=>y(e),children:[(0,t.jsx)("div",{className:"-mx-2 overflow-x-auto px-2 md:mx-0 md:overflow-x-visible md:px-0",children:(0,t.jsxs)(g.TabsList,{className:"inline-flex min-w-full flex-nowrap justify-start md:flex-wrap",children:[(0,t.jsx)(g.TabsTrigger,{value:"list",className:"whitespace-nowrap",children:C("admin.siteSettings.tabs.list")}),(0,t.jsx)(g.TabsTrigger,{value:"global_list",className:"whitespace-nowrap",children:C("admin.siteSettings.tabs.globalList")}),(0,t.jsx)(g.TabsTrigger,{value:"general",className:"whitespace-nowrap",children:C("admin.siteSettings.tabs.general")}),(0,t.jsx)(g.TabsTrigger,{value:"seo",className:"whitespace-nowrap",children:C("admin.siteSettings.tabs.seo")}),(0,t.jsx)(g.TabsTrigger,{value:"smtp",className:"whitespace-nowrap",children:C("admin.siteSettings.tabs.smtp")}),(0,t.jsx)(g.TabsTrigger,{value:"cloudinary",className:"whitespace-nowrap",children:C("admin.siteSettings.tabs.cloudinary")}),(0,t.jsx)(g.TabsTrigger,{value:"brand_media",className:"whitespace-nowrap",children:C("admin.siteSettings.tabs.brandMedia")}),(0,t.jsx)(g.TabsTrigger,{value:"api",className:"whitespace-nowrap",children:C("admin.siteSettings.tabs.api")})]})}),(0,t.jsx)(g.TabsContent,{value:"list",className:"mt-4",children:(0,t.jsx)(ep,{locale:_,search:j,onDeleteRow:B})}),(0,t.jsx)(g.TabsContent,{value:"global_list",className:"mt-4",children:(0,t.jsx)(ep,{locale:"*",search:j,onDeleteRow:B})}),(0,t.jsx)(g.TabsContent,{value:"general",className:"mt-4",children:(0,t.jsx)(k,{locale:_})}),(0,t.jsx)(g.TabsContent,{value:"seo",className:"mt-4",children:(0,t.jsx)(G,{locale:_})}),(0,t.jsx)(g.TabsContent,{value:"smtp",className:"mt-4",children:(0,t.jsx)(V,{locale:_})}),(0,t.jsx)(g.TabsContent,{value:"cloudinary",className:"mt-4",children:(0,t.jsx)(Z,{locale:_})}),(0,t.jsx)(g.TabsContent,{value:"brand_media",className:"mt-4",children:(0,t.jsx)(er,{})}),(0,t.jsx)(g.TabsContent,{value:"api",className:"mt-4",children:(0,t.jsx)(em,{locale:_})})]}):(0,t.jsx)("div",{className:"rounded-md border p-4 text-sm text-muted-foreground",children:C("admin.siteSettings.management.loadingMeta")})})]})]})}e.s(["default",()=>ex],32623)}]);
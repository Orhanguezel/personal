(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24687,e=>{"use strict";var i=e.i(43476),t=e.i(932),s=e.i(75157);function a(e){let a,r,d,l,n=(0,t.c)(8);return n[0]!==e?({className:a,...r}=e,n[0]=e,n[1]=a,n[2]=r):(a=n[1],r=n[2]),n[3]!==a?(d=(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),n[3]=a,n[4]=d):d=n[4],n[5]!==r||n[6]!==d?(l=(0,i.jsx)("textarea",{"data-slot":"textarea",className:d,...r}),n[5]=r,n[6]=d,n[7]=l):l=n[7],l}e.s(["Textarea",()=>a])},15288,e=>{"use strict";var i=e.i(43476),t=e.i(932),s=e.i(75157);function a(e){let a,r,d,l,n=(0,t.c)(8);return n[0]!==e?({className:a,...r}=e,n[0]=e,n[1]=a,n[2]=r):(a=n[1],r=n[2]),n[3]!==a?(d=(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),n[3]=a,n[4]=d):d=n[4],n[5]!==r||n[6]!==d?(l=(0,i.jsx)("div",{"data-slot":"card",className:d,...r}),n[5]=r,n[6]=d,n[7]=l):l=n[7],l}function r(e){let a,r,d,l,n=(0,t.c)(8);return n[0]!==e?({className:a,...r}=e,n[0]=e,n[1]=a,n[2]=r):(a=n[1],r=n[2]),n[3]!==a?(d=(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),n[3]=a,n[4]=d):d=n[4],n[5]!==r||n[6]!==d?(l=(0,i.jsx)("div",{"data-slot":"card-header",className:d,...r}),n[5]=r,n[6]=d,n[7]=l):l=n[7],l}function d(e){let a,r,d,l,n=(0,t.c)(8);return n[0]!==e?({className:a,...r}=e,n[0]=e,n[1]=a,n[2]=r):(a=n[1],r=n[2]),n[3]!==a?(d=(0,s.cn)("leading-none font-semibold",a),n[3]=a,n[4]=d):d=n[4],n[5]!==r||n[6]!==d?(l=(0,i.jsx)("div",{"data-slot":"card-title",className:d,...r}),n[5]=r,n[6]=d,n[7]=l):l=n[7],l}function l(e){let a,r,d,l,n=(0,t.c)(8);return n[0]!==e?({className:a,...r}=e,n[0]=e,n[1]=a,n[2]=r):(a=n[1],r=n[2]),n[3]!==a?(d=(0,s.cn)("text-muted-foreground text-sm",a),n[3]=a,n[4]=d):d=n[4],n[5]!==r||n[6]!==d?(l=(0,i.jsx)("div",{"data-slot":"card-description",className:d,...r}),n[5]=r,n[6]=d,n[7]=l):l=n[7],l}function n(e){let a,r,d,l,n=(0,t.c)(8);return n[0]!==e?({className:a,...r}=e,n[0]=e,n[1]=a,n[2]=r):(a=n[1],r=n[2]),n[3]!==a?(d=(0,s.cn)("px-6",a),n[3]=a,n[4]=d):d=n[4],n[5]!==r||n[6]!==d?(l=(0,i.jsx)("div",{"data-slot":"card-content",className:d,...r}),n[5]=r,n[6]=d,n[7]=l):l=n[7],l}e.s(["Card",()=>a,"CardContent",()=>n,"CardDescription",()=>l,"CardHeader",()=>r,"CardTitle",()=>d])},27612,e=>{"use strict";let i=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>i],27612)},56909,e=>{"use strict";let i=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>i],56909)},71689,e=>{"use strict";let i=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>i],71689)},46561,e=>{"use strict";var i=e.i(43476),t=e.i(71645),s=e.i(18566),a=e.i(46696),r=e.i(71689),d=e.i(56909),l=e.i(27612),n=e.i(19455),c=e.i(93479),o=e.i(10204),u=e.i(24687),m=e.i(15288),x=e.i(67489);e.i(70272);var h=e.i(2688);function p(e){return e?.data?.error?.message||e?.data?.message||e?.message||"İşlem başarısız"}let j=["order_created","order_paid","order_failed","booking_created","booking_status_changed","system","custom"];function g({id:e}){let g=(0,s.useRouter)(),v="new"===e,{data:f=[]}=(0,h.useListNotificationsQuery)(),y=f.find(i=>i.id===e),[b,{isLoading:N}]=(0,h.useCreateNotificationMutation)(),[k,{isLoading:C}]=(0,h.useUpdateNotificationMutation)(),[w,{isLoading:B}]=(0,h.useDeleteNotificationMutation)(),[_,T]=t.useState({user_id:"",title:"",message:"",type:"system"});t.useEffect(()=>{!v&&y&&T({user_id:y.user_id||"",title:y.title,message:y.message,type:y.type})},[v,y]);let z=N||C||B,M=()=>{g.push("/admin/notifications")},S=async e=>{if(e.preventDefault(),!_.title.trim())return void a.toast.error("Başlık gerekli");if(!_.message.trim())return void a.toast.error("Mesaj gerekli");try{if(v){let e={user_id:_.user_id.trim()||void 0,title:_.title.trim(),message:_.message.trim(),type:_.type};await b(e).unwrap(),a.toast.success("Bildirim oluşturuldu"),g.push("/admin/notifications")}else a.toast.warning("Bildirimleri düzenleme şu anda desteklenmiyor")}catch(e){a.toast.error(p(e))}},D=async()=>{if(confirm(`"${y?.title}" bildirimini silmek istediğinize emin misiniz?`))try{await w({id:e}).unwrap(),a.toast.success("Bildirim silindi"),g.push("/admin/notifications")}catch(e){a.toast.error(p(e))}};return(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,i.jsx)(m.Card,{children:(0,i.jsx)(m.CardHeader,{className:"pb-3",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(m.CardTitle,{className:"text-2xl font-bold",children:v?"Yeni Bildirim":"Bildirim Detayı"}),(0,i.jsx)(m.CardDescription,{children:v?"Yeni bir bildirim oluşturun":"Bildirim detaylarını görüntüleyin"})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(n.Button,{onClick:M,variant:"outline",size:"sm",children:[(0,i.jsx)(r.ArrowLeft,{className:"mr-2 size-4"}),"Geri"]}),!v&&(0,i.jsxs)(n.Button,{onClick:D,disabled:z,variant:"destructive",size:"sm",children:[(0,i.jsx)(l.Trash2,{className:"mr-2 size-4"}),"Sil"]})]})]})})}),(0,i.jsxs)(m.Card,{children:[(0,i.jsx)(m.CardHeader,{children:(0,i.jsx)(m.CardTitle,{children:"Bildirim Bilgileri"})}),(0,i.jsx)(m.CardContent,{children:(0,i.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(o.Label,{htmlFor:"user_id",children:["Kullanıcı ID ",(0,i.jsx)("span",{className:"text-muted-foreground",children:"(opsiyonel)"})]}),(0,i.jsx)(c.Input,{id:"user_id",value:_.user_id,onChange:e=>T(i=>({...i,user_id:e.target.value})),placeholder:"Boş bırakılırsa mevcut kullanıcı",disabled:!v||z}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Belirli bir kullanıcıya göndermek için UUID girin"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(o.Label,{htmlFor:"title",children:["Başlık ",(0,i.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,i.jsx)(c.Input,{id:"title",value:_.title,onChange:e=>T(i=>({...i,title:e.target.value})),placeholder:"Bildirim başlığı",required:!0,disabled:!v||z})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(o.Label,{htmlFor:"message",children:["Mesaj ",(0,i.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,i.jsx)(u.Textarea,{id:"message",value:_.message,onChange:e=>T(i=>({...i,message:e.target.value})),placeholder:"Bildirim mesajı",rows:4,required:!0,disabled:!v||z})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(o.Label,{htmlFor:"type",children:["Tip ",(0,i.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,i.jsxs)(x.Select,{value:_.type,onValueChange:e=>T(i=>({...i,type:e})),disabled:!v||z,children:[(0,i.jsx)(x.SelectTrigger,{id:"type",children:(0,i.jsx)(x.SelectValue,{})}),(0,i.jsxs)(x.SelectContent,{children:[j.map(e=>(0,i.jsx)(x.SelectItem,{value:e,children:e},e)),(0,i.jsx)(x.SelectItem,{value:"custom",children:"custom (özel)"})]})]})]}),v&&(0,i.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,i.jsx)(n.Button,{type:"button",onClick:M,variant:"outline",disabled:z,children:"İptal"}),(0,i.jsxs)(n.Button,{type:"submit",disabled:z,children:[(0,i.jsx)(d.Save,{className:"mr-2 size-4"}),z?"Kaydediliyor...":"Kaydet"]})]}),!v&&(0,i.jsx)("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-4 dark:border-yellow-800 dark:bg-yellow-950/20",children:(0,i.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"ℹ️ Bildirimler oluşturulduktan sonra düzenlenemez. Sadece okundu/okunmadı durumu değiştirilebilir."})})]})})]}),!v&&y&&(0,i.jsxs)(m.Card,{children:[(0,i.jsx)(m.CardHeader,{children:(0,i.jsx)(m.CardTitle,{children:"Bildirim Detayları"})}),(0,i.jsx)(m.CardContent,{className:"space-y-3",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"ID"}),(0,i.jsx)("p",{className:"text-sm",children:y.id})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Kullanıcı ID"}),(0,i.jsx)("p",{className:"text-sm",children:y.user_id})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Durum"}),(0,i.jsx)("p",{className:"text-sm",children:y.is_read?"Okundu":"Okunmadı"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Oluşturulma Tarihi"}),(0,i.jsx)("p",{className:"text-sm",children:new Date(y.created_at).toLocaleString("tr-TR")})]})]})})]})]})}e.s(["default",()=>g])}]);
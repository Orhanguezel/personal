(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86419,e=>{"use strict";var s=e.i(43476),t=e.i(932);let l=(0,e.i(75254).default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var a=e.i(71645),i=e.i(18566),n=e.i(31278);e.i(70272);var d=e.i(18804),r=e.i(65994),m=e.i(15288);let c=e=>{let l,c,o,u,b=(0,t.c)(17),{children:h}=e,x=(0,i.useRouter)(),p=(0,r.useAdminT)(),{data:j,isLoading:f,isError:N}=(0,d.useStatusQuery)(),v=!!j?.authenticated,g=f||!v;if(b[0]!==v||b[1]!==x||b[2]!==N||b[3]!==f?(l=()=>{f||(N||!v)&&x.push("/login")},c=[f,N,v,x],b[0]=v,b[1]=x,b[2]=N,b[3]=f,b[4]=l,b[5]=c):(l=b[4],c=b[5]),(0,a.useEffect)(l,c),f||!j){let e,t,l;return b[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(n.Loader2,{className:"size-6 animate-spin text-muted-foreground"}),b[6]=e):e=b[6],b[7]!==p?(t=p("admin.db.auth.loading"),b[7]=p,b[8]=t):t=b[8],b[9]!==t?(l=(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)(m.Card,{children:(0,s.jsx)(m.CardContent,{className:"flex min-h-64 items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[e,(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:t})]})})})}),b[9]=t,b[10]=l):l=b[10],l}return v?(b[11]!==g||b[12]!==v||b[13]!==h?(o=h({authed:v,adminSkip:g}),b[11]=g,b[12]=v,b[13]=h,b[14]=o):o=b[14],b[15]!==o?(u=(0,s.jsx)(s.Fragment,{children:o}),b[15]=o,b[16]=u):u=b[16],u):null};var o=e.i(46696),u=e.i(64280);let b=e=>String(e).padStart(2,"0"),h=({onChanged:e})=>{let t=(0,r.useAdminT)(),[l,i]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),[m,{isLoading:c}]=(0,u.useCreateDbSnapshotMutation)(),[h,{isLoading:x}]=(0,u.useExportSqlMutation)(),p=c||x,j=async()=>{try{let s={};l.trim()&&(s.label=l.trim()),n.trim()&&(s.note=n.trim());let a=await m(s).unwrap();o.toast.success(t("admin.db.fullDb.snapshotCreated",{label:a.label||a.filename||a.id})),i(""),d(""),e?.()}catch(e){o.toast.error(e?.data?.error||e?.message||t("admin.db.fullDb.snapshotError"))}},f=async()=>{try{var s,l;let a,i,n,d;s=await h().unwrap(),a=new Date,i=`${a.getFullYear()}${b(a.getMonth()+1)}${b(a.getDate())}_${b(a.getHours())}${b(a.getMinutes())}`,l=`db_backup_${i}.sql`,n=URL.createObjectURL(s),(d=document.createElement("a")).href=n,d.download=l,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(n),o.toast.success(t("admin.db.fullDb.exportSuccess")),e?.()}catch(e){o.toast.error(e?.data?.error||e?.message||t("admin.db.fullDb.exportError"))}},N=async()=>{o.toast.info(t("admin.db.fullDb.jsonNotImplemented"))};return(0,s.jsx)("div",{className:"card mb-3",children:(0,s.jsx)("div",{className:"card-body py-3",children:(0,s.jsxs)("div",{className:"d-flex flex-column flex-lg-row gap-3 justify-content-between",children:[(0,s.jsxs)("div",{style:{minWidth:0,flex:2},children:[(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("h5",{className:"mb-0 small fw-semibold",children:t("admin.db.fullDb.title")}),(0,s.jsx)("div",{className:"text-muted small",children:t("admin.db.fullDb.description")})]}),(0,s.jsxs)("div",{className:"row g-2 align-items-end",children:[(0,s.jsxs)("div",{className:"col-sm-4",children:[(0,s.jsx)("label",{className:"form-label small",children:t("admin.db.fullDb.snapshotLabel")}),(0,s.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:t("admin.db.fullDb.snapshotPlaceholder"),value:l,onChange:e=>i(e.target.value),disabled:p})]}),(0,s.jsxs)("div",{className:"col-sm-6",children:[(0,s.jsx)("label",{className:"form-label small",children:t("admin.db.fullDb.noteLabel")}),(0,s.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:t("admin.db.fullDb.notePlaceholder"),value:n,onChange:e=>d(e.target.value),disabled:p})]}),(0,s.jsx)("div",{className:"col-sm-2 d-flex justify-content-end",children:(0,s.jsx)("button",{type:"button",className:"btn btn-primary btn-sm mt-3 mt-sm-0",disabled:p,onClick:j,children:c?t("admin.db.fullDb.creating"):t("admin.db.fullDb.createButton")})})]})]}),(0,s.jsxs)("div",{className:"border-start ps-lg-3 ms-lg-3",style:{minWidth:0,flex:1},children:[(0,s.jsx)("div",{className:"small fw-semibold mb-1",children:t("admin.db.fullDb.downloadTitle")}),(0,s.jsx)("div",{className:"text-muted small mb-2",children:t("admin.db.fullDb.downloadDesc")}),(0,s.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",disabled:p,onClick:f,children:x?t("admin.db.fullDb.sqlPreparing"):t("admin.db.fullDb.sqlButton")}),(0,s.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",disabled:p,onClick:N,children:t("admin.db.fullDb.jsonButton")})]})]})]})})})};function x(e,s="İşlem sırasında hata oluştu."){if(!e)return s;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return String(e);if(e instanceof Error)return e.message||s;let t=e?.data?.message??e?.data?.error??e?.message??e?.error??e?.statusText;if("string"==typeof t&&t.trim())return t;try{return JSON.stringify(e)}catch{return s}}let p=e=>{let l,i,n,d,m,c,o,u,b,h,x,p,f=(0,t.c)(31),{title:N,children:v,align:g,icon:y,defaultOpen:w,className:k,minWidth:S,maxWidth:C}=e,D=void 0===N?"Açıklama":N,_=void 0===g?"start":g,T=void 0===S?280:S,B=void 0===C?420:C,L=(0,r.useAdminT)(),R=(0,a.useId)();if(f[0]!==R){let e;f[2]===Symbol.for("react.memo_cache_sentinel")?(e=/[:]/g,f[2]=e):e=f[2],l=R.replace(e,"_"),f[0]=R,f[1]=l}else l=f[1];let q=`help_${l}`,[F,E]=(0,a.useState)(void 0!==w&&w),A=(0,a.useRef)(null),M=(0,a.useRef)(null),H="bulb"===(void 0===y?"question":y)?"i":"?";f[3]===Symbol.for("react.memo_cache_sentinel")?(i=()=>E(!1),f[3]=i):i=f[3];let z=i;f[4]===Symbol.for("react.memo_cache_sentinel")?(n=()=>E(j),f[4]=n):n=f[4];let I=n;f[5]!==F?(d=()=>{if(!F)return;let e=e=>{let s=e.target;if(!s)return;let t=A.current,l=M.current;t&&t.contains(s)||l&&l.contains(s)||z()},s=e=>{"Escape"===e.key&&z()};return document.addEventListener("mousedown",e,!0),document.addEventListener("keydown",s,!0),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("keydown",s,!0)}},m=[F],f[5]=F,f[6]=d,f[7]=m):(d=f[6],m=f[7]),(0,a.useEffect)(d,m);let U="d-inline-flex align-items-center position-relative "+(void 0===k?"":k);return f[8]===Symbol.for("react.memo_cache_sentinel")?(c={verticalAlign:"middle"},f[8]=c):c=f[8],f[9]===Symbol.for("react.memo_cache_sentinel")?(o={lineHeight:1},f[9]=o):o=f[9],f[10]===Symbol.for("react.memo_cache_sentinel")?(u={width:18,height:18,fontSize:12,userSelect:"none"},f[10]=u):u=f[10],f[11]!==H?(b=(0,s.jsx)("span",{className:"d-inline-flex align-items-center justify-content-center border rounded-circle",style:u,children:H}),f[11]=H,f[12]=b):b=f[12],f[13]!==q||f[14]!==F||f[15]!==b||f[16]!==D?(h=(0,s.jsx)("button",{type:"button",className:"btn btn-link p-0 ms-1 text-decoration-none","aria-expanded":F,"aria-controls":q,title:D,onClick:I,style:o,children:b}),f[13]=q,f[14]=F,f[15]=b,f[16]=D,f[17]=h):h=f[17],f[18]!==_||f[19]!==v||f[20]!==q||f[21]!==B||f[22]!==T||f[23]!==F||f[24]!==L||f[25]!==D?(x=F?(0,s.jsx)("div",{id:q,ref:M,className:"position-absolute",style:{zIndex:1050,top:"100%",marginTop:6,minWidth:T,maxWidth:B,..."end"===_?{right:0}:{left:0}},role:"dialog","aria-label":D,children:(0,s.jsx)("div",{className:"card shadow-sm border",children:(0,s.jsxs)("div",{className:"card-body py-2",children:[(0,s.jsxs)("div",{className:"d-flex align-items-start justify-content-between gap-2 mb-1",children:[(0,s.jsx)("div",{className:"fw-semibold small",children:D}),(0,s.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:z,"aria-label":L("admin.db.help.closeButton"),title:L("admin.db.help.closeButton"),style:{padding:"0px 6px",lineHeight:1.2},children:"×"})]}),(0,s.jsx)("div",{className:"small text-muted",style:{maxHeight:220,overflow:"auto"},children:v}),(0,s.jsx)("div",{className:"mt-2 text-muted",style:{fontSize:11},children:L("admin.db.help.closeHint")})]})})}):null,f[18]=_,f[19]=v,f[20]=q,f[21]=B,f[22]=T,f[23]=F,f[24]=L,f[25]=D,f[26]=x):x=f[26],f[27]!==U||f[28]!==h||f[29]!==x?(p=(0,s.jsxs)("span",{ref:A,className:U,style:c,children:[h,x]}),f[27]=U,f[28]=h,f[29]=x,f[30]=p):p=f[30],p};function j(e){return!e}let f=e=>{let l,a,i,n=(0,t.c)(7),{headline:d,children:r}=e;return n[0]!==d?(l=d?(0,s.jsx)("div",{className:"fw-semibold small mb-1",children:d}):null,n[0]=d,n[1]=l):l=n[1],n[2]!==r?(a=(0,s.jsx)("div",{className:"small text-muted",children:r}),n[2]=r,n[3]=a):a=n[3],n[4]!==l||n[5]!==a?(i=(0,s.jsxs)("div",{children:[l,a]}),n[4]=l,n[5]=a,n[6]=i):i=n[6],i},N=()=>{let e=(0,r.useAdminT)(),[t,l]=(0,a.useState)("text"),[i,n]=(0,a.useState)(""),[d,m]=(0,a.useState)(!0),[c,b]=(0,a.useState)(!1),[h,j]=(0,a.useState)(""),[N,v]=(0,a.useState)(!0),[g,y]=(0,a.useState)(!1),[w,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(!0),[D,_]=(0,a.useState)(0),[T,{isLoading:B}]=(0,u.useImportSqlTextMutation)(),[L,{isLoading:R}]=(0,u.useImportSqlUrlMutation)(),[q,{isLoading:F}]=(0,u.useImportSqlFileMutation)(),E=B||R||F,A=(0,a.useMemo)(()=>"text"===t?e("admin.db.import.tabs.text"):"url"===t?e("admin.db.import.tabs.url"):e("admin.db.import.tabs.file"),[t,e]),M=async s=>{if(s.preventDefault(),!i.trim())return o.toast.error(e("admin.db.import.text.required"));if(!c){var t;let s=d?e("admin.db.import.confirm.truncateYes"):e("admin.db.import.confirm.truncateNo");if(t=e("admin.db.import.confirm.text",{truncate:s}),!window.confirm(t))return}try{let s=await T({sql:i,truncateBefore:d,dryRun:c}).unwrap();if(!s?.ok)return o.toast.error(x(s?.error||s?.message||s,e("admin.db.import.error.text")));s.dryRun?o.toast.success(e("admin.db.import.success.dryRun")):(o.toast.success(e("admin.db.import.success.text")),n(""))}catch(s){o.toast.error(x(s,e("admin.db.import.error.textGeneric")))}},H=async s=>{if(s.preventDefault(),!h.trim())return o.toast.error(e("admin.db.import.url.required"));if(!g){var t;let s=N?e("admin.db.import.confirm.truncateYes"):e("admin.db.import.confirm.truncateNo");if(t=e("admin.db.import.confirm.url",{url:h,truncate:s}),!window.confirm(t))return}try{let s=await L({url:h.trim(),truncateBefore:N,dryRun:g}).unwrap();if(!s?.ok)return o.toast.error(x(s?.error||s?.message||s,e("admin.db.import.error.url")));s.dryRun?o.toast.success(e("admin.db.import.success.dryRun")):(o.toast.success(e("admin.db.import.success.url")),j(""))}catch(s){o.toast.error(x(s,e("admin.db.import.error.urlGeneric")))}},z=async s=>{var t;if(s.preventDefault(),!w)return o.toast.error(e("admin.db.import.file.required"));let l=S?e("admin.db.import.confirm.truncateYes"):e("admin.db.import.confirm.truncateNo");if(t=e("admin.db.import.confirm.file",{file:w.name,truncate:l}),window.confirm(t))try{let s=await q({file:w,truncateBefore:S}).unwrap();if(!s?.ok)return o.toast.error(x(s?.error||s?.message||s,e("admin.db.import.error.file")));o.toast.success(e("admin.db.import.success.file")),k(null),_(e=>e+1)}catch(s){o.toast.error(x(s,e("admin.db.import.error.fileGeneric")))}};return(0,s.jsxs)("div",{className:"card mb-3",children:[(0,s.jsxs)("div",{className:"card-header py-2 d-flex justify-content-between align-items-center flex-wrap gap-2 position-relative",children:[(0,s.jsxs)("span",{className:"small fw-semibold d-inline-flex align-items-center gap-2 flex-wrap",children:[e("admin.db.import.title")," ",(0,s.jsxs)("span",{className:"text-muted",children:["— ",A]}),(0,s.jsx)(p,{icon:"question",title:e("admin.db.import.helpTitle"),align:"end",children:(0,s.jsx)(f,{headline:e("admin.db.import.helpHeadline"),children:(0,s.jsxs)("ul",{className:"mb-0 ps-3",children:[(0,s.jsx)("li",{children:e("admin.db.import.helpDesc1")}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Truncate"}),": ",e("admin.db.import.helpDesc2")]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Dry run"}),": ",e("admin.db.import.helpDesc3")]})]})})})]}),E&&(0,s.jsx)("span",{className:"badge bg-secondary small",children:e("admin.db.import.processing")})]}),(0,s.jsxs)("div",{className:"card-body position-relative",children:[(0,s.jsxs)("p",{className:"text-muted small mb-3",children:[(0,s.jsx)("strong",{children:e("admin.db.import.dangerLabel")})," ",e("admin.db.import.warning")]}),(0,s.jsxs)("ul",{className:"nav nav-tabs small mb-3 flex-wrap",children:[(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("button",{type:"button",className:"nav-link py-1 px-2 "+("text"===t?"active":""),onClick:()=>l("text"),disabled:E,children:e("admin.db.import.tabs.text")})}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("button",{type:"button",className:"nav-link py-1 px-2 "+("url"===t?"active":""),onClick:()=>l("url"),disabled:E,children:e("admin.db.import.tabs.url")})}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("button",{type:"button",className:"nav-link py-1 px-2 "+("file"===t?"active":""),onClick:()=>l("file"),disabled:E,children:e("admin.db.import.tabs.file")})})]}),"text"===t&&(0,s.jsxs)("form",{onSubmit:M,children:[(0,s.jsxs)("div",{className:"mb-2 position-relative",children:[(0,s.jsxs)("label",{className:"form-label small d-flex align-items-center gap-1 flex-wrap",children:[e("admin.db.import.text.label")," ",(0,s.jsx)("span",{className:"text-danger",children:"*"}),(0,s.jsx)(p,{icon:"question",title:e("admin.db.import.text.helpTitle"),children:(0,s.jsx)(f,{headline:e("admin.db.import.text.helpHeadline"),children:(0,s.jsxs)("ul",{className:"mb-0 ps-3",children:[(0,s.jsx)("li",{children:e("admin.db.import.text.helpDesc1")}),(0,s.jsx)("li",{children:e("admin.db.import.text.helpDesc2")}),(0,s.jsx)("li",{children:e("admin.db.import.text.helpDesc3")})]})})})]}),(0,s.jsx)("textarea",{className:"form-control form-control-sm",rows:8,value:i,onChange:e=>n(e.target.value),placeholder:e("admin.db.import.text.placeholder"),disabled:E})]}),(0,s.jsxs)("div",{className:"d-flex flex-wrap gap-3 mb-3",children:[(0,s.jsxs)("div",{className:"form-check position-relative",children:[(0,s.jsx)("input",{id:"import-text-truncate",className:"form-check-input",type:"checkbox",checked:d,onChange:e=>m(e.target.checked),disabled:E}),(0,s.jsxs)("label",{className:"form-check-label small",htmlFor:"import-text-truncate",children:[e("admin.db.import.truncate.label"),(0,s.jsx)(p,{icon:"bulb",title:e("admin.db.import.truncate.helpTitle"),children:(0,s.jsx)(f,{headline:e("admin.db.import.truncate.helpHeadline"),children:(0,s.jsx)("div",{children:e("admin.db.import.truncate.helpDesc")})})})]})]}),(0,s.jsxs)("div",{className:"form-check position-relative",children:[(0,s.jsx)("input",{id:"import-text-dryrun",className:"form-check-input",type:"checkbox",checked:c,onChange:e=>b(e.target.checked),disabled:E}),(0,s.jsxs)("label",{className:"form-check-label small",htmlFor:"import-text-dryrun",children:[e("admin.db.import.dryRun.label"),(0,s.jsx)(p,{icon:"question",title:e("admin.db.import.dryRun.helpTitle"),children:(0,s.jsx)(f,{headline:e("admin.db.import.dryRun.helpHeadline"),children:(0,s.jsx)("div",{children:e("admin.db.import.dryRun.helpDesc")})})})]})]})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-danger btn-sm",disabled:E,children:B?e("admin.db.import.buttons.importing"):e("admin.db.import.buttons.apply")})]}),"url"===t&&(0,s.jsxs)("form",{onSubmit:H,children:[(0,s.jsxs)("div",{className:"mb-2 position-relative",children:[(0,s.jsxs)("label",{className:"form-label small d-flex align-items-center gap-1 flex-wrap",children:[e("admin.db.import.url.label")," ",(0,s.jsx)("span",{className:"text-danger",children:"*"}),(0,s.jsx)(p,{icon:"question",title:e("admin.db.import.url.helpTitle"),children:(0,s.jsx)(f,{headline:e("admin.db.import.url.helpHeadline"),children:(0,s.jsxs)("ul",{className:"mb-0 ps-3",children:[(0,s.jsx)("li",{children:e("admin.db.import.url.helpDesc1")}),(0,s.jsx)("li",{children:e("admin.db.import.url.helpDesc2")}),(0,s.jsx)("li",{children:e("admin.db.import.url.helpDesc3")})]})})})]}),(0,s.jsx)("input",{type:"url",className:"form-control form-control-sm",placeholder:e("admin.db.import.url.placeholder"),value:h,onChange:e=>j(e.target.value),disabled:E})]}),(0,s.jsxs)("div",{className:"d-flex flex-wrap gap-3 mb-3",children:[(0,s.jsxs)("div",{className:"form-check position-relative",children:[(0,s.jsx)("input",{id:"import-url-truncate",className:"form-check-input",type:"checkbox",checked:N,onChange:e=>v(e.target.checked),disabled:E}),(0,s.jsxs)("label",{className:"form-check-label small",htmlFor:"import-url-truncate",children:[e("admin.db.import.truncate.label"),(0,s.jsx)(p,{icon:"bulb",title:e("admin.db.import.truncate.helpTitle"),children:(0,s.jsx)(f,{headline:e("admin.db.import.truncate.helpHeadline"),children:(0,s.jsx)("div",{children:e("admin.db.import.truncate.helpDesc")})})})]})]}),(0,s.jsxs)("div",{className:"form-check position-relative",children:[(0,s.jsx)("input",{id:"import-url-dryrun",className:"form-check-input",type:"checkbox",checked:g,onChange:e=>y(e.target.checked),disabled:E}),(0,s.jsxs)("label",{className:"form-check-label small",htmlFor:"import-url-dryrun",children:[e("admin.db.import.dryRun.label"),(0,s.jsx)(p,{icon:"question",title:e("admin.db.import.dryRun.helpTitle"),children:(0,s.jsx)(f,{headline:e("admin.db.import.dryRun.helpHeadline"),children:(0,s.jsx)("div",{children:e("admin.db.import.dryRun.helpDescUrl")})})})]})]})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-danger btn-sm",disabled:E,children:R?e("admin.db.import.buttons.importing"):e("admin.db.import.buttons.importFromUrl")})]}),"file"===t&&(0,s.jsxs)("form",{onSubmit:z,children:[(0,s.jsxs)("div",{className:"mb-2 position-relative",children:[(0,s.jsxs)("label",{className:"form-label small d-flex align-items-center gap-1 flex-wrap",children:[e("admin.db.import.file.label")," ",(0,s.jsx)("span",{className:"text-danger",children:"*"}),(0,s.jsx)(p,{icon:"question",title:e("admin.db.import.file.helpTitle"),children:(0,s.jsx)(f,{headline:e("admin.db.import.file.helpHeadline"),children:(0,s.jsxs)("ul",{className:"mb-0 ps-3",children:[(0,s.jsx)("li",{children:e("admin.db.import.file.helpDesc1")}),(0,s.jsx)("li",{children:e("admin.db.import.file.helpDesc2")}),(0,s.jsx)("li",{children:e("admin.db.import.file.helpDesc3")})]})})})]}),(0,s.jsx)("input",{type:"file",className:"form-control form-control-sm",accept:".sql,.gz,.sql.gz",onChange:e=>k(e.target.files?.[0]||null),disabled:E},D),w&&(0,s.jsxs)("div",{className:"text-muted small mt-1",children:[e("admin.db.import.file.selected")," ",(0,s.jsx)("code",{children:w.name})]}),(0,s.jsxs)("div",{className:"text-muted small mt-1",children:[e("admin.common.note"),": ",e("admin.db.import.file.note")]})]}),(0,s.jsxs)("div",{className:"form-check mb-3 position-relative",children:[(0,s.jsx)("input",{id:"import-file-truncate",className:"form-check-input",type:"checkbox",checked:S,onChange:e=>C(e.target.checked),disabled:E}),(0,s.jsxs)("label",{className:"form-check-label small",htmlFor:"import-file-truncate",children:[e("admin.db.import.truncate.label"),(0,s.jsx)(p,{icon:"bulb",title:e("admin.db.import.truncate.helpTitle"),children:(0,s.jsx)(f,{headline:e("admin.db.import.truncate.helpHeadline"),children:(0,s.jsx)("div",{children:e("admin.db.import.truncate.helpDescFile")})})})]})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-danger btn-sm",disabled:E,children:F?e("admin.db.import.buttons.importing"):e("admin.db.import.buttons.importFromFile")})]})]})]})},v=e=>null==e?"":String(e);function g(e,s="tr-TR"){if(!e)return"-";try{let t=new Date(e);if(Number.isNaN(t.getTime()))return v(e)||"-";return t.toLocaleString(s)}catch{return v(e)||"-"}}function y(e){if(null==e||Number.isNaN(e))return"-";if(e<1024)return`${e} B`;let s=e/1024;if(s<1024)return`${s.toFixed(1)} KB`;let t=s/1024;if(t<1024)return`${t.toFixed(1)} MB`;let l=t/1024;return`${l.toFixed(1)} GB`}let w={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},k=({items:e,loading:t,refetch:l})=>{let i=(0,r.useAdminT)(),n=e||[],d=n.length>0,[m,{isLoading:c}]=(0,u.useRestoreDbSnapshotMutation)(),[b,{isLoading:h}]=(0,u.useDeleteDbSnapshotMutation)(),x=t||c||h,p=(0,a.useMemo)(()=>{let e=n.length;return Number.isFinite(e)?e:0},[n.length]),j=async e=>{var s;if(s=i("admin.db.snapshots.restoreConfirm",{label:e.label||e.filename||e.id}),window.confirm(s))try{let s=await m({id:e.id,dryRun:!1,truncateBefore:!0}).unwrap();s?.ok===!1?o.toast.error(s.error||i("admin.db.snapshots.restoreError")):o.toast.success(i("admin.db.snapshots.restoreSuccess")),l()}catch(s){let e=s?.data?.error||s?.message||i("admin.db.snapshots.restoreFailed");o.toast.error(e)}},f=async e=>{var s;if(s=i("admin.db.snapshots.deleteConfirm",{label:e.label||e.filename||e.id}),window.confirm(s))try{let s=await b({id:e.id}).unwrap();s?.ok===!1?o.toast.error(s.message||i("admin.db.snapshots.deleteFailed")):o.toast.success(s.message||i("admin.db.snapshots.deleteSuccess")),l()}catch(s){let e=s?.data?.error||s?.message||i("admin.db.snapshots.deleteError");o.toast.error(e)}};return(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{className:"card-header py-2 d-flex align-items-center justify-content-between",children:[(0,s.jsx)("span",{className:"small fw-semibold",children:i("admin.db.snapshots.title")}),(0,s.jsxs)("div",{className:"d-flex align-items-center gap-2 flex-wrap",children:[x&&(0,s.jsx)("span",{className:"badge bg-secondary small",children:i("admin.db.snapshots.processing")}),(0,s.jsxs)("span",{className:"text-muted small",children:[i("admin.db.snapshots.total")," ",(0,s.jsx)("strong",{children:p})]})]})]}),(0,s.jsxs)("div",{className:"card-body p-0",children:[(0,s.jsxs)("div",{className:"d-none d-xl-block",children:[(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-hover table-sm mb-0 align-middle",style:{width:"100%",minWidth:980,tableLayout:"fixed"},children:[(0,s.jsx)("thead",{className:"table-light",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-nowrap",style:{width:64},children:i("admin.db.snapshots.columns.index")}),(0,s.jsx)("th",{className:"text-nowrap",style:{width:280},children:i("admin.db.snapshots.columns.labelNote")}),(0,s.jsx)("th",{className:"text-nowrap",style:{width:380},children:i("admin.db.snapshots.columns.file")}),(0,s.jsx)("th",{className:"text-nowrap",style:{width:200},children:i("admin.db.snapshots.columns.created")}),(0,s.jsx)("th",{className:"text-nowrap",style:{width:120},children:i("admin.db.snapshots.columns.size")}),(0,s.jsx)("th",{className:"text-nowrap text-end",style:{width:220},children:i("admin.db.snapshots.columns.actions")})]})}),(0,s.jsxs)("tbody",{children:[d?n.map((e,t)=>{let l=v(e.label).trim(),a=v(e.note).trim(),n=v(e.filename).trim(),d=v(e.id).trim();return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"text-muted small text-nowrap",children:t+1}),(0,s.jsxs)("td",{style:{minWidth:0},children:[(0,s.jsx)("div",{className:"fw-semibold small",style:w,title:l||i("admin.db.snapshots.noLabel"),children:l||(0,s.jsx)("span",{className:"text-muted",children:i("admin.db.snapshots.noLabel")})}),a?(0,s.jsx)("div",{className:"text-muted small",style:w,title:a,children:a}):(0,s.jsx)("div",{className:"text-muted small",children:i("admin.db.snapshots.noNote")})]}),(0,s.jsxs)("td",{style:{minWidth:0},children:[(0,s.jsx)("div",{style:w,title:n||"-",children:(0,s.jsx)("code",{className:"small",children:n||"-"})}),(0,s.jsxs)("div",{className:"text-muted small",style:w,title:d,children:["ID: ",(0,s.jsx)("code",{className:"small",children:d})]})]}),(0,s.jsx)("td",{className:"text-muted small text-nowrap",children:g(e.created_at)}),(0,s.jsx)("td",{className:"small text-nowrap",children:y(e.size_bytes??null)}),(0,s.jsx)("td",{className:"text-end",children:(0,s.jsxs)("div",{className:"d-inline-flex gap-1 flex-nowrap",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-outline-success btn-sm text-nowrap",disabled:x,onClick:()=>j(e),children:i("admin.db.snapshots.restore")}),(0,s.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-sm text-nowrap",disabled:x,onClick:()=>f(e),children:i("admin.db.snapshots.delete")})]})})]},d||`${t}`)}):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,children:(0,s.jsx)("div",{className:"text-center text-muted small py-3",children:t?i("admin.db.snapshots.loading"):i("admin.db.snapshots.noData")})})}),t&&d&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"text-center py-3 text-muted small",children:i("admin.db.snapshots.loading")})})]})]})}),(0,s.jsx)("div",{className:"px-3 py-2 border-top",children:(0,s.jsx)("span",{className:"text-muted small",children:i("admin.db.snapshots.scrollNote")})})]}),(0,s.jsx)("div",{className:"d-block d-xl-none",children:d||t?t&&!d?(0,s.jsx)("div",{className:"px-3 py-3 text-center text-muted small",children:i("admin.db.snapshots.loading")}):(0,s.jsx)("div",{className:"p-2",children:(0,s.jsxs)("div",{className:"row g-2",children:[n.map((e,t)=>{let l=v(e.label).trim(),a=v(e.note).trim(),n=v(e.filename).trim(),d=v(e.id).trim();return(0,s.jsx)("div",{className:"col-12",children:(0,s.jsxs)("div",{className:"border rounded-3 p-3 bg-white",children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-start gap-2",children:[(0,s.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,s.jsxs)("span",{className:"badge bg-light text-dark border",children:["#",t+1]}),(0,s.jsx)("span",{className:"badge bg-secondary-subtle text-muted border",children:y(e.size_bytes??null)}),(0,s.jsx)("span",{className:"badge bg-light text-dark border",children:g(e.created_at)})]}),(0,s.jsxs)("div",{className:"d-flex gap-2 flex-wrap justify-content-end",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-outline-success btn-sm",disabled:x,onClick:()=>j(e),children:i("admin.db.snapshots.restore")}),(0,s.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-sm",disabled:x,onClick:()=>f(e),children:i("admin.db.snapshots.delete")})]})]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("div",{className:"fw-semibold",style:{wordBreak:"break-word"},children:l||(0,s.jsx)("span",{className:"text-muted",children:i("admin.db.snapshots.noLabel")})}),a?(0,s.jsx)("div",{className:"text-muted small mt-1",style:{wordBreak:"break-word"},children:a}):(0,s.jsx)("div",{className:"text-muted small mt-1",children:i("admin.db.snapshots.noNote")})]}),(0,s.jsxs)("div",{className:"mt-2 text-muted small",style:{wordBreak:"break-word"},children:[(0,s.jsx)("div",{className:"fw-semibold text-dark small",children:i("admin.db.snapshots.columns.file")}),(0,s.jsx)("code",{children:n||"-"})]}),(0,s.jsxs)("div",{className:"mt-2 text-muted small",style:{wordBreak:"break-word"},children:[(0,s.jsx)("div",{className:"fw-semibold text-dark small",children:"ID"}),(0,s.jsx)("code",{children:d})]})]})},d||`${t}`)}),t&&d&&(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)("div",{className:"text-center text-muted small py-2",children:i("admin.db.snapshots.loading")})})]})}):(0,s.jsx)("div",{className:"px-3 py-3 text-center text-muted small",children:i("admin.db.snapshots.noData")})})]})]})},S=e=>{let l,a,i,n,d=(0,t.c)(11),{adminSkip:r}=e;d[0]!==r?(l={skip:r},d[0]=r,d[1]=l):l=d[1];let{data:m,isLoading:c,isFetching:o,refetch:b}=(0,u.useListDbSnapshotsQuery)(void 0,l),h=c||o;d[2]!==r||d[3]!==b?(a=()=>{r||b()},d[2]=r,d[3]=b,d[4]=a):a=d[4];let x=a;return d[5]!==m?(i=m??[],d[5]=m,d[6]=i):i=d[6],d[7]!==x||d[8]!==h||d[9]!==i?(n=(0,s.jsx)(k,{items:i,loading:h,refetch:x}),d[7]=x,d[8]=h,d[9]=i,d[10]=n):n=d[10],n},C=e=>{let l,i,n,d,m,c,u,b,h,x,p,j,f,N,v,g,y=(0,t.c)(40),{module:w,disabled:k}=e,S=(0,r.useAdminT)(),[C,D]=(0,a.useState)("sql");y[0]!==S?(l=async()=>{o.toast.info(S("admin.db.modules.export.notImplemented"))},y[0]=S,y[1]=l):l=y[1];let _=l;y[2]!==S?(i=S("admin.db.modules.export.title"),y[2]=S,y[3]=i):i=y[3],y[4]!==i?(n=(0,s.jsx)("div",{className:"fw-semibold small",children:i}),y[4]=i,y[5]=n):n=y[5],y[6]!==w||y[7]!==S?(d=S("admin.db.modules.export.description",{module:w}),y[6]=w,y[7]=S,y[8]=d):d=y[8],y[9]!==d?(m=(0,s.jsx)("div",{className:"text-muted small",children:d}),y[9]=d,y[10]=m):m=y[10],y[11]!==n||y[12]!==m?(c=(0,s.jsxs)("div",{children:[n,m]}),y[11]=n,y[12]=m,y[13]=c):c=y[13],y[14]===Symbol.for("react.memo_cache_sentinel")?(u=e=>D(e.target.value),y[14]=u):u=y[14];let T=k||!1;y[15]!==S?(b=S("admin.db.modules.export.format.sql"),y[15]=S,y[16]=b):b=y[16],y[17]!==b?(h=(0,s.jsx)("option",{value:"sql",children:b}),y[17]=b,y[18]=h):h=y[18],y[19]!==S?(x=S("admin.db.modules.export.format.json"),y[19]=S,y[20]=x):x=y[20],y[21]!==x?(p=(0,s.jsx)("option",{value:"json",children:x}),y[21]=x,y[22]=p):p=y[22],y[23]!==C||y[24]!==h||y[25]!==p||y[26]!==T?(j=(0,s.jsxs)("select",{className:"form-select form-select-sm",value:C,onChange:u,disabled:T,children:[h,p]}),y[23]=C,y[24]=h,y[25]=p,y[26]=T,y[27]=j):j=y[27];let B=k||!1;return y[28]!==S?(f=S("admin.db.modules.export.downloadButton"),y[28]=S,y[29]=f):f=y[29],y[30]!==_||y[31]!==B||y[32]!==f?(N=(0,s.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:_,disabled:B,children:f}),y[30]=_,y[31]=B,y[32]=f,y[33]=N):N=y[33],y[34]!==j||y[35]!==N?(v=(0,s.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[j,N]}),y[34]=j,y[35]=N,y[36]=v):v=y[36],y[37]!==v||y[38]!==c?(g=(0,s.jsx)("div",{className:"border rounded-3 p-3",children:(0,s.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-wrap gap-2",children:[c,v]})}),y[37]=v,y[38]=c,y[39]=g):g=y[39],g},D=e=>{let l,i,n,d,m,c,u,b,h,x,p,j,f,N,v,g,y,w,k,S,C,D,_,T=(0,t.c)(64),{module:B,disabled:L}=e,R=(0,r.useAdminT)(),[q,F]=(0,a.useState)("text"),[E,A]=(0,a.useState)(""),[M,H]=(0,a.useState)(!0),[,z]=(0,a.useState)(null),[I]=(0,a.useState)(0),U=L||!1;T[0]!==R?(l=async e=>{e.preventDefault(),o.toast.info(R("admin.db.modules.import.notImplemented"))},T[0]=R,T[1]=l):l=T[1];let $=l;T[2]!==R?(i=async e=>{e.preventDefault(),o.toast.info(R("admin.db.modules.import.notImplemented"))},T[2]=R,T[3]=i):i=T[3];let P=i;T[4]!==R?(n=R("admin.db.modules.import.title"),T[4]=R,T[5]=n):n=T[5],T[6]!==n?(d=(0,s.jsx)("div",{className:"fw-semibold small",children:n}),T[6]=n,T[7]=d):d=T[7],T[8]!==B||T[9]!==R?(m=R("admin.db.modules.import.description",{module:B}),T[8]=B,T[9]=R,T[10]=m):m=T[10],T[11]!==m?(c=(0,s.jsx)("div",{className:"text-muted small",children:m}),T[11]=m,T[12]=c):c=T[12],T[13]!==d||T[14]!==c?(u=(0,s.jsxs)("div",{children:[d,c]}),T[13]=d,T[14]=c,T[15]=u):u=T[15],T[16]===Symbol.for("react.memo_cache_sentinel")?(b=e=>H(e.target.checked),T[16]=b):b=T[16],T[17]!==U||T[18]!==M?(h=(0,s.jsx)("input",{id:"module-import-truncate",className:"form-check-input",type:"checkbox",checked:M,onChange:b,disabled:U}),T[17]=U,T[18]=M,T[19]=h):h=T[19],T[20]!==R?(x=R("admin.db.modules.import.truncate"),T[20]=R,T[21]=x):x=T[21],T[22]!==x?(p=(0,s.jsx)("label",{className:"form-check-label small",htmlFor:"module-import-truncate",children:x}),T[22]=x,T[23]=p):p=T[23],T[24]!==p||T[25]!==h?(j=(0,s.jsxs)("div",{className:"form-check",children:[h,p]}),T[24]=p,T[25]=h,T[26]=j):j=T[26],T[27]!==j||T[28]!==u?(f=(0,s.jsxs)("div",{className:"d-flex align-items-start justify-content-between flex-wrap gap-2 mb-2",children:[u,j]}),T[27]=j,T[28]=u,T[29]=f):f=T[29];let O="nav-link py-1 px-2 "+("text"===q?"active":"");T[30]===Symbol.for("react.memo_cache_sentinel")?(N=()=>F("text"),T[30]=N):N=T[30],T[31]!==R?(v=R("admin.db.modules.import.tabs.text"),T[31]=R,T[32]=v):v=T[32],T[33]!==U||T[34]!==O||T[35]!==v?(g=(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("button",{type:"button",className:O,onClick:N,disabled:U,children:v})}),T[33]=U,T[34]=O,T[35]=v,T[36]=g):g=T[36];let W="nav-link py-1 px-2 "+("file"===q?"active":"");return T[37]===Symbol.for("react.memo_cache_sentinel")?(y=()=>F("file"),T[37]=y):y=T[37],T[38]!==R?(w=R("admin.db.modules.import.tabs.file"),T[38]=R,T[39]=w):w=T[39],T[40]!==U||T[41]!==W||T[42]!==w?(k=(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("button",{type:"button",className:W,onClick:y,disabled:U,children:w})}),T[40]=U,T[41]=W,T[42]=w,T[43]=k):k=T[43],T[44]!==g||T[45]!==k?(S=(0,s.jsxs)("ul",{className:"nav nav-tabs small mb-3 flex-wrap",children:[g,k]}),T[44]=g,T[45]=k,T[46]=S):S=T[46],T[47]!==U||T[48]!==$||T[49]!==E||T[50]!==R||T[51]!==q?(C="text"===q&&(0,s.jsxs)("form",{onSubmit:$,children:[(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsxs)("label",{className:"form-label small",children:[R("admin.db.modules.import.text.label")," ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsx)("textarea",{className:"form-control form-control-sm",rows:8,value:E,onChange:e=>A(e.target.value),placeholder:R("admin.db.modules.import.text.placeholder"),disabled:U})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-danger btn-sm",disabled:U,children:R("admin.db.modules.import.applyButton")})]}),T[47]=U,T[48]=$,T[49]=E,T[50]=R,T[51]=q,T[52]=C):C=T[52],T[53]!==U||T[54]!==I||T[55]!==P||T[56]!==R||T[57]!==q?(D="file"===q&&(0,s.jsxs)("form",{onSubmit:P,children:[(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsxs)("label",{className:"form-label small",children:[R("admin.db.modules.import.file.label")," ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsx)("input",{type:"file",className:"form-control form-control-sm",accept:".sql,.gz,.sql.gz",onChange:e=>z(e.target.files?.[0]||null),disabled:U},I)]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-danger btn-sm",disabled:U,children:R("admin.db.modules.import.importButton")})]}),T[53]=U,T[54]=I,T[55]=P,T[56]=R,T[57]=q,T[58]=D):D=T[58],T[59]!==f||T[60]!==S||T[61]!==C||T[62]!==D?(_=(0,s.jsxs)("div",{className:"border rounded-3 p-3",children:[f,S,C,D]}),T[59]=f,T[60]=S,T[61]=C,T[62]=D,T[63]=_):_=T[63],_},_=e=>{let l,a,i,n,d,m,c,o,u,b,h,x=(0,t.c)(28),{module:p,disabled:j}=e,f=(0,r.useAdminT)();x[0]!==j?(l=()=>{},x[0]=j,x[1]=l):l=x[1];let N=l;x[2]!==f?(a=f("admin.db.modules.validate.title"),x[2]=f,x[3]=a):a=x[3],x[4]!==a?(i=(0,s.jsx)("div",{className:"fw-semibold small",children:a}),x[4]=a,x[5]=i):i=x[5],x[6]!==f?(n=f("admin.db.modules.validate.description"),x[6]=f,x[7]=n):n=x[7],x[8]!==n?(d=(0,s.jsx)("div",{className:"text-muted small",children:n}),x[8]=n,x[9]=d):d=x[9],x[10]!==i||x[11]!==d?(m=(0,s.jsxs)("div",{children:[i,d]}),x[10]=i,x[11]=d,x[12]=m):m=x[12];let v=j||!1;return x[13]!==f?(c=f("admin.db.modules.validate.checkButton"),x[13]=f,x[14]=c):c=x[14],x[15]!==N||x[16]!==v||x[17]!==c?(o=(0,s.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:N,disabled:v,children:c}),x[15]=N,x[16]=v,x[17]=c,x[18]=o):o=x[18],x[19]!==m||x[20]!==o?(u=(0,s.jsxs)("div",{className:"d-flex align-items-start justify-content-between flex-wrap gap-2",children:[m,o]}),x[19]=m,x[20]=o,x[21]=u):u=x[21],x[22]!==p||x[23]!==f?(b=(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)("div",{className:"text-muted small",children:f("admin.db.modules.validate.noResult")})}),x[22]=p,x[23]=f,x[24]=b):b=x[24],x[25]!==u||x[26]!==b?(h=(0,s.jsxs)("div",{className:"border rounded-3 p-3",children:[u,b]}),x[25]=u,x[26]=b,x[27]=h):h=x[27],h},T=({disabled:e})=>{let t=(0,r.useAdminT)(),[l,i]=(0,a.useState)("en"),[n,d]=(0,a.useState)("de"),[m,c]=(0,a.useState)(!1),[u,b]=(0,a.useState)(!0),h=e||!1,x=(0,a.useMemo)(()=>(void 0)??["tr","en","de"],[void 0]),p=async()=>{try{let e=await ({unwrap:async()=>({ok:!1,error:"Not implemented"})}).unwrap();if(!e?.ok)return o.toast.error(e?.error||t("admin.db.modules.ui.bootstrapError"));o.toast.success(t("admin.db.modules.ui.bootstrapSuccess"))}catch(e){o.toast.error(e?.data?.error||e?.message||t("admin.db.modules.ui.bootstrapErrorGeneric"))}};return(0,s.jsxs)("div",{className:"border rounded-3 p-3",children:[(0,s.jsxs)("div",{className:"d-flex align-items-start justify-content-between flex-wrap gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"fw-semibold small",children:t("admin.db.modules.ui.title")}),(0,s.jsx)("div",{className:"text-muted small",children:t("admin.db.modules.ui.description")})]}),(0,s.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>o.toast.error(t("admin.db.modules.ui.downloadError")),disabled:h||!0,children:t("admin.db.modules.ui.downloadButton")})]}),(0,s.jsx)("hr",{}),(0,s.jsxs)("div",{className:"row g-2",children:[(0,s.jsxs)("div",{className:"col-md-3",children:[(0,s.jsx)("label",{className:"form-label small",children:t("admin.db.modules.ui.targetLocale")}),(0,s.jsx)("select",{className:"form-select form-select-sm",value:l,onChange:e=>i(e.target.value),disabled:h,children:x.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"col-md-3",children:[(0,s.jsx)("label",{className:"form-label small",children:t("admin.db.modules.ui.sourceLocale")}),(0,s.jsx)("select",{className:"form-select form-select-sm",value:n,onChange:e=>d(e.target.value),disabled:h,children:x.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"col-md-6 d-flex flex-wrap gap-3 align-items-end",children:[(0,s.jsxs)("div",{className:"form-check",children:[(0,s.jsx)("input",{id:"ui-overwrite",className:"form-check-input",type:"checkbox",checked:m,onChange:e=>c(e.target.checked),disabled:h}),(0,s.jsx)("label",{className:"form-check-label small",htmlFor:"ui-overwrite",children:t("admin.db.modules.ui.overwrite")})]}),(0,s.jsxs)("div",{className:"form-check",children:[(0,s.jsx)("input",{id:"ui-onlyUi",className:"form-check-input",type:"checkbox",checked:u,onChange:e=>b(e.target.checked),disabled:h}),(0,s.jsx)("label",{className:"form-check-label small",htmlFor:"ui-onlyUi",children:t("admin.db.modules.ui.onlyUiKeys")})]}),(0,s.jsx)("button",{type:"button",className:"btn btn-warning btn-sm ms-auto",onClick:p,disabled:h,children:t("admin.db.modules.ui.bootstrapButton")})]})]})]})},B=["site_settings","products","categories","subcategories","services","faqs","custom_pages","menuitem","slider","footer_sections","library","reviews","support","users","offers","storage"],L=e=>{let l,i,n,d,m,c,o,u,b,h,x,p,j,f,N,v,g,y,w,k,S,L,q,F,E,A,M,H,z=(0,t.c)(79),{adminSkip:I}=e,U=(0,r.useAdminT)(),[$,P]=(0,a.useState)("products"),[O,W]=(0,a.useState)("export"),G="site_settings"===$;if(z[0]!==$){let e=$.replace(/_/g," ");l=e.charAt(0).toUpperCase(),i=e.slice(1),z[0]=$,z[1]=l,z[2]=i}else l=z[1],i=z[2];let K=l+i;z[3]!==U?(n=U("admin.db.modules.title"),z[3]=U,z[4]=n):n=z[4],z[5]!==n?(d=(0,s.jsx)("div",{className:"small fw-semibold",children:n}),z[5]=n,z[6]=d):d=z[6],z[7]!==K||z[8]!==U?(m=U("admin.db.modules.selected",{module:K}),z[7]=K,z[8]=U,z[9]=m):m=z[9],z[10]!==m?(c=(0,s.jsx)("div",{className:"text-muted small",children:m}),z[10]=m,z[11]=c):c=z[11],z[12]!==d||z[13]!==c?(o=(0,s.jsxs)("div",{children:[d,c]}),z[12]=d,z[13]=c,z[14]=o):o=z[14],z[15]===Symbol.for("react.memo_cache_sentinel")?(u=e=>P(e.target.value),z[15]=u):u=z[15],z[16]===Symbol.for("react.memo_cache_sentinel")?(b=B.map(R),z[16]=b):b=z[16],z[17]!==I||z[18]!==$?(h=(0,s.jsx)("div",{className:"d-flex align-items-center gap-2",children:(0,s.jsx)("select",{className:"form-select form-select-sm",value:$,onChange:u,disabled:I,children:b})}),z[17]=I,z[18]=$,z[19]=h):h=z[19],z[20]!==h||z[21]!==o?(x=(0,s.jsxs)("div",{className:"card-header py-2 d-flex align-items-center justify-content-between flex-wrap gap-2",children:[o,h]}),z[20]=h,z[21]=o,z[22]=x):x=z[22];let Y="nav-link py-1 px-2 "+("export"===O?"active":"");z[23]===Symbol.for("react.memo_cache_sentinel")?(p=()=>W("export"),z[23]=p):p=z[23],z[24]!==U?(j=U("admin.db.modules.tabs.export"),z[24]=U,z[25]=j):j=z[25],z[26]!==I||z[27]!==Y||z[28]!==j?(f=(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("button",{type:"button",className:Y,onClick:p,disabled:I,children:j})}),z[26]=I,z[27]=Y,z[28]=j,z[29]=f):f=z[29];let Q="nav-link py-1 px-2 "+("import"===O?"active":"");z[30]===Symbol.for("react.memo_cache_sentinel")?(N=()=>W("import"),z[30]=N):N=z[30],z[31]!==U?(v=U("admin.db.modules.tabs.import"),z[31]=U,z[32]=v):v=z[32],z[33]!==I||z[34]!==Q||z[35]!==v?(g=(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("button",{type:"button",className:Q,onClick:N,disabled:I,children:v})}),z[33]=I,z[34]=Q,z[35]=v,z[36]=g):g=z[36];let J="nav-link py-1 px-2 "+("validate"===O?"active":"");return z[37]===Symbol.for("react.memo_cache_sentinel")?(y=()=>W("validate"),z[37]=y):y=z[37],z[38]!==U?(w=U("admin.db.modules.tabs.validate"),z[38]=U,z[39]=w):w=z[39],z[40]!==I||z[41]!==J||z[42]!==w?(k=(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("button",{type:"button",className:J,onClick:y,disabled:I,children:w})}),z[40]=I,z[41]=J,z[42]=w,z[43]=k):k=z[43],z[44]!==I||z[45]!==G||z[46]!==U||z[47]!==O?(S=G&&(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("button",{type:"button",className:"nav-link py-1 px-2 "+("ui"===O?"active":""),onClick:()=>W("ui"),disabled:I,children:U("admin.db.modules.tabs.ui")})}),z[44]=I,z[45]=G,z[46]=U,z[47]=O,z[48]=S):S=z[48],z[49]!==f||z[50]!==g||z[51]!==k||z[52]!==S?(L=(0,s.jsxs)("ul",{className:"nav nav-tabs small mb-3 flex-wrap",children:[f,g,k,S]}),z[49]=f,z[50]=g,z[51]=k,z[52]=S,z[53]=L):L=z[53],z[54]!==I||z[55]!==$||z[56]!==O?(q="export"===O&&(0,s.jsx)(C,{module:$,disabled:I}),z[54]=I,z[55]=$,z[56]=O,z[57]=q):q=z[57],z[58]!==I||z[59]!==$||z[60]!==O?(F="import"===O&&(0,s.jsx)(D,{module:$,disabled:I}),z[58]=I,z[59]=$,z[60]=O,z[61]=F):F=z[61],z[62]!==I||z[63]!==$||z[64]!==O?(E="validate"===O&&(0,s.jsx)(_,{module:$,disabled:I}),z[62]=I,z[63]=$,z[64]=O,z[65]=E):E=z[65],z[66]!==I||z[67]!==G||z[68]!==O?(A="ui"===O&&G&&(0,s.jsx)(T,{disabled:I}),z[66]=I,z[67]=G,z[68]=O,z[69]=A):A=z[69],z[70]!==L||z[71]!==q||z[72]!==F||z[73]!==E||z[74]!==A?(M=(0,s.jsxs)("div",{className:"card-body",children:[L,q,F,E,A]}),z[70]=L,z[71]=q,z[72]=F,z[73]=E,z[74]=A,z[75]=M):M=z[75],z[76]!==x||z[77]!==M?(H=(0,s.jsxs)("div",{className:"card mb-3",children:[x,M]}),z[76]=x,z[77]=M,z[78]=H):H=z[78],H};function R(e){return(0,s.jsx)("option",{value:e,children:e},e)}var q=e.i(37822),F=e.i(19455);e.s(["AdminDbClient",0,()=>{let e,a=(0,t.c)(2),i=(0,r.useAdminT)();return a[0]!==i?(e=(0,s.jsx)(c,{children:e=>{let{adminSkip:t}=e;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold",children:i("admin.db.title")}),(0,s.jsxs)(q.Popover,{children:[(0,s.jsx)(q.PopoverTrigger,{asChild:!0,children:(0,s.jsxs)(F.Button,{variant:"ghost",size:"sm",className:"size-8 p-0",children:[(0,s.jsx)(l,{className:"size-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"sr-only",children:i("admin.db.help.pageTitle")})]})}),(0,s.jsx)(q.PopoverContent,{align:"start",className:"w-80",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm font-semibold",children:i("admin.db.help.dbAdmin")}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"font-medium text-foreground",children:"Full DB"}),":"," ",i("admin.db.help.fullDbDesc")]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"font-medium text-foreground",children:"Snapshot"}),":"," ",i("admin.db.help.snapshotDesc")]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"font-medium text-foreground",children:"Module Export/Import"}),":"," ",i("admin.db.help.moduleDesc")]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"font-medium text-foreground",children:"UI (site_settings ui_*)"}),": ",i("admin.db.help.uiDesc")]})]})]})})]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:i("admin.db.description")})]})}),(0,s.jsxs)(m.Card,{children:[(0,s.jsx)(m.CardHeader,{children:(0,s.jsx)(m.CardTitle,{className:"text-base",children:"Full DB"})}),(0,s.jsxs)(m.CardContent,{className:"space-y-4",children:[(0,s.jsx)(h,{}),(0,s.jsx)(N,{})]})]}),(0,s.jsxs)(m.Card,{children:[(0,s.jsx)(m.CardHeader,{children:(0,s.jsx)(m.CardTitle,{className:"text-base",children:"Snapshots"})}),(0,s.jsx)(m.CardContent,{children:(0,s.jsx)(S,{adminSkip:t})})]}),(0,s.jsxs)(m.Card,{children:[(0,s.jsx)(m.CardHeader,{children:(0,s.jsx)(m.CardTitle,{className:"text-base",children:"Module Export / Import"})}),(0,s.jsx)(m.CardContent,{children:(0,s.jsx)(L,{adminSkip:t})})]})]})}}),a[0]=i,a[1]=e):e=a[1],e}],86419)}]);
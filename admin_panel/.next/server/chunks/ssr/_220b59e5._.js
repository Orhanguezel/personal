module.exports=[29246,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},30637,a=>{"use strict";var b=a.i(35133);function c(a){let c=String(a??"").trim();return c&&(0,b.normLocaleTag)(c)||""}function d(a,b="de"){return c(a)||b}a.s(["localeShortClient",()=>c,"localeShortClientOr",()=>d])},90899,a=>{"use strict";var b=a.i(30637);function c(a,d,e="de"){let f=Array.isArray(a)?a:[],g=new Set(f.map(a=>(0,b.localeShortClient)(a?.value)).filter(Boolean)),h=(0,b.localeShortClient)(d);if(h&&g.has(h))return h;let i=(0,b.localeShortClient)(f[0]?.value);return i&&g.has(i)?i:(0,b.localeShortClientOr)(e,e)}a.s(["resolveAdminApiLocale",()=>c])},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},29306,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(23292),f=a.i(210),g=a.i(14548),h=a.i(81560),i=a.i(96221),j=a.i(28551),k=a.i(90899),l=a.i(30637),m=a.i(99570),n=a.i(66718),o=a.i(70430),p=a.i(29246),q=a.i(91119),r=a.i(63658),s=a.i(86304),t=a.i(42737),u=a.i(86192);a.i(58501);var v=a.i(78393);function w(a){return a?.data?.error?.message||a?.data?.message||a?.message||"İşlem başarısız"}function x({id:a}){let x=(0,d.useRouter)(),y="new"===a,{localeOptions:z,defaultLocaleFromDb:A,coerceLocale:B,loading:C}=(0,j.useAdminLocales)(),D=c.useMemo(()=>Array.isArray(z)?z.map(a=>({value:a.value||"",label:a.label||a.value||""})):[],[z]),E=c.useMemo(()=>A||(0,l.localeShortClientOr)("de")||"de",[A]),{data:F,isLoading:G,error:H}=(0,v.useGetFooterSectionAdminQuery)({id:a,locale:void 0},{skip:y}),[I,{isLoading:J}]=(0,v.useCreateFooterSectionAdminMutation)(),[K,{isLoading:L}]=(0,v.useUpdateFooterSectionAdminMutation)(),[M,{isLoading:N}]=(0,v.useDeleteFooterSectionAdminMutation)(),[O,P]=c.useState({title:"",slug:"",description:"",is_active:!0,display_order:0,locale:E}),[Q,R]=c.useState(!1);c.useEffect(()=>{!y&&F&&P({title:F.title||"",slug:F.slug||"",description:F.description||"",is_active:F.is_active,display_order:F.display_order||0,locale:F.locale||E})},[F,y,E]),c.useEffect(()=>{y&&A&&!O.locale&&P(a=>({...a,locale:A}))},[y,A,O.locale]);let S=J||L||N||G,T=async b=>{if(b.preventDefault(),!O.title.trim())return void e.toast.error("Başlık gerekli");if(!O.slug.trim())return void e.toast.error("Slug gerekli");let c=O.locale||(0,k.resolveAdminApiLocale)(z,A,"de");try{if(y){let a={title:O.title.trim(),slug:O.slug.trim(),description:O.description.trim()||null,is_active:O.is_active,display_order:O.display_order,locale:c};await I(a).unwrap(),e.toast.success("Kayıt oluşturuldu"),x.push("/admin/footer-sections")}else await K({id:a,data:{title:O.title.trim(),slug:O.slug.trim(),description:O.description.trim()||null,is_active:O.is_active,display_order:O.display_order,locale:c}}).unwrap(),e.toast.success("Kayıt güncellendi")}catch(a){e.toast.error(w(a))}},U=async()=>{if(!y)try{await M(a).unwrap(),e.toast.success("Kayıt silindi"),x.push("/admin/footer-sections")}catch(a){e.toast.error(w(a))}};return H?(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)(q.Card,{children:(0,b.jsxs)(q.CardContent,{className:"py-12 text-center",children:[(0,b.jsxs)("div",{className:"text-destructive",children:["Kayıt yüklenemedi: ",w(H)]}),(0,b.jsxs)(m.Button,{variant:"outline",onClick:()=>x.push("/admin/footer-sections"),className:"mt-4",children:[(0,b.jsx)(f.ArrowLeft,{className:"size-4"}),"Listeye Dön"]})]})})}):!y&&G?(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)(q.Card,{children:(0,b.jsx)(q.CardContent,{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Loader2,{className:"size-5 animate-spin"}),(0,b.jsx)("span",{children:"Yükleniyor..."})]})})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,b.jsx)(q.Card,{children:(0,b.jsx)(q.CardHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(q.CardTitle,{children:y?"Yeni Footer Section":"Footer Section Düzenle"}),(0,b.jsx)(q.CardDescription,{children:y?"Footer için yeni bir bölüm oluşturun":"Mevcut footer bölümünü düzenleyin"})]}),(0,b.jsxs)(m.Button,{type:"button",variant:"outline",onClick:()=>x.push("/admin/footer-sections"),disabled:S,className:"gap-2",children:[(0,b.jsx)(f.ArrowLeft,{className:"size-4"}),"Geri"]})]})})}),(0,b.jsxs)(q.Card,{children:[(0,b.jsx)(q.CardHeader,{children:(0,b.jsx)(q.CardTitle,{className:"text-base",children:"Genel Bilgiler"})}),(0,b.jsxs)(q.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsx)("div",{children:(0,b.jsx)(t.AdminLocaleSelect,{value:O.locale,onChange:a=>{let b=B(a,A);P(a=>({...a,locale:b}))},options:D,loading:C,disabled:S})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"display_order",className:"text-sm",children:"Sıralama"}),(0,b.jsx)(n.Input,{id:"display_order",type:"number",value:O.display_order,onChange:a=>P(b=>({...b,display_order:Number(a.target.value)||0})),disabled:S,min:0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"is_active",className:"text-sm",children:"Durum"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-md border px-3 py-2",children:[(0,b.jsx)(r.Switch,{id:"is_active",checked:O.is_active,onCheckedChange:a=>P(b=>({...b,is_active:a})),disabled:S}),(0,b.jsx)(o.Label,{htmlFor:"is_active",className:"cursor-pointer text-sm",children:O.is_active?(0,b.jsx)(s.Badge,{variant:"default",children:"Aktif"}):(0,b.jsx)(s.Badge,{variant:"secondary",children:"Pasif"})})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(o.Label,{htmlFor:"title",className:"text-sm",children:["Başlık ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(n.Input,{id:"title",value:O.title,onChange:a=>P(b=>({...b,title:a.target.value})),placeholder:"Örn: Şirket Bilgileri",disabled:S,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(o.Label,{htmlFor:"slug",className:"text-sm",children:["Slug ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(n.Input,{id:"slug",value:O.slug,onChange:a=>P(b=>({...b,slug:a.target.value})),placeholder:"Örn: company-info",disabled:S,required:!0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"URL dostu format (küçük harf, tire ile ayrılmış)"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"description",className:"text-sm",children:"Açıklama"}),(0,b.jsx)(p.Textarea,{id:"description",value:O.description,onChange:a=>P(b=>({...b,description:a.target.value})),placeholder:"Footer bölümü için açıklama (opsiyonel)",disabled:S,rows:4})]})]})]}),(0,b.jsx)(q.Card,{children:(0,b.jsxs)(q.CardContent,{className:"flex flex-col gap-3 pt-6 sm:flex-row sm:justify-between",children:[(0,b.jsx)("div",{children:!y&&(0,b.jsx)(m.Button,{type:"button",variant:"destructive",onClick:()=>{R(!0)},disabled:S,className:"gap-2",children:N?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{className:"size-4 animate-spin"}),"Siliniyor..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Trash2,{className:"size-4"}),"Sil"]})})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(m.Button,{type:"button",variant:"outline",onClick:()=>x.push("/admin/footer-sections"),disabled:S,children:"İptal"}),(0,b.jsx)(m.Button,{type:"submit",disabled:S,className:"gap-2",children:J||L?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{className:"size-4 animate-spin"}),"Kaydediliyor..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Save,{className:"size-4"}),"Kaydet"]})})]})]})})]}),(0,b.jsx)(u.AlertDialog,{open:Q,onOpenChange:R,children:(0,b.jsxs)(u.AlertDialogContent,{children:[(0,b.jsxs)(u.AlertDialogHeader,{children:[(0,b.jsx)(u.AlertDialogTitle,{children:"Silmek istediğinizden emin misiniz?"}),(0,b.jsxs)(u.AlertDialogDescription,{children:[(0,b.jsx)("strong",{children:O.title||"Bu kayıt"})," silinecek. Bu işlem geri alınamaz."]})]}),(0,b.jsxs)(u.AlertDialogFooter,{children:[(0,b.jsx)(u.AlertDialogCancel,{children:"İptal"}),(0,b.jsx)(u.AlertDialogAction,{onClick:U,children:"Sil"})]})]})})]})}a.s(["default",()=>x])}];

//# sourceMappingURL=_220b59e5._.js.map
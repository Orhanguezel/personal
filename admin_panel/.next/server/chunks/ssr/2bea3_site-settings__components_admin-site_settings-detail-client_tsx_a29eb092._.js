module.exports=[86390,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(23292),g=a.i(28790),h=a.i(99570),i=a.i(86304),j=a.i(70430),k=a.i(80701),l=a.i(91119);a.i(58501);var m=a.i(88963),n=a.i(56414),o=a.i(75083),p=a.i(29246),q=a.i(187),r=a.i(68114);let s=(0,q.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function t({className:a,variant:c,...d}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,r.cn)(s({variant:c}),a),...d})}function u({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-title",className:(0,r.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",a),...c})}function v({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,r.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}function w(a){try{return JSON.stringify(a??{},null,2)}catch{return""}}function x(a){return a?.data?.error?.message||a?.data?.message||a?.message||"İşlem sırasında hata oluştu."}let y=({settingKey:a,locale:d,row:g,disabled:j,initialMode:k="structured",onSave:m,onDelete:q,renderStructured:r,showImageUpload:s,imageUpload:y})=>{let z=(0,e.useRouter)(),A="function"==typeof r,[B,C]=c.useState("structured"!==k||A?k:"raw"),[D,E]=c.useState({}),[F,G]=c.useState(""),H=c.useMemo(()=>(function(a){if(null==a||"object"==typeof a)return a;if("string"==typeof a){let b=a.trim();if(!b||!(b.startsWith("{")&&b.endsWith("}")||b.startsWith("[")&&b.endsWith("]")))return a;try{return JSON.parse(b)}catch{}}return a})(g?.value),[g?.value]);c.useEffect(()=>{E(H??{}),"string"==typeof g?.value?G(g.value??""):G(w(H))},[H,g?.value,a,d]),c.useEffect(()=>{"structured"!==B||A||C("raw")},[B,A]);let I=y?.openLibraryHref??"/admin/storage",J=y?.onOpenLibraryClick??(()=>z.push(I)),K=async()=>{if(!j)try{let b="raw"===B?function(a){let b=(a??"").trim();if(!b)return null;try{return JSON.parse(b)}catch{return b}}(F):D;await m({key:a,locale:d,value:b}),f.toast.success(`"${a}" (${d}) kaydedildi.`)}catch(a){f.toast.error(x(a)||"Kaydetme sırasında hata oluştu.")}},L=async()=>{if(q&&!j&&window.confirm(`"${a}" (${d}) silinsin mi?`))try{await q({key:a,locale:d}),f.toast.success(`"${a}" (${d}) silindi.`)}catch(a){f.toast.error(x(a)||"Silme sırasında hata oluştu.")}};return(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{className:"gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)(l.CardTitle,{className:"text-base",children:["Ayar: ",(0,b.jsx)("code",{children:a}),(0,b.jsx)(i.Badge,{variant:"secondary",className:"ml-2 align-middle",children:d})]}),(0,b.jsx)(l.CardDescription,{children:"Structured mod: form bileşeni. Raw mod: JSON veya düz string."})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[q?(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:L,disabled:j,children:"Sil"}):null,(0,b.jsx)(h.Button,{type:"button",onClick:K,disabled:j,children:"Kaydet"})]})]}),(0,b.jsx)(o.Tabs,{value:B,onValueChange:a=>C(a),children:(0,b.jsxs)(o.TabsList,{className:"w-fit",children:[(0,b.jsx)(o.TabsTrigger,{value:"structured",disabled:!A||!!j,children:"Structured"}),(0,b.jsx)(o.TabsTrigger,{value:"raw",disabled:!!j,children:"Raw"})]})})]}),(0,b.jsxs)(l.CardContent,{className:"space-y-4",children:[s?(0,b.jsx)("div",{children:(0,b.jsx)(n.AdminImageUploadField,{label:y?.label??"Görsel",helperText:y?.helperText,bucket:y?.bucket??"public",folder:y?.folder??"uploads",metadata:y?.metadata,value:y?.value??"",onChange:a=>y?.onChange?.(a),disabled:j,openLibraryHref:I,onOpenLibraryClick:J})}):null,"structured"===B?A?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{children:r?.({key:a,locale:d,value:D,setValue:E,disabled:j})}),(0,b.jsxs)("div",{className:"rounded-md border p-4",children:[(0,b.jsx)("div",{className:"mb-2 text-xs text-muted-foreground",children:"Structured state (debug)"}),(0,b.jsx)("pre",{className:"max-h-80 overflow-auto whitespace-pre-wrap wrap-break-word text-xs",children:w(D)})]})]}):(0,b.jsxs)(t,{children:[(0,b.jsx)(u,{children:"Structured renderer yok"}),(0,b.jsx)(v,{children:"Bu key için structured renderer tanımlı değil. Raw modunu kullanın."})]}):(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Raw: Geçerli JSON girersen parse edilerek kaydedilir; değilse düz string kaydedilir."}),(0,b.jsx)(p.Textarea,{value:F,onChange:a=>G(a.target.value),rows:14,disabled:j,spellCheck:!1,className:"font-mono",placeholder:'Örn: {"title":"..."} veya düz metin'}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"İpucu: JSON formatında kaydetmek istiyorsan başı “{” veya “[” ile başlamalı."})]})]})]})};y.displayName="SiteSettingsForm";var z=a.i(1229),A=a.i(66718),B=a.i(15055);function C(a){return Array.from(new Set(a.map(a=>String(a||"").trim()).filter(Boolean)))}let D=({settingKey:a,locale:d,value:e,setValue:f,disabled:g})=>{let h=(0,c.useMemo)(()=>{var a;let b,c;return b=(a=function(a){if(null==a||"object"==typeof a)return a;if("string"==typeof a){let b=a.trim();if(!b||!(b.startsWith("{")&&b.endsWith("}")||b.startsWith("[")&&b.endsWith("]")))return a;try{return JSON.parse(b)}catch{}}return a}(e))&&"object"==typeof a?a:{},c=Array.isArray(b?.open_graph?.images)?b.open_graph.images:[],{site_name:String(b.site_name??""),title_default:String(b.title_default??""),title_template:String(b.title_template??""),description:String(b.description??""),open_graph:{type:b?.open_graph?.type??"website",images:c.map(a=>String(a??"")).filter(Boolean)},twitter:{card:b?.twitter?.card??"summary_large_image",site:String(b?.twitter?.site??""),creator:String(b?.twitter?.creator??"")},robots:{noindex:!!b?.robots?.noindex,index:b?.robots?.index!==!1,follow:b?.robots?.follow!==!1}}},[e]),i=a=>{f({...h,...a})},l=(h.open_graph?.images||[]).join("\n"),m=a=>{i({open_graph:{...h.open_graph||{},...a}})},o=a=>{i({twitter:{...h.twitter||{},...a}})},q=a=>{i({robots:{...h.robots||{},...a}})};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(t,{variant:"default",className:"py-2",children:(0,b.jsxs)(v,{className:"space-y-1 text-sm",children:[(0,b.jsx)("p",{children:"Structured edit: SEO alanlarını form olarak yönetir. Kaydetme sırasında backend tarafında strict doğrulama uygulanıyorsa hatalı yapı kaydedilmez."}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Not:"})," Robots'ta ",(0,b.jsx)("code",{children:"noindex"})," true ise arama motorlarına indeksleme önerilmez."]})]})}),(0,b.jsx)("div",{children:(0,b.jsx)(n.AdminImageUploadField,{label:"OpenGraph Görsel Yükle (opsiyonel)",folder:"seo",bucket:"public",metadata:{module_key:"seo",locale:String(d),key:String(a)},value:h.open_graph?.images&&h.open_graph.images[0]||"",onChange:a=>{m({images:C([a,...h.open_graph?.images||[]])})},disabled:g})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-12",children:[(0,b.jsxs)("div",{className:"space-y-2 md:col-span-4",children:[(0,b.jsx)(j.Label,{htmlFor:"seo-site-name",className:"text-sm",children:"Site Name"}),(0,b.jsx)(A.Input,{id:"seo-site-name",value:h.site_name||"",onChange:a=>i({site_name:a.target.value}),disabled:g})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-4",children:[(0,b.jsx)(j.Label,{htmlFor:"seo-title-default",className:"text-sm",children:"Title Default"}),(0,b.jsx)(A.Input,{id:"seo-title-default",value:h.title_default||"",onChange:a=>i({title_default:a.target.value}),disabled:g})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-4",children:[(0,b.jsx)(j.Label,{htmlFor:"seo-title-template",className:"text-sm",children:"Title Template"}),(0,b.jsx)(A.Input,{id:"seo-title-template",value:h.title_template||"",onChange:a=>i({title_template:a.target.value}),placeholder:"%s | guezelwebdesign",disabled:g})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-12",children:[(0,b.jsx)(j.Label,{htmlFor:"seo-description",className:"text-sm",children:"Description"}),(0,b.jsx)(p.Textarea,{id:"seo-description",rows:3,value:h.description||"",onChange:a=>i({description:a.target.value}),disabled:g,className:"text-sm"})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-4",children:[(0,b.jsx)(j.Label,{htmlFor:"seo-og-type",className:"text-sm",children:"OpenGraph Type"}),(0,b.jsxs)(k.Select,{value:h.open_graph?.type||"website",onValueChange:a=>m({type:a}),disabled:g,children:[(0,b.jsx)(k.SelectTrigger,{id:"seo-og-type",className:"h-8",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"website",children:"website"}),(0,b.jsx)(k.SelectItem,{value:"article",children:"article"}),(0,b.jsx)(k.SelectItem,{value:"product",children:"product"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-8",children:[(0,b.jsx)(j.Label,{htmlFor:"seo-og-images",className:"text-sm",children:"OpenGraph Images (1 per line)"}),(0,b.jsx)(p.Textarea,{id:"seo-og-images",rows:5,value:l,onChange:a=>{m({images:C(a.target.value.split("\n").map(a=>a.trim()).filter(Boolean))})},placeholder:"/img/og-default.jpg",disabled:g,className:"font-mono text-sm"})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-4",children:[(0,b.jsx)(j.Label,{htmlFor:"seo-twitter-card",className:"text-sm",children:"Twitter Card"}),(0,b.jsxs)(k.Select,{value:h.twitter?.card||"summary_large_image",onValueChange:a=>o({card:a}),disabled:g,children:[(0,b.jsx)(k.SelectTrigger,{id:"seo-twitter-card",className:"h-8",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"summary_large_image",children:"summary_large_image"}),(0,b.jsx)(k.SelectItem,{value:"summary",children:"summary"}),(0,b.jsx)(k.SelectItem,{value:"app",children:"app"}),(0,b.jsx)(k.SelectItem,{value:"player",children:"player"})]})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Çoğu site için önerilen: ",(0,b.jsx)("code",{children:"summary_large_image"})]})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-4",children:[(0,b.jsx)(j.Label,{htmlFor:"seo-twitter-site",className:"text-sm",children:"Twitter Site"}),(0,b.jsx)(A.Input,{id:"seo-twitter-site",value:h.twitter?.site||"",onChange:a=>o({site:a.target.value}),placeholder:"@guezelwebdesign",disabled:g})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-4",children:[(0,b.jsx)(j.Label,{htmlFor:"seo-twitter-creator",className:"text-sm",children:"Twitter Creator"}),(0,b.jsx)(A.Input,{id:"seo-twitter-creator",value:h.twitter?.creator||"",onChange:a=>o({creator:a.target.value}),placeholder:"@creator",disabled:g})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-12",children:[(0,b.jsx)(j.Label,{className:"text-sm",children:"Robots"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(B.Checkbox,{id:"seo-robots-noindex",checked:!!h.robots?.noindex,onCheckedChange:a=>q({noindex:!!a}),disabled:g}),(0,b.jsx)(j.Label,{htmlFor:"seo-robots-noindex",className:"text-xs",children:"noindex"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(B.Checkbox,{id:"seo-robots-index",checked:h.robots?.index!==!1,onCheckedChange:a=>q({index:!!a}),disabled:g}),(0,b.jsx)(j.Label,{htmlFor:"seo-robots-index",className:"text-xs",children:"index"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(B.Checkbox,{id:"seo-robots-follow",checked:h.robots?.follow!==!1,onCheckedChange:a=>q({follow:!!a}),disabled:g}),(0,b.jsx)(j.Label,{htmlFor:"seo-robots-follow",className:"text-xs",children:"follow"})]})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Öneri: Normalde ",(0,b.jsx)("code",{children:"noindex=false"}),", ",(0,b.jsx)("code",{children:"index=true"}),","," ",(0,b.jsx)("code",{children:"follow=true"}),"."]})]})]})]})};D.displayName="SeoStructuredForm";var E=a.i(88780);let F=E.z.object({phone:E.z.string().trim().optional(),email:E.z.string().trim().optional(),address:E.z.string().trim().optional(),whatsapp:E.z.string().trim().optional()}).strict();function G(a,b){let c=(a&&"object"==typeof a&&!Array.isArray(a)?a:null)||b,d=F.safeParse(c);return d.success?d.data:b}let H=({value:a,onChange:c,errors:d,disabled:e,seed:f})=>{let g=G(a,f||{phone:"",email:"",address:"",whatsapp:""});return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(t,{variant:"default",className:"py-2",children:(0,b.jsx)(v,{className:"text-sm",children:"İletişim bilgileri. Boş bırakılan alanlar frontend'de boş string olarak kaydedilir."})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"contact-phone",className:"text-sm",children:"Telefon"}),(0,b.jsx)(A.Input,{id:"contact-phone",className:"h-8",value:g.phone||"",onChange:a=>c({...g,phone:a.target.value}),disabled:e}),d?.phone&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d.phone})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"contact-email",className:"text-sm",children:"E-posta"}),(0,b.jsx)(A.Input,{id:"contact-email",className:"h-8",value:g.email||"",onChange:a=>c({...g,email:a.target.value}),disabled:e}),d?.email&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d.email})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"contact-whatsapp",className:"text-sm",children:"WhatsApp"}),(0,b.jsx)(A.Input,{id:"contact-whatsapp",className:"h-8",value:g.whatsapp||"",onChange:a=>c({...g,whatsapp:a.target.value}),disabled:e}),d?.whatsapp&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d.whatsapp})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,b.jsx)(j.Label,{htmlFor:"contact-address",className:"text-sm",children:"Adres"}),(0,b.jsx)(p.Textarea,{id:"contact-address",rows:3,value:g.address||"",onChange:a=>c({...g,address:a.target.value}),disabled:e,className:"text-sm"}),d?.address&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d.address})]})]})]})};H.displayName="ContactInfoStructuredForm";let I=E.z.object({instagram:E.z.string().trim().optional(),facebook:E.z.string().trim().optional(),linkedin:E.z.string().trim().optional(),youtube:E.z.string().trim().optional(),x:E.z.string().trim().optional()}).strict();function J(a,b){let c=(a&&"object"==typeof a&&!Array.isArray(a)?a:null)||b,d=I.safeParse(c);return d.success?d.data:b}let K=({value:a,onChange:c,errors:d,disabled:e,seed:f})=>{let g=J(a,f||{instagram:"",facebook:"",linkedin:"",youtube:"",x:""});return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(t,{variant:"default",className:"py-2",children:(0,b.jsx)(v,{className:"text-sm",children:"Sosyal linkleri tam URL (https://...) veya kullanıcı adı olarak girebilirsin."})}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[["instagram","Instagram"],["facebook","Facebook"],["linkedin","LinkedIn"],["youtube","YouTube"],["x","X (Twitter)"]].map(([a,f])=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:`social-${a}`,className:"text-sm",children:f}),(0,b.jsx)(A.Input,{id:`social-${a}`,className:"h-8",value:g[a]||"",onChange:b=>c({...g,[a]:b.target.value}),disabled:e}),d?.[a]&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d[a]})]},a))})]})};K.displayName="SocialsStructuredForm";let L=E.z.object({company_name:E.z.string().trim().optional(),slogan:E.z.string().trim().optional(),about:E.z.string().trim().optional()}).strict();function M(a,b){let c=(a&&"object"==typeof a&&!Array.isArray(a)?a:null)||b,d=L.safeParse(c);return d.success?d.data:b}let N=({value:a,onChange:c,errors:d,disabled:e,seed:f})=>{let g=M(a,f||{company_name:"guezelwebdesign",slogan:"",about:""});return(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"company-name",className:"text-sm",children:"Şirket Adı"}),(0,b.jsx)(A.Input,{id:"company-name",className:"h-8",value:g.company_name||"",onChange:a=>c({...g,company_name:a.target.value}),disabled:e}),d?.company_name&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d.company_name})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"company-slogan",className:"text-sm",children:"Slogan"}),(0,b.jsx)(A.Input,{id:"company-slogan",className:"h-8",value:g.slogan||"",onChange:a=>c({...g,slogan:a.target.value}),disabled:e}),d?.slogan&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d.slogan})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,b.jsx)(j.Label,{htmlFor:"company-about",className:"text-sm",children:"Hakkımızda"}),(0,b.jsx)(p.Textarea,{id:"company-about",rows:6,value:g.about||"",onChange:a=>c({...g,about:a.target.value}),disabled:e,className:"text-sm"}),d?.about&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d.about})]})]})};N.displayName="CompanyProfileStructuredForm";let O=E.z.object({nav_home:E.z.string().trim().optional(),nav_products:E.z.string().trim().optional(),nav_services:E.z.string().trim().optional(),nav_contact:E.z.string().trim().optional(),cta_label:E.z.string().trim().optional()}).strict();function P(a,b){let c=(a&&"object"==typeof a&&!Array.isArray(a)?a:null)||b,d=O.safeParse(c);return d.success?d.data:b}let Q=({value:a,onChange:c,errors:d,disabled:e,seed:f})=>{let g=P(a,f||{nav_home:"Home",nav_products:"Products",nav_services:"Services",nav_contact:"Contact",cta_label:"Get Offer"});return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(t,{variant:"default",className:"py-2",children:(0,b.jsx)(v,{className:"text-sm",children:"Header navigasyon ve CTA label metinleri. Dil bazlı override için locale satırı kullan."})}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[["nav_home","Menü: Home"],["nav_products","Menü: Products"],["nav_services","Menü: Services"],["nav_contact","Menü: Contact"],["cta_label","CTA Label"]].map(([a,f])=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:`ui-header-${a}`,className:"text-sm",children:f}),(0,b.jsx)(A.Input,{id:`ui-header-${a}`,className:"h-8",value:g[a]||"",onChange:b=>c({...g,[a]:b.target.value}),disabled:e}),d?.[a]&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d[a]})]},a))})]})};Q.displayName="UiHeaderStructuredForm";var R=a.i(6015);let S=E.z.enum(["mon","tue","wed","thu","fri","sat","sun"]),T=E.z.string().trim().refine(a=>/^\d{2}:\d{2}$/.test(a),"Saat formatı HH:MM olmalı (örn 09:00)"),U=E.z.object({day:S,open:T,close:T,closed:E.z.boolean().default(!1)}).strict(),V=E.z.array(U).default([]);function W(a,b){let c=Array.isArray(a)?a:b,d=V.safeParse(c);return d.success?d.data:b}let X=({value:a,onChange:c,errors:d,disabled:e,seed:f})=>{let g=W(a,f||[{day:"mon",open:"09:00",close:"18:00",closed:!1},{day:"tue",open:"09:00",close:"18:00",closed:!1},{day:"wed",open:"09:00",close:"18:00",closed:!1},{day:"thu",open:"09:00",close:"18:00",closed:!1},{day:"fri",open:"09:00",close:"18:00",closed:!1},{day:"sat",open:"10:00",close:"14:00",closed:!1},{day:"sun",open:"00:00",close:"00:00",closed:!0}]),i={mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun"},l=(a,b)=>{let d=[...g];d[a]={...d[a],...b},c(d)};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(t,{variant:"default",className:"py-2",children:(0,b.jsx)(v,{className:"text-sm",children:'Saat formatı HH:MM. "Closed" seçilirse gün kapalıdır.'})}),(0,b.jsxs)("div",{className:"rounded-md border",children:[(0,b.jsxs)(R.Table,{children:[(0,b.jsx)(R.TableHeader,{children:(0,b.jsxs)(R.TableRow,{children:[(0,b.jsx)(R.TableHead,{className:"w-40",children:"Gün"}),(0,b.jsx)(R.TableHead,{className:"w-40",children:"Açılış"}),(0,b.jsx)(R.TableHead,{className:"w-40",children:"Kapanış"}),(0,b.jsx)(R.TableHead,{className:"w-32",children:"Kapalı"}),(0,b.jsx)(R.TableHead,{className:"text-right w-24",children:" "})]})}),(0,b.jsx)(R.TableBody,{children:g.map((a,f)=>(0,b.jsxs)(R.TableRow,{children:[(0,b.jsxs)(R.TableCell,{children:[(0,b.jsxs)(k.Select,{value:a.day,onValueChange:a=>l(f,{day:a}),disabled:e,children:[(0,b.jsx)(k.SelectTrigger,{className:"h-8",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsx)(k.SelectContent,{children:["mon","tue","wed","thu","fri","sat","sun"].map(a=>(0,b.jsx)(k.SelectItem,{value:a,children:i[a]},a))})]}),d?.[`${f}.day`]&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d[`${f}.day`]})]}),(0,b.jsxs)(R.TableCell,{children:[(0,b.jsx)(A.Input,{className:"h-8 font-mono",value:a.open,onChange:a=>l(f,{open:a.target.value}),placeholder:"09:00",disabled:e||!!a.closed}),d?.[`${f}.open`]&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d[`${f}.open`]})]}),(0,b.jsxs)(R.TableCell,{children:[(0,b.jsx)(A.Input,{className:"h-8 font-mono",value:a.close,onChange:a=>l(f,{close:a.target.value}),placeholder:"18:00",disabled:e||!!a.closed}),d?.[`${f}.close`]&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:d[`${f}.close`]})]}),(0,b.jsx)(R.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(B.Checkbox,{id:`closed-${f}`,checked:!!a.closed,onCheckedChange:a=>l(f,{closed:!!a}),disabled:e}),(0,b.jsx)(j.Label,{htmlFor:`closed-${f}`,className:"text-xs",children:"closed"})]})}),(0,b.jsx)(R.TableCell,{className:"text-right",children:(0,b.jsx)(h.Button,{type:"button",variant:"destructive",size:"sm",onClick:()=>{let a;(a=[...g]).splice(f,1),c(a)},disabled:e,children:"Sil"})})]},`${a.day}_${f}`))})]}),d?.form&&(0,b.jsx)("p",{className:"p-3 text-xs text-destructive",children:d.form})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)(h.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{c([...g||[],{day:"mon",open:"09:00",close:"18:00",closed:!1}])},disabled:e,children:"Satır Ekle"})})]})};X.displayName="BusinessHoursStructuredForm";let Y=a=>String(a||"").trim().toLowerCase().replace("_","-").split("-")[0].trim(),Z=["contact_info","socials","businessHours","company_profile","ui_header"];function $(a){if(null==a||"object"==typeof a)return a;if("string"==typeof a){let b=a.trim();if(!b||!(b.startsWith("{")&&b.endsWith("}")||b.startsWith("[")&&b.endsWith("]")))return a;try{return JSON.parse(b)}catch{}}return a}let _=({value:a,setValue:c,disabled:d})=>{let e=$(a??{});return(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"rounded-md border p-3 text-sm text-muted-foreground",children:"Bu key için özel structured form tanımlı değil. Structured mod JSON editor olarak çalışır."}),(0,b.jsx)(z.AdminJsonEditor,{label:"Structured JSON",value:e??{},onChange:a=>c(a),disabled:d,helperText:"Blur olduğunda parse edilir. Geçersiz JSON kaydedilmez.",height:340})]})},aa=a=>(0,b.jsx)(D,{settingKey:a.settingKey,locale:a.locale,value:a.value,setValue:a.setValue,disabled:a.disabled}),ab=({value:a,setValue:d,disabled:e})=>{let f=c.useMemo(()=>{let b=$(a)??{};return"object"==typeof b&&b?b:{}},[a]),g=c.useMemo(()=>({phone:"",email:"",address:"",whatsapp:""}),[]),[h,i]=c.useState(()=>G(f,g));return c.useEffect(()=>i(G(f,g)),[f,g]),(0,b.jsx)(H,{value:h,onChange:a=>{i(a),d(F.parse({phone:a.phone?.trim()||"",email:a.email?.trim()||"",address:a.address?.trim()||"",whatsapp:a.whatsapp?.trim()||""}))},errors:{},disabled:!!e,seed:g})},ac=({value:a,setValue:d,disabled:e})=>{let f=c.useMemo(()=>{let b=$(a)??{};return"object"==typeof b&&b?b:{}},[a]),g=c.useMemo(()=>({instagram:"",facebook:"",linkedin:"",youtube:"",x:""}),[]),[h,i]=c.useState(()=>J(f,g));return c.useEffect(()=>i(J(f,g)),[f,g]),(0,b.jsx)(K,{value:h,onChange:a=>{i(a),d(I.parse({instagram:a.instagram?.trim()||"",facebook:a.facebook?.trim()||"",linkedin:a.linkedin?.trim()||"",youtube:a.youtube?.trim()||"",x:a.x?.trim()||""}))},errors:{},disabled:!!e,seed:g})},ad=({value:a,setValue:d,disabled:e})=>{let f=c.useMemo(()=>{let b=$(a)??{};return"object"==typeof b&&b?b:{}},[a]),g=c.useMemo(()=>({company_name:"guezelwebdesign",slogan:"",about:""}),[]),[h,i]=c.useState(()=>M(f,g));return c.useEffect(()=>i(M(f,g)),[f,g]),(0,b.jsx)(N,{value:h,onChange:a=>{i(a),d(L.parse({company_name:a.company_name?.trim()||"",slogan:a.slogan?.trim()||"",about:a.about?.trim()||""}))},errors:{},disabled:!!e,seed:g})},ae=({value:a,setValue:d,disabled:e})=>{let f=c.useMemo(()=>{let b=$(a)??{};return"object"==typeof b&&b?b:{}},[a]),g=c.useMemo(()=>({nav_home:"Home",nav_products:"Products",nav_services:"Services",nav_contact:"Contact",cta_label:"Get Offer"}),[]),[h,i]=c.useState(()=>P(f,g));return c.useEffect(()=>i(P(f,g)),[f,g]),(0,b.jsx)(Q,{value:h,onChange:a=>{i(a),d(O.parse({nav_home:a.nav_home?.trim()||"",nav_products:a.nav_products?.trim()||"",nav_services:a.nav_services?.trim()||"",nav_contact:a.nav_contact?.trim()||"",cta_label:a.cta_label?.trim()||""}))},errors:{},disabled:!!e,seed:g})},af=({value:a,setValue:d,disabled:e})=>{let f=c.useMemo(()=>{let b=$(a);return Array.isArray(b)?b:[]},[a]),g=c.useMemo(()=>[{day:"mon",open:"09:00",close:"18:00",closed:!1},{day:"tue",open:"09:00",close:"18:00",closed:!1},{day:"wed",open:"09:00",close:"18:00",closed:!1},{day:"thu",open:"09:00",close:"18:00",closed:!1},{day:"fri",open:"09:00",close:"18:00",closed:!1},{day:"sat",open:"10:00",close:"14:00",closed:!1},{day:"sun",open:"00:00",close:"00:00",closed:!0}],[]),[h,i]=c.useState(()=>W(f,g));return c.useEffect(()=>i(W(f,g)),[f,g]),(0,b.jsx)(X,{value:h,onChange:a=>{i(a),d(V.parse((a||[]).map(a=>({day:a.day,open:a.open,close:a.close,closed:!!a.closed}))))},errors:{},disabled:!!e,seed:g})};function ag({id:a}){let n=(0,e.useRouter)(),o=(0,e.useSearchParams)(),p=c.useMemo(()=>String(a||"").trim(),[a]),{data:q,isLoading:r,isFetching:s,refetch:t}=(0,m.useListSiteSettingsAdminQuery)({keys:["app_locales","default_locale"]}),{localeOptions:u,defaultLocaleFromDb:v}=c.useMemo(()=>{let a=Array.isArray(q)?q:[],b=a.find(a=>"app_locales"===a.key),c=a.find(a=>"default_locale"===a.key),d=function(a){let b=new Set,c=[];for(let d of a){let a=Y(d?.code);a&&(b.has(a)||(b.add(a),c.push({...d,code:a})))}return c}((function a(b){if(!b)return[];if(Array.isArray(b))return b.map(a=>({code:Y(a?.code??a),label:a?.label,is_active:a?.is_active,is_default:a?.is_default})).filter(a=>!!a.code);if("string"==typeof b){let c=b.trim();if(!c)return[];try{return a(JSON.parse(c))}catch{return[]}}return"object"==typeof b&&null!==b&&Array.isArray(b.locales)?a(b.locales):[]})(b?.value).filter(a=>a&&a.code&&!1!==a.is_active)),e=Y(c?.value);return{localeOptions:[{value:"*",label:"Global (*)"},...d.map(a=>{let b,c;return{value:Y(a.code),label:(b=Y(a.code),(c=String(a.label||"").trim())?`${c} (${b})`:b.toUpperCase())}})],defaultLocaleFromDb:e}},[q]),w=c.useMemo(()=>(o.get("locale")??"").trim(),[o]),x=c.useMemo(()=>{let a="*"===w?"*":Y(w);if(a&&u.some(b=>b.value===a))return a;if(v&&u.some(a=>a.value===v))return v;let b=u.find(a=>"*"!==a.value);return b?.value||u?.[0]?.value||""},[w,u,v]),[z,A]=c.useState("");c.useEffect(()=>{u.length&&A(a=>a&&u.some(b=>b.value===a)?a:x||"")},[u,x]),c.useEffect(()=>{if(!p||!z||("*"===w?"*":Y(w))===z)return;let a=new URLSearchParams(Array.from(o.entries()));a.set("locale",z),n.replace(`/admin/site-settings/${encodeURIComponent(p)}?${a.toString()}`)},[p,z]);let B=c.useMemo(()=>{if(p&&z)return{q:p,locale:z}},[p,z]),{data:C,isLoading:D,isFetching:E,refetch:F}=(0,m.useListSiteSettingsAdminQuery)(B,{skip:!B}),G=c.useMemo(()=>{let a=Array.isArray(C)?C:[],b=a.find(a=>String(a?.key||"")===p&&String(a?.locale||"")===z);return b||a.find(a=>String(a?.key||"")===p)||null},[C,p,z]),[H,{isLoading:I}]=(0,m.useUpdateSiteSettingAdminMutation)(),[J,{isLoading:K}]=(0,m.useDeleteSiteSettingAdminMutation)(),L=D||E||I||K||r||s,M=async a=>{try{if("site_meta_default"===String(a.key).toLowerCase()&&"*"===a.locale)return void f.toast.error('site_meta_default locale="*" olamaz. Dil seçip kaydet.');await H(a).unwrap(),f.toast.success(`"${a.key}" g\xfcncellendi.`),await F(),await t()}catch(a){f.toast.error(a?.data?.error?.message||a?.message||"Kaydetme sırasında hata oluştu.")}},N=async a=>{try{await J({key:a.key,locale:a.locale}).unwrap(),f.toast.success(`"${a.key}" silindi.`),await F(),await t()}catch(a){f.toast.error(a?.data?.error?.message||a?.message||"Silme sırasında hata oluştu.")}},O=c.useMemo(()=>{let a;if(!p)return _;if("seo"===(a=String(p||"").trim().toLowerCase())||"site_seo"===a||"site_meta_default"===a)return"site_meta_default"===String(p).toLowerCase()?_:aa;if(Z.includes(String(p||"").trim())){if("contact_info"===p)return ab;if("socials"===p)return ac;if("company_profile"===p)return ad;if("ui_header"===p)return ae;if("businessHours"===p)return af}return _},[p]),P="/admin/site-settings";return p?L||u&&0!==u.length?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Site Ayarları"}),(0,b.jsxs)("h1",{className:"text-lg font-semibold",children:["Düzenle: ",(0,b.jsx)("code",{children:p})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-end gap-2",children:[(0,b.jsx)(h.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,b.jsx)(d.default,{prefetch:!1,href:P,children:"Listeye Dön"})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{children:"Locale"}),(0,b.jsxs)(k.Select,{value:z||"",onValueChange:a=>A("*"===a?"*":Y(a)),disabled:L||!u.length,children:[(0,b.jsx)(k.SelectTrigger,{className:"w-60",children:(0,b.jsx)(k.SelectValue,{placeholder:"Locale seç"})}),(0,b.jsx)(k.SelectContent,{children:u.map(a=>(0,b.jsx)(k.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsx)(h.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(),disabled:L,title:"Yenile",children:(0,b.jsx)(g.RefreshCcw,{className:"size-4"})}),z?(0,b.jsx)(i.Badge,{variant:"secondary",children:z}):null,L?(0,b.jsx)(i.Badge,{variant:"outline",children:"Yükleniyor…"}):null]})]}),z?(0,b.jsx)(y,{settingKey:p,locale:z,row:G?{...G,value:$(G.value)}:null,disabled:L,initialMode:"structured",onSave:M,onDelete:async({key:a,locale:b})=>N({key:a,locale:b}),renderStructured:a=>c.createElement(O,{value:a.value,setValue:a.setValue,disabled:a.disabled,settingKey:p,locale:z})}):(0,b.jsx)("div",{className:"rounded-md border p-4 text-sm text-muted-foreground",children:"Locale yükleniyor…"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Not: General/UI key’lerde structured form açılır. Diğer key’ler structured modda JSON editor fallback’tır."})]}):(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(l.CardTitle,{className:"text-base",children:"Dil listesi bulunamadı"}),(0,b.jsxs)(l.CardDescription,{children:[(0,b.jsx)("code",{children:"site_settings.app_locales"})," boş veya geçersiz. Önce dilleri ayarla."]})]}),(0,b.jsx)(l.CardContent,{children:(0,b.jsx)(h.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,b.jsx)(d.default,{prefetch:!1,href:P,children:"Site Ayarlarına git"})})})]})}):(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(l.CardTitle,{className:"text-base",children:"Hata"}),(0,b.jsx)(l.CardDescription,{children:"Setting key bulunamadı."})]})})})}a.s(["default",()=>ag],86390)}];

//# sourceMappingURL=2bea3_site-settings__components_admin-site_settings-detail-client_tsx_a29eb092._.js.map
module.exports=[28551,a=>{"use strict";var b=a.i(72131);a.i(58501);var c=a.i(88963);let d=a=>String(a||"").trim().toLowerCase().replace("_","-").split("-")[0].trim();function e(){let{data:a,isLoading:e,isFetching:f}=(0,c.useListSiteSettingsAdminQuery)({keys:["app_locales","default_locale"]});return{...(0,b.useMemo)(()=>{let b=a??[],c=b.find(a=>"app_locales"===a.key),e=b.find(a=>"default_locale"===a.key),f=function(a){let b=new Set,c=[];for(let e of a){let a=d(e?.code);a&&(b.has(a)||(b.add(a),c.push({...e,code:a})))}return c}((function a(b){if(!b)return[];if(Array.isArray(b))return b.map(a=>({code:d(a?.code??a),label:"string"==typeof a?.label?a.label:void 0,is_active:a?.is_active,is_default:a?.is_default})).filter(a=>!!a.code);if("string"==typeof b){let c=b.trim();if(!c)return[];try{let b=JSON.parse(c);return a(b)}catch{return[]}}return"object"==typeof b&&null!==b&&Array.isArray(b.locales)?a(b.locales):[]})(c?.value).filter(a=>a&&a.code&&!1!==a.is_active)),g=f.map(a=>d(a.code)).filter(Boolean),h=d(e?.value);if(!h){let a=f.find(a=>!0===a.is_default);h=a?d(a.code):""}h&&!g.includes(h)&&(h=g[0]??"");let i=f.map(a=>({value:d(a.code),label:function(a){let b=d(a.code),c=String(a.label||"").trim();if(c)return`${c} (${b})`;let e=null;try{e=new Intl.DisplayNames(["de"],{type:"language"})}catch{e=null}let f=e?.of(b)??"";return f?`${f} (${b})`:`${b.toUpperCase()} (${b})`}(a)})),j=new Set(g);return{localeOptions:i,defaultLocaleFromDb:h,activeLocaleCodes:g,hasLocale:a=>{let b=d(a);return!!b&&j.has(b)},coerceLocale:(a,b)=>{let c=d(a);if(c&&j.has(c))return c;let e=d(b);return e&&j.has(e)?e:h&&j.has(h)?h:g[0]??""}}},[a]),loading:e,fetching:f}}a.s(["useAdminLocales",()=>e])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},63658,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(70121),f=a.i(50104),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:l,defaultChecked:m,required:o,disabled:p,value:q="on",onCheckedChange:r,form:u,...v}=a,[w,x]=c.useState(null),y=(0,e.useComposedRefs)(f,a=>x(a)),z=c.useRef(!1),A=!w||u||!!w.closest("form"),[B,C]=(0,g.useControllableState)({prop:l,defaultProp:m??!1,onChange:r,caller:k});return(0,b.jsxs)(n,{scope:h,checked:B,disabled:p,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":B,"aria-required":o,"data-state":t(B),"data-disabled":p?"":void 0,disabled:p,value:q,...v,ref:y,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{C(a=>!a),A&&(z.current=a.isPropagationStopped(),z.current||a.stopPropagation())})}),A&&(0,b.jsx)(s,{control:w,bubbles:!z.current,name:i,value:q,checked:B,required:o,disabled:p,form:u,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=c.forwardRef(({__scopeSwitch:a,control:d,checked:f,bubbles:g=!0,...j},k)=>{let l=c.useRef(null),m=(0,e.useComposedRefs)(l,k),n=(0,h.usePrevious)(f),o=(0,i.useSize)(d);return c.useEffect(()=>{let a=l.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==f&&b){let c=new Event("click",{bubbles:g});b.call(a,f),a.dispatchEvent(c)}},[n,f,g]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:f,...j,tabIndex:-1,ref:m,style:{...j.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function t(a){return a?"checked":"unchecked"}s.displayName="SwitchBubbleInput",a.s(["Root",()=>p,"Switch",()=>p,"SwitchThumb",()=>r,"Thumb",()=>r,"createSwitchScope",()=>m],19025);var u=a.i(19025),u=u,v=a.i(68114);function w({className:a,...c}){return(0,b.jsx)(u.Root,{"data-slot":"switch",className:(0,v.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(u.Thumb,{"data-slot":"switch-thumb",className:(0,v.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}a.s(["Switch",()=>w],63658)},30637,a=>{"use strict";var b=a.i(35133);function c(a){let c=String(a??"").trim();return c&&(0,b.normLocaleTag)(c)||""}function d(a,b="de"){return c(a)||b}a.s(["localeShortClient",()=>c,"localeShortClientOr",()=>d])},90899,a=>{"use strict";var b=a.i(30637);function c(a,d,e="de"){let f=Array.isArray(a)?a:[],g=new Set(f.map(a=>(0,b.localeShortClient)(a?.value)).filter(Boolean)),h=(0,b.localeShortClient)(d);if(h&&g.has(h))return h;let i=(0,b.localeShortClient)(f[0]?.value);return i&&g.has(i)?i:(0,b.localeShortClientOr)(e,e)}a.s(["resolveAdminApiLocale",()=>c])},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},48287,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(23292),f=a.i(210),g=a.i(14548),h=a.i(81560),i=a.i(28551),j=a.i(90899),k=a.i(99570),l=a.i(66718),m=a.i(70430),n=a.i(63658),o=a.i(91119),p=a.i(80701);a.i(58501);var q=a.i(56373);function r(a){return a?.data?.error?.message||a?.data?.message||a?.message||"Ä°ÅŸlem baÅŸarÄ±sÄ±z"}function s({id:a}){let s=(0,d.useRouter)(),t="new"===a,{localeOptions:u,defaultLocaleFromDb:v}=(0,i.useAdminLocales)(),w=c.useMemo(()=>(0,j.resolveAdminApiLocale)(u,v,"de"),[u,v]),{data:x}=(0,q.useListMenuItemsAdminQuery)({limit:200}),y=c.useMemo(()=>x?Array.isArray(x)?x:"items"in x&&Array.isArray(x.items)?x.items:[]:[],[x]),{data:z}=(0,q.useGetMenuItemAdminQuery)({id:a,locale:w},{skip:t}),[A,{isLoading:B}]=(0,q.useCreateMenuItemAdminMutation)(),[C,{isLoading:D}]=(0,q.useUpdateMenuItemAdminMutation)(),[E,{isLoading:F}]=(0,q.useDeleteMenuItemAdminMutation)(),[G,H]=c.useState({title:"",url:"",type:"page",page_id:"",parent_id:"",location:"header",icon:"",section_id:"",is_active:!0,display_order:0,locale:w||"de"});c.useEffect(()=>{!t&&z&&H({title:z.title,url:z.url||"",type:z.type,page_id:z.page_id||"",parent_id:z.parent_id||"",location:z.location,icon:z.icon||"",section_id:z.section_id||"",is_active:z.is_active,display_order:z.display_order||0,locale:z.locale||w||"de"})},[t,z,w]),c.useEffect(()=>{t&&w&&!G.locale&&H(a=>({...a,locale:w}))},[t,w,G.locale]);let I=B||D||F,J=()=>{s.push("/admin/menuitem")},K=async b=>{if(b.preventDefault(),!G.title.trim())return void e.toast.error("BaÅŸlÄ±k gerekli");if("custom"===G.type&&!G.url.trim())return void e.toast.error("Ã–zel URL tipi iÃ§in URL gerekli");if("page"===G.type&&!G.page_id.trim())return void e.toast.error("Sayfa tipi iÃ§in sayfa ID gerekli");try{if(t){let a={title:G.title.trim(),url:"custom"===G.type?G.url.trim():null,type:G.type,page_id:"page"===G.type?G.page_id.trim():null,parent_id:G.parent_id.trim()||null,location:G.location,icon:G.icon.trim()||null,section_id:G.section_id.trim()||null,is_active:+!!G.is_active,display_order:G.display_order||0,locale:G.locale};await A(a).unwrap(),e.toast.success("MenÃ¼ Ã¶ÄŸesi oluÅŸturuldu"),s.push("/admin/menuitem")}else{let b={title:G.title.trim(),url:"custom"===G.type?G.url.trim():null,type:G.type,page_id:"page"===G.type?G.page_id.trim():null,parent_id:G.parent_id.trim()||null,location:G.location,icon:G.icon.trim()||null,section_id:G.section_id.trim()||null,is_active:+!!G.is_active,display_order:G.display_order||0,locale:G.locale};await C({id:a,data:b}).unwrap(),e.toast.success("MenÃ¼ Ã¶ÄŸesi gÃ¼ncellendi"),s.push("/admin/menuitem")}}catch(a){e.toast.error(r(a))}},L=async()=>{if(confirm(`"${z?.title}" men\xfc \xf6ÄŸesini silmek istediÄŸinize emin misiniz?`))try{await E({id:a}).unwrap(),e.toast.success("MenÃ¼ Ã¶ÄŸesi silindi"),s.push("/admin/menuitem")}catch(a){e.toast.error(r(a))}},M=c.useMemo(()=>y.filter(b=>b.id!==a&&b.parent_id!==a),[y,a]);return(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)(o.Card,{children:(0,b.jsx)(o.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.CardTitle,{className:"text-2xl font-bold",children:t?"Yeni MenÃ¼ Ã–ÄŸesi":"MenÃ¼ Ã–ÄŸesi DÃ¼zenle"}),(0,b.jsx)(o.CardDescription,{children:t?"Yeni bir menÃ¼ Ã¶ÄŸesi oluÅŸturun":"MenÃ¼ Ã¶ÄŸesini dÃ¼zenleyin"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(k.Button,{onClick:J,variant:"outline",size:"sm",children:[(0,b.jsx)(f.ArrowLeft,{className:"mr-2 size-4"}),"Geri"]}),!t&&(0,b.jsxs)(k.Button,{onClick:L,disabled:I,variant:"destructive",size:"sm",children:[(0,b.jsx)(h.Trash2,{className:"mr-2 size-4"}),"Sil"]})]})]})})}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsx)(o.CardTitle,{children:"MenÃ¼ Ã–ÄŸesi Bilgileri"})}),(0,b.jsx)(o.CardContent,{children:(0,b.jsxs)("form",{onSubmit:K,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold",children:"Temel Bilgiler"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m.Label,{htmlFor:"title",children:["BaÅŸlÄ±k ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(l.Input,{id:"title",value:G.title,onChange:a=>H(b=>({...b,title:a.target.value})),placeholder:"MenÃ¼ baÅŸlÄ±ÄŸÄ±",required:!0,disabled:I})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m.Label,{htmlFor:"type",children:["Tip ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)(p.Select,{value:G.type,onValueChange:a=>H(b=>({...b,type:a})),disabled:I,children:[(0,b.jsx)(p.SelectTrigger,{id:"type",children:(0,b.jsx)(p.SelectValue,{})}),(0,b.jsxs)(p.SelectContent,{children:[(0,b.jsx)(p.SelectItem,{value:"page",children:"Sayfa (Internal)"}),(0,b.jsx)(p.SelectItem,{value:"custom",children:"Ã–zel URL"})]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Sayfa: Site iÃ§i sayfa, Ã–zel URL: DÄ±ÅŸ veya Ã¶zel link"})]}),"page"===G.type&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m.Label,{htmlFor:"page_id",children:["Sayfa ID ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(l.Input,{id:"page_id",value:G.page_id,onChange:a=>H(b=>({...b,page_id:a.target.value})),placeholder:"UUID veya slug",required:"page"===G.type,disabled:I}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ã–zel sayfanÄ±n ID'si veya slug'Ä±"})]}),"custom"===G.type&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m.Label,{htmlFor:"url",children:["URL ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(l.Input,{id:"url",value:G.url,onChange:a=>H(b=>({...b,url:a.target.value})),placeholder:"https://example.com veya /relative-path",required:"custom"===G.type,disabled:I})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m.Label,{htmlFor:"location",children:["Konum ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)(p.Select,{value:G.location,onValueChange:a=>H(b=>({...b,location:a})),disabled:I,children:[(0,b.jsx)(p.SelectTrigger,{id:"location",children:(0,b.jsx)(p.SelectValue,{})}),(0,b.jsxs)(p.SelectContent,{children:[(0,b.jsx)(p.SelectItem,{value:"header",children:"Header"}),(0,b.jsx)(p.SelectItem,{value:"footer",children:"Footer"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m.Label,{htmlFor:"locale",children:["Dil ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)(p.Select,{value:G.locale,onValueChange:a=>H(b=>({...b,locale:a})),disabled:I,children:[(0,b.jsx)(p.SelectTrigger,{id:"locale",children:(0,b.jsx)(p.SelectValue,{})}),(0,b.jsx)(p.SelectContent,{children:u.map(a=>(0,b.jsx)(p.SelectItem,{value:a.value,children:a.label},a.value))})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold",children:"GeliÅŸmiÅŸ Ayarlar"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"parent_id",children:"Ãœst MenÃ¼ (Opsiyonel)"}),(0,b.jsxs)(p.Select,{value:G.parent_id||"none",onValueChange:a=>H(b=>({...b,parent_id:"none"===a?"":a})),disabled:I,children:[(0,b.jsx)(p.SelectTrigger,{id:"parent_id",children:(0,b.jsx)(p.SelectValue,{placeholder:"Ãœst menÃ¼ yok (ana seviye)"})}),(0,b.jsxs)(p.SelectContent,{children:[(0,b.jsx)(p.SelectItem,{value:"none",children:"Ãœst menÃ¼ yok"}),M.map(a=>(0,b.jsxs)(p.SelectItem,{value:a.id,children:[a.title," (",a.location,")"]},a.id))]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Alt menÃ¼ oluÅŸturmak iÃ§in Ã¼st menÃ¼yÃ¼ seÃ§in"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"icon",children:"Ä°kon (Opsiyonel)"}),(0,b.jsx)(l.Input,{id:"icon",value:G.icon,onChange:a=>H(b=>({...b,icon:a.target.value})),placeholder:"Ä°kon class veya emoji",disabled:I}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ã–rnek: fa fa-home, lucide-home, veya ðŸ "})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"section_id",children:"Section ID (Opsiyonel)"}),(0,b.jsx)(l.Input,{id:"section_id",value:G.section_id,onChange:a=>H(b=>({...b,section_id:a.target.value})),placeholder:"Grup ID'si",disabled:I})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"display_order",children:"SÄ±ra NumarasÄ±"}),(0,b.jsx)(l.Input,{id:"display_order",type:"number",value:G.display_order,onChange:a=>H(b=>({...b,display_order:Number(a.target.value)})),placeholder:"0",disabled:I}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"MenÃ¼de gÃ¶sterilme sÄ±rasÄ± (kÃ¼Ã§Ã¼k deÄŸerler Ã¶nce)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(m.Label,{htmlFor:"is_active",children:"Aktif"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"MenÃ¼ Ã¶ÄŸesini sitede gÃ¶ster"})]}),(0,b.jsx)(n.Switch,{id:"is_active",checked:G.is_active,onCheckedChange:a=>H(b=>({...b,is_active:a})),disabled:I})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,b.jsx)(k.Button,{type:"button",onClick:J,variant:"outline",disabled:I,children:"Ä°ptal"}),(0,b.jsxs)(k.Button,{type:"submit",disabled:I,children:[(0,b.jsx)(g.Save,{className:"mr-2 size-4"}),I?"Kaydediliyor...":"Kaydet"]})]})]})})]}),!t&&z&&(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsx)(o.CardTitle,{children:"Meta Bilgiler"})}),(0,b.jsx)(o.CardContent,{className:"space-y-3",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"ID"}),(0,b.jsx)("p",{className:"text-sm",children:z.id})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"OluÅŸturulma"}),(0,b.jsx)("p",{className:"text-sm",children:z.created_at?new Date(z.created_at).toLocaleString("tr-TR"):"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"GÃ¼ncellenme"}),(0,b.jsx)("p",{className:"text-sm",children:z.updated_at?new Date(z.updated_at).toLocaleString("tr-TR"):"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Dil"}),(0,b.jsx)("p",{className:"text-sm",children:z.locale||"-"})]})]})})]})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=_0ad2048a._.js.map
module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(76306),d=a.i(187),e=a.i(68114);let f=(0,d.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},63658,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(70121),f=a.i(50104),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:l,defaultChecked:m,required:o,disabled:p,value:q="on",onCheckedChange:r,form:u,...v}=a,[w,x]=c.useState(null),y=(0,e.useComposedRefs)(f,a=>x(a)),z=c.useRef(!1),A=!w||u||!!w.closest("form"),[B,C]=(0,g.useControllableState)({prop:l,defaultProp:m??!1,onChange:r,caller:k});return(0,b.jsxs)(n,{scope:h,checked:B,disabled:p,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":B,"aria-required":o,"data-state":t(B),"data-disabled":p?"":void 0,disabled:p,value:q,...v,ref:y,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{C(a=>!a),A&&(z.current=a.isPropagationStopped(),z.current||a.stopPropagation())})}),A&&(0,b.jsx)(s,{control:w,bubbles:!z.current,name:i,value:q,checked:B,required:o,disabled:p,form:u,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=c.forwardRef(({__scopeSwitch:a,control:d,checked:f,bubbles:g=!0,...j},k)=>{let l=c.useRef(null),m=(0,e.useComposedRefs)(l,k),n=(0,h.usePrevious)(f),o=(0,i.useSize)(d);return c.useEffect(()=>{let a=l.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==f&&b){let c=new Event("click",{bubbles:g});b.call(a,f),a.dispatchEvent(c)}},[n,f,g]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:f,...j,tabIndex:-1,ref:m,style:{...j.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function t(a){return a?"checked":"unchecked"}s.displayName="SwitchBubbleInput",a.s(["Root",()=>p,"Switch",()=>p,"SwitchThumb",()=>r,"Thumb",()=>r,"createSwitchScope",()=>m],19025);var u=a.i(19025),u=u,v=a.i(68114);function w({className:a,...c}){return(0,b.jsx)(u.Root,{"data-slot":"switch",className:(0,v.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(u.Thumb,{"data-slot":"switch-thumb",className:(0,v.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}a.s(["Switch",()=>w],63658)},28790,a=>{"use strict";let b=(0,a.i(70106).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);a.s(["RefreshCcw",()=>b],28790)},6015,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 *:[[role=checkbox]]:translate-y-0.5",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 *:[[role=checkbox]]:translate-y-0.5",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},69012,a=>{"use strict";let b=(0,a.i(70106).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],69012)},64354,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(87532),g=a.i(69012),h=a.i(28790);let i=(0,a.i(70106).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var j=a.i(50522),k=a.i(23292),l=a.i(99570),m=a.i(66718),n=a.i(63658),o=a.i(70430),p=a.i(80701),q=a.i(91119),r=a.i(6015),s=a.i(86304);a.i(58501);var t=a.i(41784),u=a.i(79755);function v(a,b){let c=Number(a??"");return Number.isFinite(c)&&c>=0?c:b}function w(){let a=(0,e.useRouter)(),w=(0,e.useSearchParams)(),x=(0,u.useAdminT)(),y=c.useMemo(()=>{let a,b,c,d,e,f,g;return a=w.get("q")??void 0,b=w.get("role")??void 0,c=function(a){if(null==a)return;let b=a.trim();return"1"===b||"true"===b||"0"!==b&&"false"!==b&&void 0}(w.get("is_active")),d=v(w.get("limit"),20)||20,e=v(w.get("offset"),0),f=w.get("sort")??void 0,g=w.get("order")??void 0,{...a?{q:a}:{},...b?{role:b}:{},..."boolean"==typeof c?{is_active:c}:{},limit:d,offset:e,...f?{sort:f}:{},...g?{order:g}:{}}},[w]),z=(0,t.useListUsersAdminQuery)(y),[A,B]=c.useState(y.q??""),[C,D]=c.useState(y.role??"all"),[E,F]=c.useState("boolean"==typeof y.is_active?!!y.is_active:"all");function G(b){let c,d={...y,...b,offset:null!=b.offset?b.offset:0};d.q||delete d.q,d.role||delete d.role,"boolean"!=typeof d.is_active&&delete d.is_active;let e=(c=new URLSearchParams,d.q&&c.set("q",d.q),d.role&&c.set("role",d.role),"boolean"==typeof d.is_active&&c.set("is_active",d.is_active?"1":"0"),null!=d.limit&&c.set("limit",String(d.limit)),null!=d.offset&&c.set("offset",String(d.offset)),d.sort&&c.set("sort",d.sort),d.order&&c.set("order",d.order),c.toString());a.push(e?`/admin/users?${e}`:"/admin/users")}c.useEffect(()=>{B(y.q??""),D(y.role??"all"),F("boolean"==typeof y.is_active?!!y.is_active:"all")},[y.q,y.role,y.is_active]);let H=y.limit??20,I=y.offset??0,J=I>0,K=(z.data?.length??0)>=H;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h1",{className:"text-lg font-semibold",children:x("admin.users.list.title")}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:x("admin.users.list.description")})]}),(0,b.jsxs)(q.Card,{children:[(0,b.jsxs)(q.CardHeader,{className:"gap-2",children:[(0,b.jsx)(q.CardTitle,{className:"text-base",children:x("admin.users.list.filters.title")}),(0,b.jsx)(q.CardDescription,{children:x("admin.users.list.filters.description")})]}),(0,b.jsx)(q.CardContent,{className:"space-y-4",children:(0,b.jsxs)("form",{onSubmit:function(a){a.preventDefault(),G({q:A.trim()||void 0})},className:"flex flex-col gap-3 lg:flex-row lg:items-end",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"q",children:x("admin.users.list.filters.searchLabel")}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Search,{className:"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(m.Input,{id:"q",value:A,onChange:a=>B(a.target.value),placeholder:x("admin.users.list.filters.searchPlaceholder"),className:"pl-9"})]})]}),(0,b.jsxs)("div",{className:"w-full space-y-2 lg:w-56",children:[(0,b.jsx)(o.Label,{children:x("admin.users.list.filters.roleLabel")}),(0,b.jsxs)(p.Select,{value:C,onValueChange:a=>{D(a),G({role:"all"===a?void 0:a})},children:[(0,b.jsx)(p.SelectTrigger,{children:(0,b.jsx)(p.SelectValue,{placeholder:x("admin.users.list.filters.rolePlaceholder")})}),(0,b.jsxs)(p.SelectContent,{children:[(0,b.jsx)(p.SelectItem,{value:"all",children:x("admin.users.roles.all")}),(0,b.jsx)(p.SelectItem,{value:"admin",children:x("admin.users.roles.admin")}),(0,b.jsx)(p.SelectItem,{value:"moderator",children:x("admin.users.roles.moderator")}),(0,b.jsx)(p.SelectItem,{value:"user",children:x("admin.users.roles.user")})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Filter,{className:"size-4 text-muted-foreground"}),(0,b.jsx)(o.Label,{className:"text-sm",children:x("admin.users.list.filters.onlyActive")}),(0,b.jsx)(n.Switch,{checked:!0===E,onCheckedChange:a=>{F(!!a||"all"),G({is_active:!!a||void 0})}})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(l.Button,{type:"submit",disabled:z.isFetching,children:x("admin.users.list.filters.searchButton")}),(0,b.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>{B(""),D("all"),F("all"),a.push("/admin/users")},disabled:z.isFetching,children:x("admin.users.list.filters.resetButton")}),(0,b.jsx)(l.Button,{type:"button",variant:"ghost",onClick:()=>z.refetch(),disabled:z.isFetching,title:x("admin.users.list.filters.refreshButton"),children:(0,b.jsx)(h.RefreshCcw,{className:"size-4"})})]})]})})]}),(0,b.jsxs)(q.Card,{children:[(0,b.jsxs)(q.CardHeader,{children:[(0,b.jsx)(q.CardTitle,{className:"text-base",children:x("admin.users.list.table.title")}),(0,b.jsx)(q.CardDescription,{children:z.isFetching?x("admin.users.list.table.loading"):x("admin.users.list.table.totalRecords",{count:z.data?.length??0})})]}),(0,b.jsxs)(q.CardContent,{className:"space-y-4",children:[z.isError?(0,b.jsxs)("div",{className:"rounded-md border p-4 text-sm",children:[x("admin.users.list.table.loadError")," ",(0,b.jsx)(l.Button,{variant:"link",className:"px-1",onClick:()=>{k.toast.error(x("admin.users.list.table.loadError")),z.refetch()},children:x("admin.users.list.table.retryButton")})]}):null,(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(r.Table,{children:[(0,b.jsx)(r.TableHeader,{children:(0,b.jsxs)(r.TableRow,{children:[(0,b.jsx)(r.TableHead,{children:x("admin.users.list.table.fullName")}),(0,b.jsx)(r.TableHead,{children:x("admin.users.list.table.email")}),(0,b.jsx)(r.TableHead,{children:x("admin.users.list.table.phone")}),(0,b.jsx)(r.TableHead,{children:x("admin.users.list.table.status")}),(0,b.jsx)(r.TableHead,{children:x("admin.users.list.table.role")}),(0,b.jsx)(r.TableHead,{className:"text-right",children:x("admin.users.list.table.actions")})]})}),(0,b.jsxs)(r.TableBody,{children:[(z.data??[]).map(a=>{var c;return(0,b.jsxs)(r.TableRow,{children:[(0,b.jsx)(r.TableCell,{className:"font-medium",children:String(a.full_name??"").trim()||x("admin.users.list.table.unknownUser")}),(0,b.jsx)(r.TableCell,{children:a.email??"—"}),(0,b.jsx)(r.TableCell,{children:a.phone??"—"}),(0,b.jsx)(r.TableCell,{children:a.is_active?(0,b.jsx)(s.Badge,{variant:"secondary",children:x("admin.users.list.table.statusActive")}):(0,b.jsx)(s.Badge,{variant:"destructive",children:x("admin.users.list.table.statusInactive")})}),(0,b.jsx)(r.TableCell,{children:(0,b.jsx)(s.Badge,{variant:a.roles.includes("admin")?"default":"secondary",children:"admin"===(c=a.roles[0]??"user")?x("admin.users.roles.admin"):"moderator"===c?x("admin.users.roles.moderator"):x("admin.users.roles.user")})}),(0,b.jsx)(r.TableCell,{className:"text-right",children:(0,b.jsx)(l.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,b.jsx)(d.default,{prefetch:!1,href:`/admin/users/${encodeURIComponent(a.id)}`,children:x("admin.users.list.table.viewButton")})})})]},a.id)}),z.isFetching||(z.data?.length??0)!==0?null:(0,b.jsx)(r.TableRow,{children:(0,b.jsx)(r.TableCell,{colSpan:6,className:"py-10 text-center text-muted-foreground",children:x("admin.users.list.table.noRecords")})})]})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[x("admin.users.list.pagination.offset",{offset:I})," • ",x("admin.users.list.pagination.limit",{limit:H})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(l.Button,{variant:"outline",size:"sm",disabled:!J||z.isFetching,onClick:()=>G({offset:Math.max(0,I-H)}),children:[(0,b.jsx)(i,{className:"mr-1 size-4"}),x("admin.users.list.pagination.previous")]}),(0,b.jsxs)(l.Button,{variant:"outline",size:"sm",disabled:!K||z.isFetching,onClick:()=>G({offset:I+H}),children:[x("admin.users.list.pagination.next"),(0,b.jsx)(j.ChevronRight,{className:"ml-1 size-4"})]})]})]})]})]})]})}a.s(["default",()=>w],64354)}];

//# sourceMappingURL=_1eb7e0f9._.js.map
module.exports=[14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},20920,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(23292),f=a.i(210),g=a.i(14548),h=a.i(81560),i=a.i(96221),j=a.i(99570),k=a.i(66718),l=a.i(70430),m=a.i(63658),n=a.i(86304),o=a.i(91119),p=a.i(80701),q=a.i(86192),r=a.i(42737),s=a.i(28551),t=a.i(1664);a.i(34658);var u=a.i(42969);a.i(58501);var v=a.i(37201);let w={track:"left",image_url:"",image_asset_id:"",is_active:!0,display_order:0,locale:"",label:""};function x(a){return a?.data?.error?.message||a?.data?.message||a?.message||"İşlem başarısız"}function y({id:a}){let y=(0,d.useRouter)(),{copy:z}=(0,t.useAdminUiCopy)(),A=z.pages?.skills??{};z.common;let{localeOptions:B,defaultLocaleFromDb:C,loading:D}=(0,s.useAdminLocales)(),E=c.useMemo(()=>Array.isArray(B)?B.map(a=>({value:a.value||"",label:a.label||a.value||""})):[],[B]),F="new"===a,G=!F&&(0,u.isUuidLike)(a),{data:H,isLoading:I,error:J}=(0,v.useListSkillLogosAdminQuery)({limit:200},{skip:!G}),K=c.useMemo(()=>!H||F?null:H.find(b=>b.id===a)||null,[H,a,F]),[L,{isLoading:M}]=(0,v.useCreateSkillLogoAdminMutation)(),[N,{isLoading:O}]=(0,v.useUpdateSkillLogoAdminMutation)(),[P,{isLoading:Q}]=(0,v.useRemoveSkillLogoAdminMutation)(),[R,S]=c.useState(()=>({...w,locale:""})),[T,U]=c.useState(!1);c.useEffect(()=>{!R.locale&&C&&S(a=>({...a,locale:C}))},[C,R.locale]),c.useEffect(()=>{!F&&K&&S({id:K.id,track:K.track,image_url:K.image_url??"",image_asset_id:K.image_asset_id??"",is_active:K.is_active,display_order:K.display_order,locale:K.locale,label:K.label})},[K,F]);let V=M||O||Q||I,W=async a=>{if(a.preventDefault(),!R.label.trim())return void e.toast.error(A?.logo_required||"Label gerekli");try{let a={track:R.track,image_url:R.image_url?.trim()||null,image_asset_id:R.image_asset_id?.trim()||null,is_active:R.is_active,display_order:Number(R.display_order??0),locale:R.locale||void 0,label:R.label.trim()};F?(await L(a).unwrap(),e.toast.success("Kayıt oluşturuldu"),y.push("/admin/skills?tab=logos")):R.id&&(await N({id:R.id,patch:a}).unwrap(),e.toast.success("Kayıt güncellendi"))}catch(a){e.toast.error(x(a))}},X=async()=>{if(!F&&R.id)try{await P({id:R.id}).unwrap(),e.toast.success("Kayıt silindi"),y.push("/admin/skills?tab=logos")}catch(a){e.toast.error(x(a))}};return J?(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)(o.Card,{children:(0,b.jsxs)(o.CardContent,{className:"py-12 text-center",children:[(0,b.jsxs)("div",{className:"text-destructive",children:["Kayıt yüklenemedi: ",x(J)]}),(0,b.jsxs)(j.Button,{variant:"outline",onClick:()=>y.push("/admin/skills?tab=logos"),className:"mt-4",children:[(0,b.jsx)(f.ArrowLeft,{className:"mr-2 size-4"}),"Listeye Dön"]})]})})}):!F&&I?(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)(o.Card,{children:(0,b.jsx)(o.CardContent,{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Loader2,{className:"size-5 animate-spin"}),(0,b.jsx)("span",{children:"Yükleniyor..."})]})})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("form",{onSubmit:W,className:"space-y-6",children:[(0,b.jsx)(o.Card,{children:(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(o.CardTitle,{children:F?A?.logo_create_title:A?.logo_edit_title}),(0,b.jsx)(o.CardDescription,{children:F?"Yeni skill logo oluşturun":"Mevcut skill logo düzenleyin"})]}),(0,b.jsxs)(j.Button,{type:"button",variant:"outline",onClick:()=>y.push("/admin/skills?tab=logos"),disabled:V,className:"gap-2",children:[(0,b.jsx)(f.ArrowLeft,{className:"size-4"}),"Geri"]})]})})}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsx)(o.CardTitle,{className:"text-base",children:"Genel Bilgiler"})}),(0,b.jsxs)(o.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsx)("div",{children:(0,b.jsx)(r.AdminLocaleSelect,{value:R.locale||C||"",onChange:a=>S(b=>({...b,locale:a})),options:E,loading:D,disabled:V})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"display_order",className:"text-sm",children:"Sıralama"}),(0,b.jsx)(k.Input,{id:"display_order",type:"number",value:R.display_order,onChange:a=>S(b=>({...b,display_order:Number(a.target.value)||0})),disabled:V,min:0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"is_active",className:"text-sm",children:"Durum"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-md border px-3 py-2",children:[(0,b.jsx)(m.Switch,{id:"is_active",checked:!!R.is_active,onCheckedChange:a=>S(b=>({...b,is_active:a})),disabled:V}),(0,b.jsx)(l.Label,{htmlFor:"is_active",className:"cursor-pointer text-sm",children:R.is_active?(0,b.jsx)(n.Badge,{variant:"default",children:"Aktif"}):(0,b.jsx)(n.Badge,{variant:"secondary",children:"Pasif"})})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(l.Label,{htmlFor:"label",className:"text-sm",children:["Label ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(k.Input,{id:"label",value:R.label,onChange:a=>S(b=>({...b,label:a.target.value})),placeholder:"Örn: React Logo",disabled:V,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"track",className:"text-sm",children:"Track"}),(0,b.jsxs)(p.Select,{value:R.track,onValueChange:a=>S(b=>({...b,track:a})),disabled:V,children:[(0,b.jsx)(p.SelectTrigger,{id:"track",children:(0,b.jsx)(p.SelectValue,{})}),(0,b.jsxs)(p.SelectContent,{children:[(0,b.jsx)(p.SelectItem,{value:"left",children:A?.track_left||"Sol"}),(0,b.jsx)(p.SelectItem,{value:"right",children:A?.track_right||"Sağ"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"image_url",className:"text-sm",children:"Resim URL"}),(0,b.jsx)(k.Input,{id:"image_url",value:R.image_url??"",onChange:a=>S(b=>({...b,image_url:a.target.value})),placeholder:"https://example.com/logo.png",disabled:V})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"image_asset_id",className:"text-sm",children:"Asset ID"}),(0,b.jsx)(k.Input,{id:"image_asset_id",value:R.image_asset_id??"",onChange:a=>S(b=>({...b,image_asset_id:a.target.value})),placeholder:"asset-id-123",disabled:V})]})]})]})]}),(0,b.jsx)(o.Card,{children:(0,b.jsxs)(o.CardContent,{className:"flex flex-col gap-3 pt-6 sm:flex-row sm:justify-between",children:[(0,b.jsx)("div",{children:!F&&(0,b.jsx)(j.Button,{type:"button",variant:"destructive",onClick:()=>{U(!0)},disabled:V,className:"gap-2",children:Q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{className:"size-4 animate-spin"}),"Siliniyor..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Trash2,{className:"size-4"}),"Sil"]})})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>y.push("/admin/skills?tab=logos"),disabled:V,children:"İptal"}),(0,b.jsx)(j.Button,{type:"submit",disabled:V,className:"gap-2",children:M||O?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{className:"size-4 animate-spin"}),"Kaydediliyor..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Save,{className:"size-4"}),"Kaydet"]})})]})]})})]}),(0,b.jsx)(q.AlertDialog,{open:T,onOpenChange:U,children:(0,b.jsxs)(q.AlertDialogContent,{children:[(0,b.jsxs)(q.AlertDialogHeader,{children:[(0,b.jsx)(q.AlertDialogTitle,{children:"Silmek istediğinizden emin misiniz?"}),(0,b.jsxs)(q.AlertDialogDescription,{children:[(0,b.jsx)("strong",{children:R.label||"Bu kayıt"})," silinecek. Bu işlem geri alınamaz."]})]}),(0,b.jsxs)(q.AlertDialogFooter,{children:[(0,b.jsx)(q.AlertDialogCancel,{children:"İptal"}),(0,b.jsx)(q.AlertDialogAction,{onClick:X,children:"Sil"})]})]})})]})}a.s(["default",()=>y])}];

//# sourceMappingURL=_5234d12e._.js.map
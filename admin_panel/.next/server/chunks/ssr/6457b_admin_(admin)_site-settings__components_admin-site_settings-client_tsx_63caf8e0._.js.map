{"version":3,"sources":["../../../../src/app/%28main%29/admin/%28admin%29/site-settings/_components/admin-site_settings-client.tsx","../../../../src/app/%28main%29/admin/%28admin%29/site-settings/_components/site-settings-list.tsx","../../../../src/app/%28main%29/admin/%28admin%29/site-settings/tabs/general-settings-tab.tsx","../../../../src/seo/seoSchema.ts","../../../../src/app/%28main%29/admin/%28admin%29/site-settings/tabs/seo-settings-tab.tsx","../../../../src/app/%28main%29/admin/%28admin%29/site-settings/tabs/smtp-settings-tab.tsx","../../../../src/app/%28main%29/admin/%28admin%29/site-settings/tabs/cloudinary-settings-tab.tsx","../../../../src/app/%28main%29/admin/%28admin%29/site-settings/tabs/brand-media-tab.tsx","../../../../src/app/%28main%29/admin/%28admin%29/site-settings/tabs/api-settings-tab.tsx"],"sourcesContent":["'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/site-settings/admin-site_settings-client.tsx\n// FINAL — Admin Site Settings Client (shadcn/ui theme, UsersListClient layout)\n// - NO bootstrap classes\n// - Tabs + Filters card + Content card\n// - list/global_list use SiteSettingsList (shadcn)\n// =============================================================\n\nimport * as React from 'react';\nimport { toast } from 'sonner';\nimport { Search, RefreshCcw } from 'lucide-react';\nimport { useAdminTranslations } from '@/i18n/adminUi';\n\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs';\n\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\n\nimport { SiteSettingsList } from './site-settings-list';\n\n// tabs (content sources)\nimport { GeneralSettingsTab } from '../tabs/general-settings-tab';\nimport { SeoSettingsTab } from '../tabs/seo-settings-tab';\nimport { SmtpSettingsTab } from '../tabs/smtp-settings-tab';\nimport { CloudinarySettingsTab } from '../tabs/cloudinary-settings-tab';\nimport { BrandMediaTab } from '../tabs/brand-media-tab';\nimport { ApiSettingsTab } from '../tabs/api-settings-tab';\n\nimport type { SiteSetting } from '@/integrations/shared';\nimport {\n  useGetAppLocalesAdminQuery,\n  useGetDefaultLocaleAdminQuery,\n  useListSiteSettingsAdminQuery,\n  useDeleteSiteSettingAdminMutation,\n} from '@/integrations/hooks';\n\n/* ----------------------------- helpers ----------------------------- */\n\ntype SettingsTab =\n  | 'list'\n  | 'global_list'\n  | 'general'\n  | 'seo'\n  | 'smtp'\n  | 'cloudinary'\n  | 'brand_media'\n  | 'api';\n\ntype LocaleOption = { value: string; label: string };\n\nfunction safeStr(v: unknown) {\n  return v === null || v === undefined ? '' : String(v);\n}\n\nfunction getErrMessage(err: unknown, fallback: string): string {\n  const anyErr = err as any;\n  const m1 = anyErr?.data?.error?.message;\n  if (typeof m1 === 'string' && m1.trim()) return m1;\n  const m1b = anyErr?.data?.error;\n  if (typeof m1b === 'string' && m1b.trim()) return m1b;\n  const m2 = anyErr?.data?.message;\n  if (typeof m2 === 'string' && m2.trim()) return m2;\n  const m3 = anyErr?.error;\n  if (typeof m3 === 'string' && m3.trim()) return m3;\n  return fallback;\n}\n\nfunction buildLocalesOptions(appLocales: any[] | undefined, defaultLocale: any): LocaleOption[] {\n  const items = Array.isArray(appLocales) ? appLocales : [];\n  const def = typeof defaultLocale === 'string' ? defaultLocale : safeStr(defaultLocale);\n\n  const sorted = [...items].sort((a, b) => {\n    const aa = a?.is_active === false ? 1 : 0;\n    const bb = b?.is_active === false ? 1 : 0;\n    if (aa !== bb) return aa - bb;\n    return String(a?.code || '').localeCompare(String(b?.code || ''));\n  });\n\n  const mapped: LocaleOption[] = sorted\n    .filter((x) => x?.code)\n    .map((x) => {\n      const code = String(x.code);\n      const labelBase = x.label ? `${x.label} (${code})` : code;\n      const suffix = x.is_default ? ' • default' : x.is_active === false ? ' • inactive' : '';\n      return { value: code, label: labelBase + suffix };\n    });\n\n  if (!mapped.length) return [{ value: def || 'de', label: def || 'de' }];\n  return mapped;\n}\n\nfunction pickInitialLocale(appLocales: any[] | undefined, defaultLocale: any): string {\n  const items = Array.isArray(appLocales) ? appLocales : [];\n  const def =\n    typeof defaultLocale === 'string' ? defaultLocale.trim() : safeStr(defaultLocale).trim();\n\n  if (def) return def;\n\n  const firstActive = items.find((x) => x?.is_active !== false && x?.code)?.code;\n  return firstActive ? String(firstActive) : 'de';\n}\n\nfunction editHref(key: string, locale: string) {\n  return `/admin/site-settings/${encodeURIComponent(key)}?locale=${encodeURIComponent(locale)}`;\n}\n\n/* ----------------------------- list panels ----------------------------- */\n\nfunction ListPanel({\n  locale,\n  search,\n  onDeleteRow,\n}: {\n  locale: string; // selected locale OR '*'\n  search: string;\n  onDeleteRow: (row: SiteSetting) => void;\n}) {\n  const qArgs = React.useMemo(() => {\n    const q = search.trim() || undefined;\n    return {\n      locale,\n      q,\n      sort: 'key' as const,\n      order: 'asc' as const,\n      limit: 200,\n      offset: 0,\n    };\n  }, [locale, search]);\n\n  const listQ = useListSiteSettingsAdminQuery(qArgs, {\n    skip: !locale,\n    refetchOnMountOrArgChange: true,\n  });\n\n  const loading = listQ.isLoading || listQ.isFetching;\n\n  return (\n    <SiteSettingsList\n      settings={(listQ.data ?? []) as SiteSetting[]}\n      loading={loading}\n      selectedLocale={locale}\n      onDelete={onDeleteRow}\n      getEditHref={(s) => editHref(String(s.key || ''), locale)}\n    />\n  );\n}\n\n/* ----------------------------- main component ----------------------------- */\n\nexport default function AdminSiteSettingsClient() {\n  const localesQ = useGetAppLocalesAdminQuery();\n  const defaultLocaleQ = useGetDefaultLocaleAdminQuery();\n\n  const localeOptions: LocaleOption[] = React.useMemo(\n    () => buildLocalesOptions(localesQ.data as any, defaultLocaleQ.data as any),\n    [localesQ.data, defaultLocaleQ.data],\n  );\n\n  const initialLocale = React.useMemo(\n    () => pickInitialLocale(localesQ.data as any, defaultLocaleQ.data as any),\n    [localesQ.data, defaultLocaleQ.data],\n  );\n\n  const [tab, setTab] = React.useState<SettingsTab>('general');\n  const [search, setSearch] = React.useState('');\n  const [locale, setLocale] = React.useState<string>('');\n\n  const [deleteSetting, { isLoading: isDeleting }] = useDeleteSiteSettingAdminMutation();\n\n  const t = useAdminTranslations(locale);\n\n  React.useEffect(() => {\n    if (!locale) setLocale(initialLocale);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialLocale]);\n\n  const headerLoading =\n    localesQ.isFetching ||\n    defaultLocaleQ.isFetching ||\n    localesQ.isLoading ||\n    defaultLocaleQ.isLoading;\n\n  const disabled = headerLoading || isDeleting;\n\n  const onRefresh = async () => {\n    try {\n      await Promise.all([localesQ.refetch(), defaultLocaleQ.refetch()]);\n      toast.success(t('admin.siteSettings.filters.refreshed'));\n    } catch (err) {\n      toast.error(getErrMessage(err, t('admin.siteSettings.messages.error')));\n    }\n  };\n\n  const handleDeleteRow = async (row: SiteSetting) => {\n    const key = String(row?.key || '').trim();\n    const rowLocale = row?.locale ? String(row.locale) : undefined;\n    if (!key) return;\n\n    const ok = window.confirm(`\"${key}\" (${rowLocale || locale || '—'}) silinsin mi?`);\n    if (!ok) return;\n\n    try {\n      await deleteSetting({ key, locale: rowLocale ?? undefined } as any).unwrap();\n      toast.success(t('admin.siteSettings.messages.deleted'));\n    } catch (err) {\n      toast.error(getErrMessage(err, t('admin.siteSettings.messages.error')));\n    }\n  };\n\n  const localeReady = Boolean(locale && locale.trim());\n  const isGlobalTab = tab === 'global_list' || tab === 'smtp' || tab === 'brand_media';\n\n  return (\n    <div className=\"w-full max-w-full space-y-6 overflow-x-hidden px-2 pb-6 md:px-0 md:pb-0\">\n      {/* PAGE HEAD (UsersListClient style) */}\n      <div className=\"space-y-1\">\n        <h1 className=\"text-lg font-semibold\">{t('admin.siteSettings.title')}</h1>\n        <p className=\"text-sm text-muted-foreground\">\n          {t('admin.siteSettings.description')}\n        </p>\n      </div>\n\n      {/* FILTERS (UsersListClient style) */}\n      <Card>\n        <CardHeader className=\"gap-2\">\n          <CardTitle className=\"text-base\">{t('admin.siteSettings.filters.title')}</CardTitle>\n          <CardDescription>{t('admin.siteSettings.filters.description')}</CardDescription>\n        </CardHeader>\n\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex flex-col gap-3 lg:flex-row lg:items-end\">\n            <div className=\"w-full flex-1 space-y-2\">\n              <Label htmlFor=\"q\">{t('admin.siteSettings.filters.search')}</Label>\n              <div className=\"relative\">\n                <Search className=\"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground\" />\n                <Input\n                  id=\"q\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  placeholder={t('admin.siteSettings.filters.searchPlaceholder')}\n                  className=\"w-full pl-9\"\n                  disabled={disabled}\n                />\n              </div>\n            </div>\n\n            <div className=\"w-full space-y-2 lg:w-56\">\n              <Label>{t('admin.siteSettings.filters.language')}</Label>\n              <Select\n                value={localeReady ? locale : ''}\n                onValueChange={(v) => setLocale(v)}\n                disabled={disabled || isGlobalTab}\n              >\n                <SelectTrigger className=\"w-full\">\n                  <SelectValue placeholder={isGlobalTab ? 'Global' : t('admin.siteSettings.filters.selectLanguage')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {(localeOptions ?? []).map((o) => (\n                    <SelectItem key={o.value} value={o.value}>\n                      {o.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              {isGlobalTab ? (\n                <div className=\"text-xs text-muted-foreground\">\n                  {t('admin.siteSettings.filters.languageDisabledNote')}\n                </div>\n              ) : null}\n            </div>\n\n            <div className=\"flex w-full gap-2 lg:w-auto\">\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                onClick={onRefresh}\n                disabled={disabled}\n                title={t('admin.siteSettings.filters.refreshButton')}\n                className=\"flex-1 lg:flex-initial\"\n              >\n                <RefreshCcw className=\"size-4\" />\n                <span className=\"ml-2 lg:hidden\">{t('admin.siteSettings.filters.refreshButton')}</span>\n              </Button>\n\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => {\n                  setSearch('');\n                  if (!isGlobalTab) setLocale(initialLocale);\n                }}\n                disabled={disabled}\n                className=\"flex-1 lg:flex-initial\"\n              >\n                {t('admin.siteSettings.filters.resetButton')}\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* CONTENT */}\n      <Card>\n        <CardHeader className=\"gap-2\">\n          <div className=\"flex items-start justify-between gap-3\">\n            <div className=\"space-y-1\">\n              <CardTitle className=\"text-base\">{t('admin.siteSettings.management.title')}</CardTitle>\n              <CardDescription>\n                {tab === 'list' ? t('admin.siteSettings.management.localeRecords') : null}\n                {tab === 'global_list' ? t('admin.siteSettings.management.globalRecords') : null}\n                {tab === 'general' ? t('admin.siteSettings.general.title') : null}\n                {tab === 'seo' ? t('admin.siteSettings.tabs.seo') : null}\n                {tab === 'smtp' ? t('admin.siteSettings.tabs.smtp') : null}\n                {tab === 'cloudinary' ? t('admin.siteSettings.cloudinary.title') : null}\n                {tab === 'brand_media' ? t('admin.siteSettings.brandMedia.title') : null}\n                {tab === 'api' ? t('admin.siteSettings.api.title') : null}\n              </CardDescription>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              {isGlobalTab ? <Badge variant=\"secondary\">Global</Badge> : null}\n              {!isGlobalTab && localeReady ? <Badge variant=\"secondary\">{locale}</Badge> : null}\n              {disabled ? <Badge variant=\"outline\">{t('admin.siteSettings.messages.loading')}</Badge> : null}\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"space-y-4\">\n          {!localeReady ? (\n            <div className=\"rounded-md border p-4 text-sm text-muted-foreground\">\n              {t('admin.siteSettings.management.loadingMeta')}\n            </div>\n          ) : (\n            <Tabs value={tab} onValueChange={(v) => setTab(v as SettingsTab)}>\n              <div className=\"-mx-2 overflow-x-auto px-2 md:mx-0 md:overflow-x-visible md:px-0\">\n                <TabsList className=\"inline-flex min-w-full flex-nowrap justify-start md:flex-wrap\">\n                  <TabsTrigger value=\"list\" className=\"whitespace-nowrap\">\n                    {t('admin.siteSettings.tabs.list')}\n                  </TabsTrigger>\n                  <TabsTrigger value=\"global_list\" className=\"whitespace-nowrap\">\n                    {t('admin.siteSettings.tabs.globalList')}\n                  </TabsTrigger>\n                  <TabsTrigger value=\"general\" className=\"whitespace-nowrap\">\n                    {t('admin.siteSettings.tabs.general')}\n                  </TabsTrigger>\n                  <TabsTrigger value=\"seo\" className=\"whitespace-nowrap\">\n                    {t('admin.siteSettings.tabs.seo')}\n                  </TabsTrigger>\n                  <TabsTrigger value=\"smtp\" className=\"whitespace-nowrap\">\n                    {t('admin.siteSettings.tabs.smtp')}\n                  </TabsTrigger>\n                  <TabsTrigger value=\"cloudinary\" className=\"whitespace-nowrap\">\n                    {t('admin.siteSettings.tabs.cloudinary')}\n                  </TabsTrigger>\n                  <TabsTrigger value=\"brand_media\" className=\"whitespace-nowrap\">\n                    {t('admin.siteSettings.tabs.brandMedia')}\n                  </TabsTrigger>\n                  <TabsTrigger value=\"api\" className=\"whitespace-nowrap\">\n                    {t('admin.siteSettings.tabs.api')}\n                  </TabsTrigger>\n                </TabsList>\n              </div>\n\n              <TabsContent value=\"list\" className=\"mt-4\">\n                <ListPanel locale={locale} search={search} onDeleteRow={handleDeleteRow} />\n              </TabsContent>\n\n              <TabsContent value=\"global_list\" className=\"mt-4\">\n                <ListPanel locale=\"*\" search={search} onDeleteRow={handleDeleteRow} />\n              </TabsContent>\n\n              <TabsContent value=\"general\" className=\"mt-4\">\n                <GeneralSettingsTab locale={locale} />\n              </TabsContent>\n\n              <TabsContent value=\"seo\" className=\"mt-4\">\n                <SeoSettingsTab locale={locale} />\n              </TabsContent>\n\n              <TabsContent value=\"smtp\" className=\"mt-4\">\n                <SmtpSettingsTab locale={locale} />\n              </TabsContent>\n\n              <TabsContent value=\"cloudinary\" className=\"mt-4\">\n                <CloudinarySettingsTab locale={locale} />\n              </TabsContent>\n\n              <TabsContent value=\"brand_media\" className=\"mt-4\">\n                <BrandMediaTab />\n              </TabsContent>\n\n              <TabsContent value=\"api\" className=\"mt-4\">\n                <ApiSettingsTab locale={locale} />\n              </TabsContent>\n            </Tabs>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/site-settings/_components/SiteSettingsList.tsx\n// guezelwebdesign – Site Ayarları Liste Bileşeni (shadcn/ui)\n// - FIX: Hide SEO keys in global(*) list.\n// - UI: Card + Table (desktop), Card list (mobile)\n// - FIX: <a href> => next/link (no full reload)\n// - Preview fallback -> object/array OR string(JSON) => JSON preview\n// - NO inline styles\n// =============================================================\n\nimport * as React from 'react';\nimport Link from 'next/link';\nimport type { SiteSetting, SettingValue } from '@/integrations/shared';\n\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\n\n/* ----------------------------- helpers ----------------------------- */\n\nfunction isSeoKey(key: string): boolean {\n  const k = String(key || '')\n    .trim()\n    .toLowerCase();\n  if (!k) return false;\n\n  return (\n    k === 'seo' ||\n    k === 'site_seo' ||\n    k === 'site_meta_default' ||\n    k.startsWith('seo_') ||\n    k.startsWith('seo|') ||\n    k.startsWith('site_seo|') ||\n    k.startsWith('ui_seo') ||\n    k.startsWith('ui_seo_')\n  );\n}\n\n/**\n * Some rows may store JSON as string in DB.\n * For list preview, attempt to parse if it \"looks like JSON\".\n */\nfunction coercePreviewValue(input: SettingValue): SettingValue {\n  if (input === null || input === undefined) return input;\n\n  if (typeof input === 'object') return input;\n\n  if (typeof input === 'string') {\n    const s = input.trim();\n    if (!s) return input;\n\n    const looksJson =\n      (s.startsWith('{') && s.endsWith('}')) || (s.startsWith('[') && s.endsWith(']'));\n\n    if (!looksJson) return input;\n\n    try {\n      return JSON.parse(s) as any;\n    } catch {\n      return input;\n    }\n  }\n\n  return input;\n}\n\nfunction formatValuePreview(v: SettingValue): string {\n  const vv = coercePreviewValue(v);\n  if (vv === null || vv === undefined) return '—';\n\n  // Primitive values\n  if (typeof vv === 'string') {\n    const s = vv.trim();\n    if (s.length <= 80) return s;\n    return `${s.slice(0, 77)}...`;\n  }\n\n  if (typeof vv === 'number' || typeof vv === 'boolean') return String(vv);\n\n  // Arrays\n  if (Array.isArray(vv)) {\n    if (vv.length === 0) return '[]';\n    return `Array [${vv.length} items]`;\n  }\n\n  // Objects\n  if (typeof vv === 'object') {\n    const keys = Object.keys(vv);\n    if (keys.length === 0) return '{}';\n    if (keys.length <= 3) return `{ ${keys.join(', ')} }`;\n    return `Object {${keys.length} fields}`;\n  }\n\n  // Fallback\n  try {\n    const s = JSON.stringify(vv);\n    if (s.length <= 80) return s;\n    return `${s.slice(0, 77)}...`;\n  } catch {\n    return String(vv as any);\n  }\n}\n\nfunction formatDate(v?: string | null): string {\n  if (!v) return '—';\n  try {\n    return new Date(v).toLocaleString();\n  } catch {\n    return '—';\n  }\n}\n\n/* ----------------------------- types ----------------------------- */\n\nexport type SiteSettingsListProps = {\n  settings?: SiteSetting[];\n  loading: boolean;\n\n  onEdit?: (setting: SiteSetting) => void;\n  onDelete?: (setting: SiteSetting) => void;\n\n  /**\n   * Edit action can be a link.\n   * Example: (s) => `/admin/site-settings/${encodeURIComponent(s.key)}?locale=${selectedLocale}`\n   */\n  getEditHref?: (setting: SiteSetting) => string;\n\n  selectedLocale: string; // 'en' | 'de' | '*'\n};\n\n/* ----------------------------- component ----------------------------- */\n\nexport const SiteSettingsList: React.FC<SiteSettingsListProps> = ({\n  settings,\n  loading,\n  onEdit,\n  onDelete,\n  getEditHref,\n  selectedLocale,\n}) => {\n  const filtered = React.useMemo(() => {\n    const arr = Array.isArray(settings) ? settings : [];\n    if (selectedLocale === '*') return arr.filter((s) => s && !isSeoKey(s.key));\n    return arr;\n  }, [settings, selectedLocale]);\n\n  const hasData = filtered.length > 0;\n\n  const renderEditAction = (s: SiteSetting) => {\n    const href = getEditHref?.(s);\n\n    if (href) {\n      return (\n        <Button asChild variant=\"outline\" size=\"sm\">\n          <Link prefetch={false} href={href}>\n            Düzenle\n          </Link>\n        </Button>\n      );\n    }\n\n    if (onEdit) {\n      return (\n        <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={() => onEdit(s)}>\n          Düzenle\n        </Button>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <Card>\n      <CardHeader className=\"gap-2\">\n        <div className=\"flex items-start justify-between gap-3\">\n          <div className=\"space-y-1\">\n            <CardTitle className=\"text-base\">Ayar Listesi</CardTitle>\n            <CardDescription className=\"text-sm\">\n              <span className=\"text-muted-foreground\">\n                <code>site_settings</code> kayıtları\n              </span>{' '}\n              <span className=\"text-muted-foreground\">\n                (<span className=\"font-medium text-foreground\">{selectedLocale || '—'}</span>)\n              </span>\n              {selectedLocale === '*' ? (\n                <span className=\"text-muted-foreground\">\n                  {' '}\n                  • SEO anahtarları bu listede gizlenir; SEO tab’ında yönetilir.\n                </span>\n              ) : null}\n            </CardDescription>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            {selectedLocale ? <Badge variant=\"secondary\">{selectedLocale}</Badge> : null}\n            {loading ? <Badge variant=\"outline\">Yükleniyor…</Badge> : null}\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-4\">\n        {/* ===================== DESKTOP TABLE (md+) ===================== */}\n        <div className=\"hidden md:block\">\n          <div className=\"rounded-md border\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead className=\"w-[25%]\">Key</TableHead>\n                  <TableHead className=\"w-[8%]\">Dil</TableHead>\n                  <TableHead className=\"w-[35%]\">Değer (Özet)</TableHead>\n                  <TableHead className=\"w-[15%]\">Güncellenme</TableHead>\n                  <TableHead className=\"w-[17%] text-right\">İşlemler</TableHead>\n                </TableRow>\n              </TableHeader>\n\n              <TableBody>\n                {hasData ? (\n                  filtered.map((s) => (\n                    <TableRow key={`${s.key}_${s.locale || 'none'}`}>\n                      <TableCell className=\"align-top font-medium wrap-break-word\">\n                        {s.key}\n                      </TableCell>\n\n                      <TableCell className=\"align-top\">\n                        {s.locale ? (\n                          <Badge variant=\"outline\">{s.locale}</Badge>\n                        ) : (\n                          <span className=\"text-muted-foreground\">—</span>\n                        )}\n                      </TableCell>\n\n                      <TableCell className=\"align-top\">\n                        <div className=\"max-w-md overflow-hidden text-ellipsis text-xs text-muted-foreground\">\n                          <code className=\"rounded bg-muted px-1.5 py-0.5\">\n                            {formatValuePreview(s.value)}\n                          </code>\n                        </div>\n                      </TableCell>\n\n                      <TableCell className=\"align-top\">\n                        <span className=\"text-xs text-muted-foreground\">\n                          {formatDate(s.updated_at)}\n                        </span>\n                      </TableCell>\n\n                      <TableCell className=\"align-top text-right\">\n                        <div className=\"inline-flex items-center gap-2\">\n                          {renderEditAction(s)}\n                          {onDelete ? (\n                            <Button\n                              type=\"button\"\n                              variant=\"destructive\"\n                              size=\"sm\"\n                              onClick={() => onDelete(s)}\n                            >\n                              Sil\n                            </Button>\n                          ) : null}\n                        </div>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                ) : (\n                  <TableRow>\n                    <TableCell colSpan={5} className=\"py-10 text-center text-muted-foreground\">\n                      Kayıt bulunamadı.\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </div>\n        </div>\n\n        {/* ===================== MOBILE CARDS (sm and down) ===================== */}\n        <div className=\"md:hidden\">\n          <div className=\"rounded-md border\">\n            {hasData ? (\n              <div className=\"divide-y\">\n                {filtered.map((s) => {\n                  const editAction = renderEditAction(s);\n                  return (\n                    <div key={`${s.key}_${s.locale || 'none'}`} className=\"p-4\">\n                      <div className=\"flex items-start justify-between gap-3\">\n                        <div className=\"min-w-0 space-y-2\">\n                          <div className=\"flex flex-wrap items-center gap-2\">\n                            <div className=\"font-medium wrap-break-word\">{s.key}</div>\n                            {s.locale ? <Badge variant=\"outline\">{s.locale}</Badge> : null}\n                          </div>\n\n                          <div className=\"text-xs text-muted-foreground wrap-break-word\">\n                            {formatValuePreview(s.value)}\n                          </div>\n\n                          <div className=\"text-xs text-muted-foreground\">\n                            Güncellenme: {formatDate(s.updated_at)}\n                          </div>\n                        </div>\n                      </div>\n\n                      {editAction || onDelete ? (\n                        <div className=\"mt-4 grid gap-2\">\n                          {editAction ? <div className=\"grid\">{editAction}</div> : null}\n                          {onDelete ? (\n                            <Button\n                              type=\"button\"\n                              variant=\"destructive\"\n                              size=\"sm\"\n                              onClick={() => onDelete(s)}\n                            >\n                              Sil\n                            </Button>\n                          ) : null}\n                        </div>\n                      ) : null}\n                    </div>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"py-10 text-center text-sm text-muted-foreground\">\n                Kayıt bulunamadı.\n              </div>\n            )}\n          </div>\n\n          <div className=\"mt-2 text-xs text-muted-foreground\">\n            Mobil görünümde kayıtlar kart formatında listelenir.\n            {selectedLocale === '*' ? ' SEO anahtarları burada da gizlidir.' : ''}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nSiteSettingsList.displayName = 'SiteSettingsList';\n","'use client';\n\n// =============================================================\n// FILE: src/components/admin/site-settings/tabs/GeneralSettingsTab.tsx\n// guezelwebdesign – Genel / UI Ayarları (GLOBAL '*' + Localized Override)\n// - NO bootstrap\n// - UI: UsersListClient pattern (Card + Filters + Table)\n// - Modal yok: edit -> detail form link\n// Route: /admin/site-settings/[id]?locale=tr|en|*\n// =============================================================\n\nimport * as React from 'react';\nimport Link from 'next/link';\nimport { toast } from 'sonner';\nimport { Search, RefreshCcw } from 'lucide-react';\nimport { useAdminTranslations } from '@/i18n/adminUi';\n\nimport {\n  useListSiteSettingsAdminQuery,\n  useUpdateSiteSettingAdminMutation,\n  useDeleteSiteSettingAdminMutation,\n} from '@/integrations/hooks';\n\nimport type { SiteSetting, SettingValue } from '@/integrations/shared';\n\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\n\n/* ----------------------------- config ----------------------------- */\n\nconst GENERAL_KEYS = [\n  'contact_info',\n  'socials',\n  'businessHours',\n  'company_profile',\n  'ui_header',\n] as const;\n\ntype GeneralKey = (typeof GENERAL_KEYS)[number];\n\nconst DEFAULTS_BY_KEY: Record<GeneralKey, SettingValue> = {\n  contact_info: { phone: '', email: '', address: '', whatsapp: '' },\n  socials: { instagram: '', facebook: '', linkedin: '', youtube: '', x: '' },\n  businessHours: [\n    { day: 'mon', open: '09:00', close: '18:00', closed: false },\n    { day: 'tue', open: '09:00', close: '18:00', closed: false },\n    { day: 'wed', open: '09:00', close: '18:00', closed: false },\n    { day: 'thu', open: '09:00', close: '18:00', closed: false },\n    { day: 'fri', open: '09:00', close: '18:00', closed: false },\n    { day: 'sat', open: '10:00', close: '14:00', closed: false },\n    { day: 'sun', open: '00:00', close: '00:00', closed: true },\n  ],\n  company_profile: { company_name: 'guezelwebdesign', slogan: '', about: '' },\n  ui_header: {\n    nav_home: 'Home',\n    nav_products: 'Products',\n    nav_services: 'Services',\n    nav_contact: 'Contact',\n    cta_label: 'Get Offer',\n  },\n};\n\nfunction isGeneralKey(k: string): k is GeneralKey {\n  return (GENERAL_KEYS as readonly string[]).includes(k);\n}\n\nfunction stringifyValuePretty(v: SettingValue): string {\n  if (v === null || v === undefined) return '';\n  if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') return String(v);\n  try {\n    return JSON.stringify(v, null, 2);\n  } catch {\n    return String(v as any);\n  }\n}\n\nfunction formatValuePreview(v: SettingValue | undefined): string {\n  if (v === undefined) return '';\n  const s = stringifyValuePretty(v);\n  if (s.length <= 180) return s;\n  return `${s.slice(0, 177)}...`;\n}\n\ntype RowGroup = {\n  key: GeneralKey;\n  globalRow?: SiteSetting;\n  localeRow?: SiteSetting;\n  effectiveValue: SettingValue | undefined;\n  effectiveSource: 'locale' | 'global' | 'none';\n};\n\nfunction buildGroups(rows: any, locale: string): RowGroup[] {\n  const only = rows.filter((r: any) => r && isGeneralKey(r.key));\n  const byKey = new Map<GeneralKey, { global?: SiteSetting; local?: SiteSetting }>();\n\n  for (const r of only) {\n    const key = r.key as GeneralKey;\n    const entry = byKey.get(key) || {};\n    if (r.locale === '*') entry.global = r;\n    if (r.locale === locale) entry.local = r;\n    byKey.set(key, entry);\n  }\n\n  return GENERAL_KEYS.map((k) => {\n    const entry = byKey.get(k) || {};\n    const effectiveSource: RowGroup['effectiveSource'] = entry.local\n      ? 'locale'\n      : entry.global\n        ? 'global'\n        : 'none';\n\n    const effectiveValue =\n      effectiveSource === 'locale'\n        ? entry.local?.value\n        : effectiveSource === 'global'\n          ? entry.global?.value\n          : undefined;\n\n    return {\n      key: k,\n      globalRow: entry.global,\n      localeRow: entry.local,\n      effectiveSource,\n      effectiveValue,\n    };\n  });\n}\n\nfunction editHref(key: string, locale: string) {\n  return `/admin/site-settings/${encodeURIComponent(key)}?locale=${encodeURIComponent(locale)}`;\n}\n\nfunction errMsg(err: any, fallback: string): string {\n  return (\n    err?.data?.error?.message ||\n    err?.data?.message ||\n    err?.message ||\n    fallback\n  );\n}\n\n/* ----------------------------- component ----------------------------- */\n\nexport type GeneralSettingsTabProps = {\n  locale: string; // selected locale (tr/en/...)\n};\n\nexport const GeneralSettingsTab: React.FC<GeneralSettingsTabProps> = ({ locale }) => {\n  const [search, setSearch] = React.useState('');\n\n  const [updateSetting, { isLoading: isSaving }] = useUpdateSiteSettingAdminMutation();\n  const [deleteSetting, { isLoading: isDeleting }] = useDeleteSiteSettingAdminMutation();\n\n  const t = useAdminTranslations(locale);\n\n  // list global + locale\n  const listArgsGlobal = React.useMemo(() => {\n    const q = search.trim() || undefined;\n    return { locale: '*', q, keys: GENERAL_KEYS as unknown as string[] };\n  }, [search]);\n\n  const listArgsLocale = React.useMemo(() => {\n    const q = search.trim() || undefined;\n    return { locale, q, keys: GENERAL_KEYS as unknown as string[] };\n  }, [locale, search]);\n\n  const qGlobal = useListSiteSettingsAdminQuery(listArgsGlobal, { skip: !locale });\n  const qLocale = useListSiteSettingsAdminQuery(listArgsLocale, { skip: !locale });\n\n  const rowsMerged = React.useMemo(() => {\n    const g = Array.isArray(qGlobal.data) ? qGlobal.data : [];\n    const l = Array.isArray(qLocale.data) ? qLocale.data : [];\n    return [...g, ...l];\n  }, [qGlobal.data, qLocale.data]);\n\n  const groups = React.useMemo(() => {\n    const arr = Array.isArray(rowsMerged) ? rowsMerged : [];\n    const s = search.trim().toLowerCase();\n\n    const filtered =\n      s && s.length >= 2\n        ? arr.filter((r) => {\n            if (!r || !isGeneralKey(r.key)) return false;\n            const k = String(r.key || '').toLowerCase();\n            const v = stringifyValuePretty(r.value as any).toLowerCase();\n            return k.includes(s) || v.includes(s);\n          })\n        : arr.filter((r) => r && isGeneralKey(r.key));\n\n    return buildGroups(filtered as SiteSetting[], locale);\n  }, [rowsMerged, locale, search]);\n\n  const busy =\n    qGlobal.isLoading ||\n    qLocale.isLoading ||\n    qGlobal.isFetching ||\n    qLocale.isFetching ||\n    isSaving ||\n    isDeleting;\n\n  const refetchAll = async () => {\n    await Promise.all([qGlobal.refetch(), qLocale.refetch()]);\n  };\n\n  const createOverrideFromGlobal = async (g: RowGroup) => {\n    if (!g.globalRow) {\n      toast.error(t('admin.siteSettings.general.missingGlobalError'));\n      return;\n    }\n\n    try {\n      await updateSetting({ key: g.key, locale, value: g.globalRow.value } as any).unwrap();\n      toast.success(t('admin.siteSettings.general.overrideCreated', { key: g.key, locale }));\n      await refetchAll();\n    } catch (err: any) {\n      toast.error(errMsg(err, t('admin.siteSettings.messages.error')));\n    }\n  };\n\n  const restoreDefaults = async (key: GeneralKey, targetLocale: string) => {\n    try {\n      await updateSetting({\n        key,\n        locale: targetLocale,\n        value: DEFAULTS_BY_KEY[key] as any,\n      } as any).unwrap();\n      toast.success(t('admin.siteSettings.general.defaultsRestored', { key, locale: targetLocale }));\n      await refetchAll();\n    } catch (err: any) {\n      toast.error(errMsg(err, t('admin.siteSettings.messages.error')));\n    }\n  };\n\n  const deleteRow = async (key: GeneralKey, targetLocale: string) => {\n    const ok = window.confirm(t('admin.siteSettings.general.deleteConfirm', { key, locale: targetLocale }));\n    if (!ok) return;\n\n    try {\n      await deleteSetting({ key, locale: targetLocale } as any).unwrap();\n      toast.success(t('admin.siteSettings.general.deleted', { key, locale: targetLocale }));\n      await refetchAll();\n    } catch (err: any) {\n      toast.error(errMsg(err, t('admin.siteSettings.messages.error')));\n    }\n  };\n\n  const upsertEmptyGlobals = async () => {\n    try {\n      for (const k of GENERAL_KEYS) {\n        const exists = groups.find((g) => g.key === k)?.globalRow;\n        if (exists) continue;\n        await updateSetting({ key: k, locale: '*', value: DEFAULTS_BY_KEY[k] as any } as any).unwrap();\n      }\n      toast.success(t('admin.siteSettings.general.globalBootstrapSuccess'));\n      await refetchAll();\n    } catch (err: any) {\n      toast.error(errMsg(err, t('admin.siteSettings.messages.error')));\n    }\n  };\n\n  function sourceBadge(src: RowGroup['effectiveSource']) {\n    if (src === 'locale') return <Badge>{t('admin.siteSettings.general.sourceOverride')}</Badge>;\n    if (src === 'global') return <Badge variant=\"secondary\">{t('admin.siteSettings.general.sourceGlobal')}</Badge>;\n    return <Badge variant=\"outline\">{t('admin.siteSettings.general.sourceNone')}</Badge>;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header + actions */}\n      <Card>\n        <CardHeader className=\"gap-2\">\n          <div className=\"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between\">\n            <div className=\"space-y-1\">\n              <CardTitle className=\"text-base\">{t('admin.siteSettings.general.title')}</CardTitle>\n              <CardDescription>\n                {t('admin.siteSettings.general.description', { locale })}\n              </CardDescription>\n            </div>\n\n            <div className=\"flex flex-wrap items-center gap-2\">\n              <Badge variant=\"secondary\">{t('admin.siteSettings.filters.language')}: {locale}</Badge>\n\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={refetchAll}\n                disabled={busy}\n                title={t('admin.siteSettings.filters.refreshButton')}\n              >\n                <RefreshCcw className=\"mr-2 size-4\" />\n                {t('admin.siteSettings.filters.refreshButton')}\n              </Button>\n\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={upsertEmptyGlobals}\n                disabled={busy}\n                title={t('admin.siteSettings.general.globalBootstrapTooltip')}\n              >\n                {t('admin.siteSettings.general.globalBootstrap')}\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"space-y-4\">\n          {/* Search */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"general-search\">{t('admin.siteSettings.filters.search')}</Label>\n            <div className=\"relative\">\n              <Search className=\"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground\" />\n              <Input\n                id=\"general-search\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                placeholder={t('admin.siteSettings.general.searchPlaceholder')}\n                className=\"pl-9\"\n                disabled={busy}\n              />\n            </div>\n          </div>\n\n          {/* Loading badge */}\n          {busy ? (\n            <div className=\"flex items-center gap-2\">\n              <Badge variant=\"outline\">{t('admin.siteSettings.messages.loading')}</Badge>\n              <span className=\"text-xs text-muted-foreground\">\n                {t('admin.siteSettings.general.loadingNote')}\n              </span>\n            </div>\n          ) : null}\n        </CardContent>\n      </Card>\n\n      {/* Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">{t('admin.siteSettings.general.recordsTitle')}</CardTitle>\n          <CardDescription>\n            {t('admin.siteSettings.general.managedKeys')}{' '}\n            <span className=\"text-muted-foreground\">\n              {GENERAL_KEYS.map((k) => (\n                <code key={k} className=\"mr-2\">\n                  {k}\n                </code>\n              ))}\n            </span>\n          </CardDescription>\n        </CardHeader>\n\n        <CardContent className=\"space-y-4\">\n          <div className=\"rounded-md border\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead className=\"w-[24%]\">{t('admin.siteSettings.general.keyColumn')}</TableHead>\n                  <TableHead className=\"w-[16%]\">{t('admin.siteSettings.general.sourceColumn')}</TableHead>\n                  <TableHead className=\"w-[40%]\">{t('admin.siteSettings.general.effectiveColumn')}</TableHead>\n                  <TableHead className=\"w-[20%] text-right\">{t('admin.siteSettings.general.actionsColumn')}</TableHead>\n                </TableRow>\n              </TableHeader>\n\n              <TableBody>\n                {groups.length ? (\n                  groups.map((g) => {\n                    const hasGlobal = Boolean(g.globalRow);\n                    const hasLocal = Boolean(g.localeRow);\n\n                    const editLocale = hasLocal ? locale : '*';\n                    const canEdit = hasGlobal || hasLocal;\n\n                    return (\n                      <TableRow key={`group_${g.key}`}>\n                        <TableCell className=\"align-top\">\n                          <div className=\"wrap-break-word font-mono text-sm font-medium\">\n                            {g.key}\n                          </div>\n                          <div className=\"mt-2 flex flex-wrap gap-2\">\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {hasGlobal ? t('admin.siteSettings.general.globalExists') : t('admin.siteSettings.general.globalNotExists')}\n                            </Badge>\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {hasLocal ? t('admin.siteSettings.general.localeExists', { locale }) : t('admin.siteSettings.general.localeNotExists', { locale })}\n                            </Badge>\n                          </div>\n                        </TableCell>\n\n                        <TableCell className=\"align-top\">\n                          {sourceBadge(g.effectiveSource)}\n                        </TableCell>\n\n                        <TableCell className=\"align-top\">\n                          <div className=\"max-w-md overflow-hidden wrap-break-word text-xs text-muted-foreground\">\n                            <code className=\"rounded bg-muted px-1.5 py-0.5\">\n                              {formatValuePreview(g.effectiveValue)}\n                            </code>\n                          </div>\n\n                          {g.effectiveSource === 'global' && !hasLocal ? (\n                            <div className=\"mt-2 text-xs text-muted-foreground\">\n                              {t('admin.siteSettings.general.noOverrideNote', { locale })}\n                            </div>\n                          ) : null}\n                        </TableCell>\n\n                        <TableCell className=\"align-top\">\n                          <div className=\"flex flex-col gap-2\">\n                            <div className=\"flex flex-wrap justify-end gap-1\">\n                              <Button asChild variant=\"outline\" size=\"sm\" disabled={busy || !canEdit}>\n                                <Link prefetch={false} href={editHref(g.key, editLocale)}>\n                                  {t('admin.siteSettings.actions.edit')}\n                                </Link>\n                              </Button>\n\n                              {!hasLocal && hasGlobal ? (\n                                <Button\n                                  type=\"button\"\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => createOverrideFromGlobal(g)}\n                                  disabled={busy}\n                                >\n                                  {t('admin.siteSettings.general.overrideButton')}\n                                </Button>\n                              ) : null}\n\n                              {hasGlobal || hasLocal ? (\n                                <Button\n                                  type=\"button\"\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => restoreDefaults(g.key, hasLocal ? locale : '*')}\n                                  disabled={busy}\n                                  title={t('admin.siteSettings.general.restoreTooltip')}\n                                >\n                                  {t('admin.siteSettings.general.restoreButton')}\n                                </Button>\n                              ) : null}\n                            </div>\n\n                            {/* Delete buttons (global/local) */}\n                            <div className=\"flex flex-wrap justify-end gap-1\">\n                              <Button\n                                type=\"button\"\n                                variant=\"destructive\"\n                                size=\"sm\"\n                                onClick={() => deleteRow(g.key, '*')}\n                                disabled={busy || !hasGlobal}\n                                title={t('admin.siteSettings.general.deleteGlobalTooltip')}\n                              >\n                                {t('admin.siteSettings.general.deleteGlobal')}\n                              </Button>\n\n                              <Button\n                                type=\"button\"\n                                variant=\"destructive\"\n                                size=\"sm\"\n                                onClick={() => deleteRow(g.key, locale)}\n                                disabled={busy || !hasLocal}\n                                title={t('admin.siteSettings.general.deleteLocaleTooltip', { locale })}\n                              >\n                                {t('admin.siteSettings.general.deleteLocale')}\n                              </Button>\n                            </div>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })\n                ) : (\n                  <TableRow>\n                    <TableCell colSpan={4} className=\"py-10 text-center text-muted-foreground\">\n                      {t('admin.siteSettings.general.noRecords')}\n                      <div className=\"mt-2\">\n                        <Button\n                          type=\"button\"\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={upsertEmptyGlobals}\n                          disabled={busy}\n                        >\n                          {t('admin.siteSettings.general.globalBootstrap')}\n                        </Button>\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </div>\n\n          <div className=\"text-xs text-muted-foreground\">\n            {t('admin.siteSettings.general.deleteTooltip')}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nGeneralSettingsTab.displayName = 'GeneralSettingsTab';\n","// =============================================================\n// FILE: src/seo/seoSchema.ts\n// guezelwebdesign – SEO Schema (STRICT) + DB-backed Defaults\n// SINGLE SOURCE OF TRUTH: open_graph.images[]\n// =============================================================\n\nimport { z } from 'zod';\n\nconst nonEmpty = z.string().trim().min(1);\n\nexport const seoOpenGraphSchema = z\n  .object({\n    type: z.enum(['website', 'article', 'product']).default('website'),\n    /** ✅ SINGLE SOURCE: images[] only */\n    images: z.array(z.string().trim().min(1)).default([]),\n  })\n  .strict();\n\nexport const seoTwitterSchema = z\n  .object({\n    card: z\n      .enum(['summary', 'summary_large_image', 'app', 'player'])\n      .default('summary_large_image'),\n    site: z.string().trim().optional(),\n    creator: z.string().trim().optional(),\n  })\n  .strict();\n\nexport const seoRobotsSchema = z\n  .object({\n    noindex: z.boolean().default(false),\n    index: z.boolean().default(true),\n    follow: z.boolean().default(true),\n  })\n  .strict();\n\nexport const seoSchema = z\n  .object({\n    site_name: nonEmpty,\n    title_default: nonEmpty,\n    title_template: nonEmpty,\n    description: z.string().trim().optional(),\n\n    open_graph: seoOpenGraphSchema.default({\n      type: 'website',\n      images: ['/img/og-default.jpg'],\n    }),\n\n    twitter: seoTwitterSchema.default({\n      card: 'summary_large_image',\n      site: '',\n      creator: '',\n    }),\n\n    robots: seoRobotsSchema.default({\n      noindex: false,\n      index: true,\n      follow: true,\n    }),\n  })\n  .strict();\n\nexport type SeoObject = z.infer<typeof seoSchema>;\n\nexport const siteMetaDefaultSchema = z\n  .object({\n    title: nonEmpty,\n    description: nonEmpty,\n    keywords: z.string().trim().optional(),\n  })\n  .strict();\n\nexport type SiteMetaDefaultObject = z.infer<typeof siteMetaDefaultSchema>;\n\nexport const DEFAULT_OG_IMAGE = '/img/og-default.jpg';\n\n/**\n * ✅ Global fallback – DB boş/kırık olduğunda kullanılır.\n * Asıl değerler site_settings.seo içinden gelir.\n */\nexport const DEFAULT_SEO_GLOBAL: SeoObject = {\n  site_name: 'guezelwebdesign Industrial Cooling Towers',\n  title_default: 'guezelwebdesign Industrial Cooling Towers and Engineering',\n  title_template: '%s – guezelwebdesign',\n  description:\n    'Industrial cooling towers, engineering, installation and service solutions for efficient process cooling.',\n  open_graph: {\n    type: 'website',\n    images: [DEFAULT_OG_IMAGE],\n  },\n  twitter: {\n    card: 'summary_large_image',\n    site: '',\n    creator: '',\n  },\n  robots: {\n    noindex: false,\n    index: true,\n    follow: true,\n  },\n};\n\n/**\n * ✅ Locale bazlı meta fallback – DB’de locale karşılığı yoksa kullanılır.\n * Asıl değerler, varsa, site_settings.site_meta_default (veya benzeri) içinden gelecektir.\n */\nexport const DEFAULT_SITE_META_DEFAULT_BY_LOCALE: Record<string, SiteMetaDefaultObject> = {\n  tr: {\n    title: 'guezelwebdesign – Endüstriyel Su Soğutma Kuleleri ve Mühendislik',\n    description:\n      'Endüstriyel soğutma kuleleri, modernizasyon ve enerji verimliliği çözümleri. Keşif, üretim, montaj, bakım ve yedek parça.',\n    keywords: 'guezelwebdesign, endüstriyel, soğutma kulesi, enerji verimliliği, b2b',\n  },\n  en: {\n    title: 'guezelwebdesign – Industrial Cooling Towers and Engineering',\n    description:\n      'Industrial cooling towers and energy efficiency solutions. Engineering, manufacturing, installation, modernization, testing and spare parts.',\n    keywords: 'guezelwebdesign, industrial, cooling towers, energy efficiency, b2b',\n  },\n  de: {\n    title: 'guezelwebdesign – Industrielle Kuehltuerme und Engineering',\n    description:\n      'Industrielle Kuehlturmtechnik und Energieeffizienzloesungen. Planung, Fertigung, Montage, Modernisierung, Leistungstests und Ersatzteile.',\n    keywords: 'guezelwebdesign, industriell, kuehlturm, energieeffizienz, b2b',\n  },\n};\n\n/* ------------------------------------------------------------------\n * HELPERS – DB site_settings.value -> Tip güvenli SEO objeleri\n * ------------------------------------------------------------------ */\n\nfunction tryParseJson(input: unknown): unknown {\n  if (typeof input !== 'string') return input;\n  const s = input.trim();\n  if (!s) return {};\n  if (!((s.startsWith('{') && s.endsWith('}')) || (s.startsWith('[') && s.endsWith(']')))) {\n    return input;\n  }\n  try {\n    return JSON.parse(s);\n  } catch {\n    return {};\n  }\n}\n\n/**\n * site_settings.seo (veya site_seo) için parse helper:\n *\n *  - input: DB’den gelen value (JSON, text, object vs.)\n *  - output: SeoObject\n *  - davranış:\n *      * Zod ile validate eder\n *      * Eksik alanları DEFAULT_SEO_GLOBAL ile doldurur\n *      * Bozuk/parse edilemeyen durumda tam fallback: DEFAULT_SEO_GLOBAL\n */\nexport function parseSeoFromSettings(input: unknown): SeoObject {\n  const base = DEFAULT_SEO_GLOBAL;\n\n  if (input === null || input === undefined) {\n    return base;\n  }\n\n  const raw = tryParseJson(input);\n\n  try {\n    // DB value genelde \"partial\" olacağı için partial schema + merge kullanıyoruz\n    const partial = seoSchema.partial().parse(raw) as Partial<SeoObject>;\n\n    return {\n      ...base,\n      ...partial,\n      open_graph: {\n        ...base.open_graph,\n        ...(partial.open_graph ?? {}),\n      },\n      twitter: {\n        ...base.twitter,\n        ...(partial.twitter ?? {}),\n      },\n      robots: {\n        ...base.robots,\n        ...(partial.robots ?? {}),\n      },\n    };\n  } catch {\n    return base;\n  }\n}\n\n/**\n * site_settings.site_meta_default (locale bazlı meta) için parse helper:\n *\n *  Beklenen format (DB value):\n *  {\n *    \"tr\": { \"title\": \"...\", \"description\": \"...\", \"keywords\": \"...\" },\n *    \"en\": { ... },\n *    \"de\": { ... }\n *  }\n *\n *  - Her locale için siteMetaDefaultSchema ile validate edilir.\n *  - Hatalı/bilinmeyen localeler için DEFAULT_SITE_META_DEFAULT_BY_LOCALE kullanılır.\n */\nexport function parseSiteMetaDefaultByLocale(\n  input: unknown,\n): Record<string, SiteMetaDefaultObject> {\n  const base = DEFAULT_SITE_META_DEFAULT_BY_LOCALE;\n\n  if (input === null || input === undefined) {\n    return base;\n  }\n\n  const raw = tryParseJson(input);\n\n  if (!raw || typeof raw !== 'object' || Array.isArray(raw)) {\n    return base;\n  }\n\n  const result: Record<string, SiteMetaDefaultObject> = {};\n\n  for (const [locale, val] of Object.entries(raw as Record<string, unknown>)) {\n    try {\n      result[locale] = siteMetaDefaultSchema.parse(val);\n    } catch {\n      const fb = base[locale] || base.en || base.tr;\n      if (fb) result[locale] = fb;\n    }\n  }\n\n  // En azından base’deki localelerin hepsi olsun\n  for (const [loc, def] of Object.entries(base)) {\n    if (!result[loc]) {\n      result[loc] = def;\n    }\n  }\n\n  return result;\n}\n","// =============================================================\n// FILE: src/components/admin/site-settings/tabs/SeoSettingsTab.tsx\n// guezelwebdesign – SEO Ayarları (GLOBAL '*' + Localized Override)\n// ✅ MODAL KALDIRILDI\n// - “Düzenle” artık /admin/site-settings/[id]?locale=... form sayfasına gider\n//\n// FIXES (korundu):\n// - Locale change => refetch (stale view engeli)\n// - RTK Query: refetchOnMountOrArgChange (global + locale)\n// - Deterministic preview\n// - site_meta_default GLOBAL(*) olamaz (override/create/restore guard)\n//\n// NEW:\n// - Global OG default image (site_og_default_image, locale='*')\n//   bu tab üzerinden de AdminImageUploadField ile yönetilebilir.\n// =============================================================\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport Link from 'next/link';\nimport { toast } from 'sonner';\nimport { Search } from 'lucide-react';\n\nimport {\n  useListSiteSettingsAdminQuery,\n  useUpdateSiteSettingAdminMutation,\n  useDeleteSiteSettingAdminMutation,\n} from '@/integrations/hooks';\n\nimport type { SiteSetting, SettingValue } from '@/integrations/shared';\n\nimport { DEFAULT_SEO_GLOBAL, DEFAULT_SITE_META_DEFAULT_BY_LOCALE } from '@/seo/seoSchema';\n\nimport { AdminImageUploadField } from '@/app/(main)/admin/_components/common/AdminImageUploadField';\n\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card';\nimport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableHead,\n  TableCell,\n  TableRow,\n} from '@/components/ui/table';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\n\n/* ----------------------------- helpers ----------------------------- */\n\nfunction stringifyValuePretty(v: SettingValue): string {\n  if (v === null || v === undefined) return '';\n  if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') return String(v);\n  try {\n    return JSON.stringify(v, null, 2);\n  } catch {\n    return String(v);\n  }\n}\n\nfunction isSeoKey(key: string): boolean {\n  const k = String(key || '')\n    .trim()\n    .toLowerCase();\n  if (!k) return false;\n\n  return (\n    k === 'seo' ||\n    k === 'site_seo' ||\n    k === 'site_meta_default' ||\n    k.startsWith('seo_') ||\n    k.startsWith('seo|') ||\n    k.startsWith('site_seo|') ||\n    k.startsWith('ui_seo') ||\n    k.startsWith('ui_seo_')\n  );\n}\n\nconst PRIMARY_SEO_KEYS = ['seo', 'site_seo', 'site_meta_default'] as const;\n\nfunction orderSeoKeys(keys: string[]): string[] {\n  const uniqKeys = Array.from(new Set(keys.filter(Boolean)));\n  const primary = PRIMARY_SEO_KEYS.filter((k) => uniqKeys.includes(k));\n  const rest = uniqKeys\n    .filter((k) => !PRIMARY_SEO_KEYS.includes(k as any))\n    .sort((a, b) => a.localeCompare(b));\n  return [...primary, ...rest];\n}\n\ntype RowGroup = {\n  key: string;\n  globalRow?: SiteSetting; // locale='*'\n  localeRow?: SiteSetting; // locale='{selected}'\n  effectiveValue: SettingValue | undefined;\n  effectiveSource: 'locale' | 'global' | 'none';\n};\n\nfunction buildGroups(rows: any, locale: string): RowGroup[] {\n  const seoRows = rows.filter((r: any) => r && isSeoKey(r.key));\n  const keys = orderSeoKeys(seoRows.map((r: any) => r.key));\n\n  const byKey = new Map<string, { global?: SiteSetting; local?: SiteSetting }>();\n  for (const r of seoRows) {\n    const entry = byKey.get(r.key) || {};\n    if (r.locale === '*') entry.global = r;\n    if (r.locale === locale) entry.local = r;\n    byKey.set(r.key, entry);\n  }\n\n  return keys.map((k) => {\n    const entry = byKey.get(k) || {};\n    const effectiveSource: RowGroup['effectiveSource'] = entry.local\n      ? 'locale'\n      : entry.global\n        ? 'global'\n        : 'none';\n\n    const effectiveValue =\n      effectiveSource === 'locale'\n        ? entry.local?.value\n        : effectiveSource === 'global'\n          ? entry.global?.value\n          : undefined;\n\n    return {\n      key: k,\n      globalRow: entry.global,\n      localeRow: entry.local,\n      effectiveSource,\n      effectiveValue,\n    };\n  });\n}\n\nfunction preview(v: SettingValue | undefined): string {\n  if (v === undefined) return '';\n  const pretty = stringifyValuePretty(v);\n  if (pretty.length <= 180) return pretty;\n  return pretty.slice(0, 180) + '...';\n}\n\nfunction isPrimaryKey(k: string) {\n  return k === 'seo' || k === 'site_seo' || k === 'site_meta_default';\n}\n\nfunction getEditHref(key: string, targetLocale: string) {\n  return `/admin/site-settings/${encodeURIComponent(key)}?locale=${encodeURIComponent(\n    targetLocale,\n  )}`;\n}\n\n/* ----- media helpers (OG default image) ----- */\n\nconst safeStr = (v: unknown) => (v === null || v === undefined ? '' : String(v).trim());\n\n/**\n * DB'de media value:\n *  - string url\n *  - object: { url: \"...\" }\n *  - stringified json: \"{ \"url\": \"...\" }\"\n */\nfunction extractUrlFromSettingValue(v: SettingValue): string {\n  if (v === null || v === undefined) return '';\n\n  if (typeof v === 'string') {\n    const s = v.trim();\n    if (!s) return '';\n\n    const looksJson =\n      (s.startsWith('{') && s.endsWith('}')) || (s.startsWith('[') && s.endsWith(']'));\n\n    if (!looksJson) return s;\n\n    try {\n      const parsed = JSON.parse(s);\n      return safeStr((parsed as any)?.url) || '';\n    } catch {\n      return s;\n    }\n  }\n\n  if (typeof v === 'object') {\n    return safeStr((v as any)?.url) || '';\n  }\n\n  return '';\n}\n\n/** Save format: JSON object { url } */\nfunction toMediaValue(url: string): SettingValue {\n  const u = safeStr(url);\n  if (!u) return null;\n  return { url: u };\n}\n\nasync function copyToClipboard(text: string) {\n  const t = safeStr(text);\n  if (!t) return;\n\n  try {\n    await navigator.clipboard.writeText(t);\n    toast.success('URL kopyalandı.');\n  } catch {\n    toast.error('Kopyalama başarısız. Tarayıcı izni engelliyor olabilir.');\n  }\n}\n\n/**\n * Normalize image URL - if relative, try to make it absolute\n * Returns empty string if URL is invalid\n */\nfunction normalizeImageUrl(rawUrl: string): string {\n  const url = safeStr(rawUrl);\n  if (!url) return '';\n\n  // Already a full URL (http, https, data URI)\n  if (\n    url.startsWith('http://') ||\n    url.startsWith('https://') ||\n    url.startsWith('data:') ||\n    url.startsWith('//')\n  ) {\n    return url;\n  }\n\n  // Relative URL detected - log warning for debugging\n  if (typeof window !== 'undefined') {\n    console.warn(\n      `[SeoSettingsTab] Relative URL detected: \"${url}\". ` +\n        'Database should store full URLs. Attempting to resolve...',\n    );\n  }\n\n  // Try to construct full URL using NEXT_PUBLIC_SITE_URL (public panel URL)\n  // This is where storage/assets are served from\n  const publicSiteUrl = process.env.NEXT_PUBLIC_SITE_URL || 'http://localhost:3000';\n  const base = publicSiteUrl.replace(/\\/$/, '');\n\n  try {\n    // If URL starts with /, use it directly (absolute path)\n    // Otherwise, assume it's in storage folder\n    const fullUrl = url.startsWith('/') ? `${base}${url}` : `${base}/storage/${url}`;\n\n    if (typeof window !== 'undefined') {\n      console.info(`[SeoSettingsTab] Resolved \"${url}\" to: ${fullUrl}`);\n    }\n    return fullUrl;\n  } catch (e) {\n    console.error('[SeoSettingsTab] Failed to normalize URL:', e);\n  }\n\n  // Return original if all else fails\n  return url;\n}\n\n/* ----------------------------- component ----------------------------- */\n\nexport type SeoSettingsTabProps = {\n  locale: string; // selected locale from header\n};\n\nexport const SeoSettingsTab: React.FC<SeoSettingsTabProps> = ({ locale }) => {\n  const [search, setSearch] = useState('');\n\n  // ✅ Query args\n  const listArgsGlobal = useMemo(() => {\n    const q = search.trim() || undefined;\n    return { locale: '*', q };\n  }, [search]);\n\n  const listArgsLocale = useMemo(() => {\n    const q = search.trim() || undefined;\n    return { locale, q };\n  }, [locale, search]);\n\n  // OG default image (GLOBAL '*') – sadece site_og_default_image\n  const ogArgs = useMemo(\n    () => ({\n      locale: '*',\n      // IMPORTANT: \"as const\" KULLANMIYORUZ; ListParams.keys => string[]\n      keys: ['site_og_default_image'],\n      sort: 'key' as const,\n      order: 'asc' as const,\n      limit: 1,\n      offset: 0,\n    }),\n    [],\n  );\n\n  // ✅ IMPORTANT: refetchOnMountOrArgChange fixes stale locale switching in this tab\n  const qGlobal = useListSiteSettingsAdminQuery(listArgsGlobal, {\n    skip: !locale,\n    refetchOnMountOrArgChange: true,\n  });\n\n  const qLocale = useListSiteSettingsAdminQuery(listArgsLocale, {\n    skip: !locale,\n    refetchOnMountOrArgChange: true,\n  });\n\n  const qOg = useListSiteSettingsAdminQuery(ogArgs, {\n    refetchOnMountOrArgChange: true,\n  });\n\n  const rowsMerged = useMemo(() => {\n    const g = Array.isArray(qGlobal.data) ? qGlobal.data : [];\n    const l = Array.isArray(qLocale.data) ? qLocale.data : [];\n    return [...g, ...l];\n  }, [qGlobal.data, qLocale.data]);\n\n  const groups = useMemo(() => {\n    const arr = rowsMerged || [];\n    const s = search.trim().toLowerCase();\n\n    const filtered =\n      s && s.length >= 2\n        ? arr.filter((r) => {\n            const k = String(r?.key || '').toLowerCase();\n            const v = stringifyValuePretty(r?.value as any).toLowerCase();\n            return k.includes(s) || v.includes(s);\n          })\n        : arr;\n\n    return buildGroups(filtered, locale);\n  }, [rowsMerged, locale, search]);\n\n  const [updateSetting, { isLoading: isSaving }] = useUpdateSiteSettingAdminMutation();\n  const [deleteSetting, { isLoading: isDeleting }] = useDeleteSiteSettingAdminMutation();\n\n  const busy =\n    qGlobal.isLoading ||\n    qLocale.isLoading ||\n    qOg.isLoading ||\n    qGlobal.isFetching ||\n    qLocale.isFetching ||\n    qOg.isFetching ||\n    isSaving ||\n    isDeleting;\n\n  const refetchAll = async () => {\n    await Promise.all([qGlobal.refetch(), qLocale.refetch(), qOg.refetch()]);\n  };\n\n  // ✅ Locale changed => refetch; prevents “previous locale view”\n  useEffect(() => {\n    if (!locale) return;\n    void refetchAll();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [locale]);\n\n  const deleteRow = async (key: string, targetLocale: string) => {\n    const ok = window.confirm(`\"${key}\" (${targetLocale}) silinsin mi?`);\n    if (!ok) return;\n\n    try {\n      await deleteSetting({ key, locale: targetLocale } as any).unwrap();\n      toast.success(`\"${key}\" (${targetLocale}) silindi.`);\n      await refetchAll();\n    } catch (err: any) {\n      const msg = err?.data?.error?.message || err?.message || 'SEO ayarı silinirken hata oluştu.';\n      toast.error(msg);\n    }\n  };\n\n  const createOverrideFromGlobal = async (g: RowGroup) => {\n    if (!g.globalRow) {\n      toast.error('GLOBAL (*) kayıt bulunamadı. Önce global değer oluşturmalısın.');\n      return;\n    }\n\n    // site_meta_default should not be global-copied; it must be locale based\n    if (g.key === 'site_meta_default') {\n      toast.error('site_meta_default GLOBAL(*) olamaz. Locale için seed/structured değer yaz.');\n      return;\n    }\n\n    try {\n      await updateSetting({\n        key: g.key,\n        locale,\n        value: g.globalRow.value,\n      } as any).unwrap();\n\n      toast.success(`\"${g.key}\" için ${locale} override oluşturuldu (GLOBAL kopyalandı).`);\n      await refetchAll();\n    } catch (err: any) {\n      const msg =\n        err?.data?.error?.message || err?.message || 'Override oluşturulurken hata oluştu.';\n      toast.error(msg);\n    }\n  };\n\n  const restoreDefaults = async (key: string, targetLocale: string) => {\n    try {\n      if (key === 'seo') {\n        await updateSetting({ key, locale: targetLocale, value: DEFAULT_SEO_GLOBAL } as any).unwrap();\n      } else if (key === 'site_seo') {\n        // ✅ Artık site_seo için de aynı global schema kullanılıyor\n        await updateSetting({ key, locale: targetLocale, value: DEFAULT_SEO_GLOBAL } as any).unwrap();\n      } else if (key === 'site_meta_default') {\n        if (targetLocale === '*') {\n          toast.error('site_meta_default global(*) olamaz. Locale seçerek restore et.');\n          return;\n        }\n        const seed =\n          DEFAULT_SITE_META_DEFAULT_BY_LOCALE[targetLocale] ||\n          DEFAULT_SITE_META_DEFAULT_BY_LOCALE[locale] ||\n          DEFAULT_SITE_META_DEFAULT_BY_LOCALE['de'];\n        await updateSetting({ key, locale: targetLocale, value: seed } as any).unwrap();\n      } else {\n        toast.error('Bu key için default tanımlı değil.');\n        return;\n      }\n\n      toast.success(`\"${key}\" (${targetLocale}) default değerler geri yüklendi.`);\n      await refetchAll();\n    } catch (err: any) {\n      const msg = err?.data?.error?.message || err?.message || 'Default restore hata verdi.';\n      toast.error(msg);\n    }\n  };\n\n  const upsertEmptyGlobalDefaults = async () => {\n    const keys = ['seo', 'site_seo'] as const;\n\n    try {\n      for (const k of keys) {\n        const exists = groups.find((g) => g.key === k)?.globalRow;\n        if (exists) continue;\n\n        await updateSetting({\n          key: k,\n          locale: '*',\n          value: DEFAULT_SEO_GLOBAL, // ✅ site_seo da aynı şemayı kullanıyor\n        } as any).unwrap();\n      }\n      toast.success('Eksik GLOBAL SEO kayıtları oluşturuldu.');\n      await refetchAll();\n    } catch (err: any) {\n      const msg = err?.data?.error?.message || err?.message || 'GLOBAL bootstrap hata verdi.';\n      toast.error(msg);\n    }\n  };\n\n  const effectiveEditLocale = (g: RowGroup): string => {\n    // Öncelik: locale override varsa locale, yoksa global\n    const chosen = g.localeRow ? locale : g.globalRow ? '*' : locale;\n\n    // site_meta_default asla '*' ile düzenlenmesin (form sayfasında da guard var)\n    if (g.key === 'site_meta_default' && chosen === '*') return locale;\n    return chosen;\n  };\n\n  const globalEditLocaleForKey = (key: string): string => {\n    // site_meta_default global edit yok -> locale ile aç\n    if (key === 'site_meta_default') return locale;\n    return '*';\n  };\n\n  // ---------------- OG DEFAULT IMAGE (GLOBAL '*') STATE ----------------\n\n  const ogRow: SiteSetting | null = useMemo(() => {\n    const arr = Array.isArray(qOg.data) ? qOg.data : [];\n    const row = arr.find((r) => r && r.key === 'site_og_default_image') || null;\n    return (row as SiteSetting | null) ?? null;\n  }, [qOg.data]);\n\n  const ogUrl = useMemo(() => {\n    if (!ogRow) return '';\n    return normalizeImageUrl(extractUrlFromSettingValue(ogRow.value as SettingValue));\n  }, [ogRow]);\n\n  const handleOgChange = async (nextUrl: string) => {\n    const u = safeStr(nextUrl);\n    if (!u) return;\n\n    try {\n      await updateSetting({\n        key: 'site_og_default_image',\n        locale: '*',\n        value: toMediaValue(u),\n      } as any).unwrap();\n      toast.success('Varsayılan OG görseli güncellendi.');\n      await qOg.refetch();\n    } catch (err: any) {\n      const msg =\n        err?.data?.error?.message ||\n        err?.message ||\n        'Varsayılan OG görseli kaydedilirken hata oluştu.';\n      toast.error(msg);\n    }\n  };\n\n  return (\n    <Card>\n      <CardHeader className=\"gap-2\">\n        <div className=\"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between\">\n          <div className=\"space-y-1\">\n            <CardTitle className=\"text-base\">SEO Ayarları</CardTitle>\n            <CardDescription>\n              GLOBAL (<code>*</code>) default + seçili dil (<strong>{locale}</strong>) override\n              birlikte yönetilir. \"Düzenle\" butonu form sayfasını açar.\n            </CardDescription>\n          </div>\n\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Badge variant=\"secondary\">Dil: {locale}</Badge>\n            <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={refetchAll} disabled={busy}>\n              Yenile\n            </Button>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={upsertEmptyGlobalDefaults}\n              disabled={busy}\n              title=\"seo / site_seo GLOBAL (*) yoksa default schema ile oluşturur\"\n            >\n              Global Bootstrap\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-4\">\n        {/* OG DEFAULT IMAGE (GLOBAL '*') BLOĞU */}\n        <div className=\"rounded-md border p-4\">\n          <div className=\"mb-4 flex items-start justify-between\">\n            <div className=\"space-y-1\">\n              <div className=\"text-sm font-semibold\">Varsayılan OG Görseli (Global)</div>\n              <div className=\"text-xs text-muted-foreground\">\n                Key: <code>site_og_default_image</code> / <code>locale=&quot;*&quot;</code>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <AdminImageUploadField\n              label=\"\"\n              helperText={\n                <span className=\"text-xs text-muted-foreground\">\n                  Upload sonrası otomatik kaydedilir. Brand &amp; Media tabındaki{' '}\n                  <code>site_og_default_image</code> ile aynıdır.\n                </span>\n              }\n              bucket=\"public\"\n              folder=\"site-media\"\n              metadata={{ key: 'site_og_default_image', scope: 'site_settings', locale: '*' }}\n              value={ogUrl}\n              onChange={(u) => void handleOgChange(u)}\n              disabled={busy}\n              openLibraryHref=\"/admin/storage\"\n              previewAspect=\"16x9\"\n              previewObjectFit=\"cover\"\n            />\n\n            {ogUrl && (\n              <div className=\"space-y-2\">\n                <div className=\"rounded-md border bg-muted/50 p-3\">\n                  <div className=\"mb-2 flex items-center justify-between\">\n                    <span className=\"text-xs font-medium text-muted-foreground\">Kayıtlı URL:</span>\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => void copyToClipboard(ogUrl)}\n                      disabled={busy}\n                    >\n                      Kopyala\n                    </Button>\n                  </div>\n                  <code className=\"block wrap-break-word text-xs font-mono leading-relaxed\">\n                    {ogUrl}\n                  </code>\n                </div>\n\n                {/* Manual preview for debugging */}\n                <div className=\"rounded-md border bg-muted/50 p-3\">\n                  <div className=\"mb-2 text-xs font-medium text-muted-foreground\">Önizleme:</div>\n                  <div className=\"relative aspect-video w-full max-w-sm overflow-hidden rounded border bg-background\">\n                    <img\n                      src={ogUrl}\n                      alt=\"OG Default Image\"\n                      className=\"h-full w-full object-cover\"\n                      onError={(e) => {\n                        const target = e.target as HTMLImageElement;\n                        target.style.display = 'none';\n                        const parent = target.parentElement;\n                        if (parent && !parent.querySelector('.error-message')) {\n                          const errorDiv = document.createElement('div');\n                          errorDiv.className =\n                            'error-message flex h-full items-center justify-center text-xs text-muted-foreground';\n                          errorDiv.textContent = 'Görsel yüklenemedi';\n                          parent.appendChild(errorDiv);\n                        }\n                      }}\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"seo-search\">Ara</Label>\n          <div className=\"relative\">\n            <Search className=\"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground\" />\n            <Input\n              id=\"seo-search\"\n              type=\"text\"\n              placeholder=\"Key veya değer içinde ara\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              disabled={busy}\n              className=\"pl-9\"\n            />\n          </div>\n        </div>\n\n        {busy && (\n          <div>\n            <Badge variant=\"secondary\">Yükleniyor...</Badge>\n          </div>\n        )}\n\n        <div className=\"overflow-x-auto rounded-md border\">\n          <Table className=\"table-fixed\">\n            <TableHeader>\n              <TableRow>\n                <TableHead className=\"w-[20%]\">Key</TableHead>\n                <TableHead className=\"w-[15%]\">Kaynak</TableHead>\n                <TableHead className=\"w-[35%]\">Effective (Özet)</TableHead>\n                <TableHead className=\"w-[30%] text-right\">İşlemler</TableHead>\n              </TableRow>\n            </TableHeader>\n\n            <TableBody>\n              {groups.length ? (\n                groups.map((g) => {\n                  const hasGlobal = Boolean(g.globalRow);\n                  const hasLocal = Boolean(g.localeRow);\n\n                  const editLoc = effectiveEditLocale(g);\n                  const editHref = getEditHref(g.key, editLoc);\n\n                  return (\n                    <React.Fragment key={`group_${g.key}`}>\n                      {/* Group summary row */}\n                      <TableRow className=\"bg-muted/50\">\n                        <TableCell className=\"font-mono text-sm font-semibold\">{g.key}</TableCell>\n                        <TableCell>\n                          {g.effectiveSource === 'locale' ? (\n                            <Badge variant=\"default\">Override</Badge>\n                          ) : g.effectiveSource === 'global' ? (\n                            <Badge variant=\"secondary\">Global</Badge>\n                          ) : (\n                            <Badge variant=\"outline\">Yok</Badge>\n                          )}\n                        </TableCell>\n\n                        <TableCell>\n                          <div className=\"wrap-break-word overflow-hidden text-sm text-muted-foreground\">\n                            {preview(g.effectiveValue)}\n                          </div>\n                          {g.effectiveSource === 'global' && !hasLocal && (\n                            <div className=\"mt-1 wrap-break-word text-xs text-muted-foreground\">\n                              Bu key için <strong>{locale}</strong> override yok; GLOBAL (\n                              <code>*</code>) uygulanıyor.\n                            </div>\n                          )}\n                        </TableCell>\n\n                        <TableCell className=\"align-top\">\n                          <div className=\"flex flex-col gap-2\">\n                            <div className=\"flex flex-wrap justify-end gap-1\">\n                              <Button asChild variant=\"outline\" size=\"sm\">\n                                <Link href={editHref}>Düzenle</Link>\n                              </Button>\n\n                              {!hasLocal && hasGlobal && g.key !== 'site_meta_default' && (\n                                <Button\n                                  type=\"button\"\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => createOverrideFromGlobal(g)}\n                                  disabled={busy}\n                                >\n                                  Override Oluştur\n                                </Button>\n                              )}\n\n                              {isPrimaryKey(g.key) && (hasGlobal || hasLocal) && (\n                                <Button\n                                  type=\"button\"\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => restoreDefaults(g.key, hasLocal ? locale : '*')}\n                                  disabled={busy}\n                                  title=\"Bu satırın default değerlerini geri yükler\"\n                                >\n                                  Restore\n                                </Button>\n                              )}\n                            </div>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n\n                      {/* Global row */}\n                      <TableRow>\n                        <TableCell className=\"pl-8 text-sm text-muted-foreground\">\n                          GLOBAL (*)\n                        </TableCell>\n                        <TableCell className=\"text-sm text-muted-foreground\">\n                          {hasGlobal ? 'Var' : 'Yok'}\n                        </TableCell>\n                        <TableCell className=\"wrap-break-word overflow-hidden text-sm text-muted-foreground\">\n                          {hasGlobal ? preview(g.globalRow?.value) : '-'}\n                        </TableCell>\n                        <TableCell className=\"align-top\">\n                          <div className=\"flex flex-wrap justify-end gap-1\">\n                            <Button asChild variant=\"outline\" size=\"sm\" disabled={!hasGlobal}>\n                              <Link\n                                href={getEditHref(g.key, globalEditLocaleForKey(g.key))}\n                                aria-disabled={!hasGlobal}\n                                tabIndex={!hasGlobal ? -1 : 0}\n                              >\n                                Düzenle\n                              </Link>\n                            </Button>\n\n                            <Button\n                              type=\"button\"\n                              variant=\"destructive\"\n                              size=\"sm\"\n                              disabled={busy || !hasGlobal}\n                              onClick={() => deleteRow(g.key, '*')}\n                              title={\n                                g.key === 'site_meta_default'\n                                  ? 'Normalde GLOBAL olmaz; varsa silinebilir.'\n                                  : ''\n                              }\n                            >\n                              Sil\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n\n                      {/* Locale row */}\n                      <TableRow>\n                        <TableCell className=\"pl-8 text-sm text-muted-foreground\">\n                          LOCALE ({locale})\n                        </TableCell>\n                        <TableCell className=\"text-sm text-muted-foreground\">\n                          {hasLocal ? 'Var' : 'Yok'}\n                        </TableCell>\n                        <TableCell className=\"wrap-break-word overflow-hidden text-sm text-muted-foreground\">\n                          {hasLocal ? preview(g.localeRow?.value) : '-'}\n                        </TableCell>\n                        <TableCell className=\"align-top\">\n                          <div className=\"flex flex-wrap justify-end gap-1\">\n                            <Button asChild variant=\"outline\" size=\"sm\" disabled={!hasLocal}>\n                              <Link\n                                href={getEditHref(g.key, locale)}\n                                aria-disabled={!hasLocal}\n                                tabIndex={!hasLocal ? -1 : 0}\n                              >\n                                Düzenle\n                              </Link>\n                            </Button>\n\n                            <Button\n                              type=\"button\"\n                              variant=\"destructive\"\n                              size=\"sm\"\n                              disabled={busy || !hasLocal}\n                              onClick={() => deleteRow(g.key, locale)}\n                            >\n                              Sil\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    </React.Fragment>\n                  );\n                })\n              ) : (\n                <TableRow>\n                  <TableCell colSpan={4} className=\"py-10 text-center\">\n                    <div className=\"text-sm text-muted-foreground\">\n                      SEO kaydı bulunamadı.\n                      <div className=\"mt-2\">\n                        Seed çalıştıysa en az <code>seo</code> ve <code>site_seo</code> GLOBAL\n                        satırı görünmelidir.\n                      </div>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n\n          <div className=\"border-t p-3\">\n            <span className=\"text-xs text-muted-foreground\">\n              Not: <code>site_meta_default</code> GLOBAL(*) olamaz; edit linki her zaman locale ile\n              açılır.\n            </span>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n","// =============================================================\n// FILE: src/components/admin/site-settings/tabs/SmtpSettingsTab.tsx\n// SMTP / E-posta Ayarları Tab (GLOBAL) – style aligned\n// ✅ i18n enabled\n// =============================================================\n\nimport React from 'react';\nimport { toast } from 'sonner';\nimport {\n  useListSiteSettingsAdminQuery,\n  useUpdateSiteSettingAdminMutation,\n  useSendTestMailMutation,\n} from '@/integrations/hooks';\n\nimport type { SettingValue, SiteSetting } from '@/integrations/shared';\nimport { useAdminTranslations } from '@/i18n/adminUi';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Separator } from '@/components/ui/separator';\n\nexport type SmtpSettingsTabProps = {\n  locale: string; // UI badge için dursun, GLOBAL tab\n};\n\nconst SMTP_KEYS = [\n  'smtp_host',\n  'smtp_port',\n  'smtp_username',\n  'smtp_password',\n  'smtp_from_email',\n  'smtp_from_name',\n  'smtp_ssl',\n] as const;\n\ntype SmtpKey = (typeof SMTP_KEYS)[number];\n\ntype SmtpForm = {\n  smtp_host: string;\n  smtp_port: string;\n  smtp_username: string;\n  smtp_password: string;\n  smtp_from_email: string;\n  smtp_from_name: string;\n  smtp_ssl: boolean;\n};\n\nconst EMPTY_FORM: SmtpForm = {\n  smtp_host: '',\n  smtp_port: '',\n  smtp_username: '',\n  smtp_password: '',\n  smtp_from_email: '',\n  smtp_from_name: '',\n  smtp_ssl: false,\n};\n\nfunction valueToString(v: unknown): string {\n  if (v === null || v === undefined) return '';\n  if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') return String(v);\n  try {\n    return JSON.stringify(v);\n  } catch {\n    return String(v);\n  }\n}\n\nfunction toBool(v: unknown): boolean {\n  if (v === true) return true;\n  if (v === false) return false;\n  if (typeof v === 'number') return v === 1;\n  if (typeof v === 'string') {\n    const t = v.trim().toLowerCase();\n    return t === '1' || t === 'true' || t === 'yes' || t === 'on';\n  }\n  return false;\n}\n\nfunction toMap(settings?: any) {\n  const map = new Map<string, any>();\n  if (settings) for (const s of settings) map.set(s.key, s);\n  return map;\n}\n\nexport const SmtpSettingsTab: React.FC<SmtpSettingsTabProps> = ({ locale }) => {\n  const t = useAdminTranslations(locale);\n\n  const {\n    data: settings,\n    isLoading,\n    isFetching,\n    refetch,\n  } = useListSiteSettingsAdminQuery({\n    keys: SMTP_KEYS as unknown as string[],\n    // GLOBAL => locale göndermiyoruz\n  });\n\n  const [updateSetting, { isLoading: isSaving }] = useUpdateSiteSettingAdminMutation();\n  const [sendTestMail, { isLoading: isTesting }] = useSendTestMailMutation();\n\n  const [form, setForm] = React.useState<SmtpForm>(EMPTY_FORM);\n  const [testEmail, setTestEmail] = React.useState<string>('');\n\n  React.useEffect(() => {\n    const map = toMap(settings);\n    const next: SmtpForm = { ...EMPTY_FORM };\n\n    next.smtp_host = valueToString(map.get('smtp_host')?.value);\n    next.smtp_port = valueToString(map.get('smtp_port')?.value);\n    next.smtp_username = valueToString(map.get('smtp_username')?.value);\n    next.smtp_password = valueToString(map.get('smtp_password')?.value);\n    next.smtp_from_email = valueToString(map.get('smtp_from_email')?.value);\n    next.smtp_from_name = valueToString(map.get('smtp_from_name')?.value);\n    next.smtp_ssl = toBool(map.get('smtp_ssl')?.value);\n\n    setForm(next);\n  }, [settings]);\n\n  const loading = isLoading || isFetching;\n  const busy = loading || isSaving || isTesting;\n\n  const handleChange = (field: Exclude<SmtpKey, 'smtp_ssl'>, value: string) => {\n    setForm((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const handleToggleSsl = () => {\n    setForm((prev) => ({ ...prev, smtp_ssl: !prev.smtp_ssl }));\n  };\n\n  const handleSave = async () => {\n    try {\n      const updates: { key: SmtpKey; value: SettingValue }[] = [\n        { key: 'smtp_host', value: form.smtp_host.trim() },\n        { key: 'smtp_port', value: form.smtp_port.trim() || '' },\n        { key: 'smtp_username', value: form.smtp_username.trim() },\n        { key: 'smtp_password', value: form.smtp_password },\n        { key: 'smtp_from_email', value: form.smtp_from_email.trim() },\n        { key: 'smtp_from_name', value: form.smtp_from_name.trim() },\n        { key: 'smtp_ssl', value: form.smtp_ssl },\n      ];\n\n      for (const u of updates) {\n        await updateSetting({ key: u.key, value: u.value }).unwrap();\n      }\n\n      toast.success(t('admin.siteSettings.smtp.saved'));\n      await refetch();\n    } catch (err: any) {\n      const msg = err?.data?.error?.message || err?.message || t('admin.siteSettings.smtp.saved');\n      toast.error(msg);\n    }\n  };\n\n  const handleSendTest = async () => {\n    try {\n      const trimmedTest = testEmail.trim();\n      const fromEmail = form.smtp_from_email.trim();\n\n      if (trimmedTest) await sendTestMail({ to: trimmedTest }).unwrap();\n      else if (fromEmail) await sendTestMail({ to: fromEmail }).unwrap();\n      else await sendTestMail().unwrap();\n\n      toast.success(t('admin.siteSettings.smtp.testSent'));\n    } catch (err: any) {\n      const msg = err?.data?.error?.details || err?.data?.error?.message || err?.message;\n      toast.error(msg || t('admin.siteSettings.smtp.testSent'));\n    }\n  };\n\n  return (\n    <Card>\n      <CardHeader className=\"gap-2\">\n        <div className=\"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between\">\n          <div className=\"space-y-1\">\n            <CardTitle className=\"text-base\">{t('admin.siteSettings.smtp.title')}</CardTitle>\n            <CardDescription>{t('admin.siteSettings.smtp.description')}</CardDescription>\n          </div>\n\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Badge variant=\"secondary\">{t('admin.siteSettings.smtp.badge', { locale: locale || '—' })}</Badge>\n            <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={refetch} disabled={busy}>\n              {t('admin.common.refresh')}\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-6\">\n        {busy && (\n          <div>\n            <Badge variant=\"secondary\">{t('admin.common.loading')}</Badge>\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 gap-4 md:grid-cols-12\">\n          <div className=\"space-y-2 md:col-span-6\">\n            <Label htmlFor=\"smtp-host\" className=\"text-sm\">\n              {t('admin.siteSettings.smtp.host')}\n            </Label>\n            <Input\n              id=\"smtp-host\"\n              value={form.smtp_host}\n              onChange={(e) => handleChange('smtp_host', e.target.value)}\n              placeholder={t('admin.siteSettings.smtp.hostPlaceholder')}\n              disabled={busy}\n            />\n          </div>\n\n          <div className=\"space-y-2 md:col-span-3\">\n            <Label htmlFor=\"smtp-port\" className=\"text-sm\">\n              {t('admin.siteSettings.smtp.port')}\n            </Label>\n            <Input\n              id=\"smtp-port\"\n              value={form.smtp_port}\n              onChange={(e) => handleChange('smtp_port', e.target.value)}\n              placeholder={t('admin.siteSettings.smtp.portPlaceholder')}\n              disabled={busy}\n            />\n          </div>\n\n          <div className=\"flex items-end md:col-span-3\">\n            <div className=\"flex items-center space-x-2\">\n              <Switch\n                id=\"smtp-ssl\"\n                checked={form.smtp_ssl}\n                onCheckedChange={handleToggleSsl}\n                disabled={busy}\n              />\n              <Label htmlFor=\"smtp-ssl\" className=\"text-sm\">\n                {t('admin.siteSettings.smtp.ssl')}\n              </Label>\n            </div>\n          </div>\n\n          <div className=\"space-y-2 md:col-span-6\">\n            <Label htmlFor=\"smtp-username\" className=\"text-sm\">\n              {t('admin.siteSettings.smtp.username')}\n            </Label>\n            <Input\n              id=\"smtp-username\"\n              value={form.smtp_username}\n              onChange={(e) => handleChange('smtp_username', e.target.value)}\n              placeholder={t('admin.siteSettings.smtp.usernamePlaceholder')}\n              disabled={busy}\n            />\n          </div>\n\n          <div className=\"space-y-2 md:col-span-6\">\n            <Label htmlFor=\"smtp-password\" className=\"text-sm\">\n              {t('admin.siteSettings.smtp.password')}\n            </Label>\n            <Input\n              id=\"smtp-password\"\n              type=\"password\"\n              value={form.smtp_password}\n              onChange={(e) => handleChange('smtp_password', e.target.value)}\n              placeholder={t('admin.siteSettings.smtp.passwordPlaceholder')}\n              disabled={busy}\n            />\n          </div>\n\n          <div className=\"space-y-2 md:col-span-6\">\n            <Label htmlFor=\"smtp-from-email\" className=\"text-sm\">\n              {t('admin.siteSettings.smtp.fromEmail')}\n            </Label>\n            <Input\n              id=\"smtp-from-email\"\n              value={form.smtp_from_email}\n              onChange={(e) => handleChange('smtp_from_email', e.target.value)}\n              placeholder={t('admin.siteSettings.smtp.fromEmailPlaceholder')}\n              disabled={busy}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {t('admin.siteSettings.smtp.fromEmailHelp')}\n            </p>\n          </div>\n\n          <div className=\"space-y-2 md:col-span-6\">\n            <Label htmlFor=\"smtp-from-name\" className=\"text-sm\">\n              {t('admin.siteSettings.smtp.fromName')}\n            </Label>\n            <Input\n              id=\"smtp-from-name\"\n              value={form.smtp_from_name}\n              onChange={(e) => handleChange('smtp_from_name', e.target.value)}\n              placeholder={t('admin.siteSettings.smtp.fromNamePlaceholder')}\n              disabled={busy}\n            />\n          </div>\n        </div>\n\n        <Separator />\n\n        <div className=\"grid grid-cols-1 items-end gap-4 md:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"test-email\" className=\"text-sm\">\n              {t('admin.siteSettings.smtp.testEmail')}\n            </Label>\n            <Input\n              id=\"test-email\"\n              value={testEmail}\n              onChange={(e) => setTestEmail(e.target.value)}\n              placeholder={t('admin.siteSettings.smtp.testEmailPlaceholder')}\n              disabled={busy}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {t('admin.siteSettings.smtp.testEmailHelp')}\n            </p>\n          </div>\n\n          <div className=\"mt-3 flex justify-end gap-2 md:mt-0 md:justify-end\">\n            <Button type=\"button\" variant=\"outline\" disabled={busy} onClick={handleSendTest}>\n              {isTesting ? t('admin.siteSettings.smtp.sendingTest') : t('admin.siteSettings.smtp.sendTest')}\n            </Button>\n\n            <Button type=\"button\" variant=\"default\" disabled={busy} onClick={handleSave}>\n              {isSaving ? t('admin.common.saving') : t('admin.common.save')}\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n","'use client';\n\n// =============================================================\n// FILE: src/components/admin/site-settings/tabs/CloudinarySettingsTab.tsx\n// Cloudinary / Storage Ayarları Tab (GLOBAL) – shadcn/ui aligned\n// - NO bootstrap classes\n// - Uses Card + Label/Input + Buttons + Badge\n// - Keeps existing RTK logic (list/update/diag)\n// =============================================================\n\nimport * as React from 'react';\nimport { toast } from 'sonner';\nimport { useAdminTranslations } from '@/i18n/adminUi';\n\nimport {\n  useListSiteSettingsAdminQuery,\n  useUpdateSiteSettingAdminMutation,\n  useLazyDiagCloudinaryAdminQuery,\n} from '@/integrations/hooks';\n\nimport type { SiteSetting } from '@/integrations/shared';\n\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\n\nexport type CloudinarySettingsTabProps = {\n  locale: string; // UI badge için dursun\n};\n\nconst STORAGE_KEYS = [\n  'storage_driver',\n  'storage_local_root',\n  'storage_local_base_url',\n  'storage_cdn_public_base',\n  'storage_public_api_base',\n  'cloudinary_cloud_name',\n  'cloudinary_api_key',\n  'cloudinary_api_secret',\n  'cloudinary_folder',\n  'cloudinary_unsigned_preset',\n] as const;\n\ntype StorageKey = (typeof STORAGE_KEYS)[number];\ntype StorageForm = Record<StorageKey, string>;\n\nconst EMPTY_FORM: StorageForm = {\n  storage_driver: '',\n  storage_local_root: '',\n  storage_local_base_url: '',\n  storage_cdn_public_base: '',\n  storage_public_api_base: '',\n  cloudinary_cloud_name: '',\n  cloudinary_api_key: '',\n  cloudinary_api_secret: '',\n  cloudinary_folder: '',\n  cloudinary_unsigned_preset: '',\n};\n\nfunction valueToString(v: unknown): string {\n  if (v === null || v === undefined) return '';\n  if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') return String(v);\n  try {\n    return JSON.stringify(v);\n  } catch {\n    return String(v);\n  }\n}\n\nfunction toMap(settings?: any) {\n  const map = new Map<string, any>();\n  if (settings) for (const s of settings) map.set(String(s.key), s);\n  return map;\n}\n\nfunction errMsg(err: any, fallback: string): string {\n  return (\n    err?.data?.error?.message ||\n    err?.data?.message ||\n    err?.message ||\n    fallback\n  );\n}\n\nexport const CloudinarySettingsTab: React.FC<CloudinarySettingsTabProps> = ({ locale }) => {\n  const {\n    data: settings,\n    isLoading,\n    isFetching,\n    refetch,\n  } = useListSiteSettingsAdminQuery({\n    keys: STORAGE_KEYS as unknown as string[],\n    // GLOBAL => locale yok\n  });\n\n  const [updateSetting, { isLoading: isSaving }] = useUpdateSiteSettingAdminMutation();\n\n  const [runDiag, { data: diagResult, isFetching: isTesting, error: diagError }] =\n    useLazyDiagCloudinaryAdminQuery();\n\n  const [form, setForm] = React.useState<StorageForm>(EMPTY_FORM);\n\n  const t = useAdminTranslations(locale);\n\n  React.useEffect(() => {\n    const map = toMap(settings);\n    const next: StorageForm = { ...EMPTY_FORM };\n    STORAGE_KEYS.forEach((k) => (next[k] = valueToString(map.get(k)?.value)));\n    setForm(next);\n  }, [settings]);\n\n  const loading = isLoading || isFetching;\n  const busy = loading || isSaving || isTesting;\n\n  const handleChange = (field: StorageKey, value: string) => {\n    setForm((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const handleSave = async () => {\n    if (busy) return;\n\n    try {\n      for (const key of STORAGE_KEYS) {\n        await updateSetting({ key, value: form[key].trim() }).unwrap();\n      }\n      toast.success(t('admin.siteSettings.cloudinary.saved'));\n      await refetch();\n    } catch (err: any) {\n      toast.error(errMsg(err, t('admin.siteSettings.messages.error')));\n    }\n  };\n\n  const handleTest = async () => {\n    if (busy) return;\n\n    try {\n      const res = await runDiag().unwrap();\n      if (res?.ok) {\n        toast.success(\n          t('admin.siteSettings.cloudinary.testSuccess', {\n            cloud: res.cloud,\n            publicId: res.uploaded?.public_id || ''\n          })\n        );\n      } else {\n        toast.error(t('admin.siteSettings.cloudinary.testFailedConsole'));\n        // eslint-disable-next-line no-console\n        console.error('Cloudinary diag (unexpected response):', res);\n      }\n    } catch (err: any) {\n      // eslint-disable-next-line no-console\n      console.error('Cloudinary diag error:', err);\n\n      const status = err?.status;\n      const data = err?.data as any;\n\n      if (status === 501) {\n        const reason = data?.reason;\n        if (reason === 'driver_is_local') {\n          toast.error(t('admin.siteSettings.cloudinary.testFailedLocal'));\n        } else {\n          toast.error(t('admin.siteSettings.cloudinary.testFailedConfig'));\n        }\n        return;\n      }\n\n      if (status === 502) {\n        const step = data?.step;\n        const msg =\n          data?.error?.msg ||\n          data?.error?.message ||\n          data?.message ||\n          err?.message ||\n          'Cloudinary test failed.';\n        toast.error(t('admin.siteSettings.cloudinary.testFailedStep', { step: step || 'unknown', message: msg }));\n        return;\n      }\n\n      toast.error(\n        data?.error?.msg ||\n          data?.error?.message ||\n          data?.message ||\n          err?.message ||\n          t('admin.siteSettings.messages.error')\n      );\n    }\n  };\n\n  const lastTestInfo = React.useMemo(() => {\n    if (isTesting) return t('admin.siteSettings.cloudinary.testInfoTesting');\n    if (diagResult?.ok) return t('admin.siteSettings.cloudinary.testInfoSuccess', { cloud: diagResult.cloud });\n    if (diagError) return t('admin.siteSettings.cloudinary.testInfoError');\n    return t('admin.siteSettings.cloudinary.testInfo');\n  }, [isTesting, diagResult, diagError, t]);\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader className=\"gap-2\">\n          <div className=\"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between\">\n            <div className=\"space-y-1\">\n              <CardTitle className=\"text-base\">{t('admin.siteSettings.cloudinary.title')}</CardTitle>\n              <CardDescription>\n                {t('admin.siteSettings.cloudinary.description')}\n              </CardDescription>\n            </div>\n\n            <div className=\"flex flex-wrap items-center gap-2\">\n              <Badge variant=\"secondary\">\n                {t('admin.siteSettings.cloudinary.badge', { locale: locale || '—' })}\n              </Badge>\n\n              <Button type=\"button\" variant=\"outline\" onClick={() => refetch()} disabled={busy}>\n                {t('admin.siteSettings.actions.refresh')}\n              </Button>\n\n              {busy ? <Badge variant=\"outline\">{t('admin.siteSettings.messages.loading')}</Badge> : null}\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"space-y-6\">\n          {/* Form grid */}\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"storage_driver\">{t('admin.siteSettings.cloudinary.storageDriver')}</Label>\n              <Input\n                id=\"storage_driver\"\n                value={form.storage_driver}\n                onChange={(e) => handleChange('storage_driver', e.target.value)}\n                placeholder={t('admin.siteSettings.cloudinary.storageDriverPlaceholder')}\n                disabled={busy}\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                {t('admin.siteSettings.cloudinary.storageDriverHelp')}\n              </p>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"storage_local_root\">{t('admin.siteSettings.cloudinary.localRoot')}</Label>\n              <Input\n                id=\"storage_local_root\"\n                value={form.storage_local_root}\n                onChange={(e) => handleChange('storage_local_root', e.target.value)}\n                placeholder={t('admin.siteSettings.cloudinary.localRootPlaceholder')}\n                disabled={busy}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"storage_local_base_url\">{t('admin.siteSettings.cloudinary.localBaseUrl')}</Label>\n              <Input\n                id=\"storage_local_base_url\"\n                value={form.storage_local_base_url}\n                onChange={(e) => handleChange('storage_local_base_url', e.target.value)}\n                placeholder={t('admin.siteSettings.cloudinary.localBaseUrlPlaceholder')}\n                disabled={busy}\n              />\n            </div>\n\n            <div className=\"space-y-2 md:col-span-2 lg:col-span-1\">\n              <Label htmlFor=\"storage_cdn_public_base\">{t('admin.siteSettings.cloudinary.cdnPublicBase')}</Label>\n              <Input\n                id=\"storage_cdn_public_base\"\n                value={form.storage_cdn_public_base}\n                onChange={(e) => handleChange('storage_cdn_public_base', e.target.value)}\n                placeholder={t('admin.siteSettings.cloudinary.cdnPublicBasePlaceholder')}\n                disabled={busy}\n              />\n            </div>\n\n            <div className=\"space-y-2 md:col-span-2 lg:col-span-2\">\n              <Label htmlFor=\"storage_public_api_base\">{t('admin.siteSettings.cloudinary.publicApiBase')}</Label>\n              <Input\n                id=\"storage_public_api_base\"\n                value={form.storage_public_api_base}\n                onChange={(e) => handleChange('storage_public_api_base', e.target.value)}\n                placeholder={t('admin.siteSettings.cloudinary.publicApiBasePlaceholder')}\n                disabled={busy}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"cloudinary_cloud_name\">{t('admin.siteSettings.cloudinary.cloudName')}</Label>\n              <Input\n                id=\"cloudinary_cloud_name\"\n                value={form.cloudinary_cloud_name}\n                onChange={(e) => handleChange('cloudinary_cloud_name', e.target.value)}\n                placeholder={t('admin.siteSettings.cloudinary.cloudNamePlaceholder')}\n                disabled={busy}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"cloudinary_api_key\">{t('admin.siteSettings.cloudinary.apiKey')}</Label>\n              <Input\n                id=\"cloudinary_api_key\"\n                value={form.cloudinary_api_key}\n                onChange={(e) => handleChange('cloudinary_api_key', e.target.value)}\n                placeholder={t('admin.siteSettings.cloudinary.apiKeyPlaceholder')}\n                disabled={busy}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"cloudinary_api_secret\">{t('admin.siteSettings.cloudinary.apiSecret')}</Label>\n              <Input\n                id=\"cloudinary_api_secret\"\n                value={form.cloudinary_api_secret}\n                onChange={(e) => handleChange('cloudinary_api_secret', e.target.value)}\n                placeholder={t('admin.siteSettings.cloudinary.apiSecretPlaceholder')}\n                disabled={busy}\n              />\n            </div>\n\n            <div className=\"space-y-2 md:col-span-1 lg:col-span-1\">\n              <Label htmlFor=\"cloudinary_folder\">{t('admin.siteSettings.cloudinary.folder')}</Label>\n              <Input\n                id=\"cloudinary_folder\"\n                value={form.cloudinary_folder}\n                onChange={(e) => handleChange('cloudinary_folder', e.target.value)}\n                placeholder={t('admin.siteSettings.cloudinary.folderPlaceholder')}\n                disabled={busy}\n              />\n            </div>\n\n            <div className=\"space-y-2 md:col-span-1 lg:col-span-2\">\n              <Label htmlFor=\"cloudinary_unsigned_preset\">{t('admin.siteSettings.cloudinary.unsignedPreset')}</Label>\n              <Input\n                id=\"cloudinary_unsigned_preset\"\n                value={form.cloudinary_unsigned_preset}\n                onChange={(e) => handleChange('cloudinary_unsigned_preset', e.target.value)}\n                placeholder={t('admin.siteSettings.cloudinary.unsignedPresetPlaceholder')}\n                disabled={busy}\n              />\n            </div>\n          </div>\n\n          {/* Footer actions */}\n          <div className=\"flex flex-col gap-3 border-t pt-4 lg:flex-row lg:items-center lg:justify-between\">\n            <p className=\"text-sm text-muted-foreground\">{lastTestInfo}</p>\n\n            <div className=\"flex flex-wrap gap-2\">\n              <Button type=\"button\" variant=\"outline\" disabled={busy} onClick={handleTest}>\n                {isTesting ? t('admin.siteSettings.cloudinary.testing') : t('admin.siteSettings.cloudinary.testButton')}\n              </Button>\n\n              <Button type=\"button\" variant=\"default\" disabled={busy} onClick={handleSave}>\n                {isSaving ? t('admin.siteSettings.actions.saving') : t('admin.siteSettings.actions.save')}\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nCloudinarySettingsTab.displayName = 'CloudinarySettingsTab';\n","// =============================================================\n// FILE: src/components/admin/site-settings/tabs/BrandMediaTab.tsx\n// guezelwebdesign – Brand / Media Settings Tab (GLOBAL '*')\n// - Flicker fix korunur (refetch loop yok)\n// - Responsive: cards/grid (taşma yok)\n// - Duplicate preview yok; sadece AdminImageUploadField preview kullanılır\n// - Logo / Icon / OG image için uygun aspect + object-fit\n// =============================================================\n\n'use client';\n\nimport React, { useCallback, useMemo, useState } from 'react';\nimport Link from 'next/link';\nimport { toast } from 'sonner';\nimport { Search } from 'lucide-react';\nimport { useAdminT } from '@/app/(main)/admin/_components/common/useAdminT';\n\nimport {\n  useListSiteSettingsAdminQuery,\n  useUpdateSiteSettingAdminMutation,\n  useDeleteSiteSettingAdminMutation,\n} from '@/integrations/hooks';\n\nimport type { SiteSetting, SettingValue } from '@/integrations/shared';\nimport { AdminImageUploadField } from '@/app/(main)/admin/_components/common/AdminImageUploadField';\n\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\n\n/* ----------------------------- constants ----------------------------- */\n\nconst GLOBAL_LOCALE = '*' as const;\n\nexport const SITE_MEDIA_KEYS = [\n  'site_logo',\n  'site_logo_dark',\n  'site_logo_light',\n  'site_favicon',\n  'site_apple_touch_icon',\n  'site_app_icon_512',\n  'site_og_default_image',\n] as const;\n\ntype MediaKey = (typeof SITE_MEDIA_KEYS)[number];\n\nconst labelMap: Record<MediaKey, string> = {\n  site_logo: 'Logo',\n  site_logo_dark: 'Logo (Dark)',\n  site_logo_light: 'Logo (Light)',\n  site_favicon: 'Favicon',\n  site_apple_touch_icon: 'Apple Touch Icon',\n  site_app_icon_512: 'App Icon 512x512',\n  site_og_default_image: 'OG Default Image',\n};\n\nfunction isMediaKey(k: string): k is MediaKey {\n  return (SITE_MEDIA_KEYS as readonly string[]).includes(k);\n}\n\n/**\n * Her key için preview aspect & fit ayarı\n */\nconst previewConfig: Record<\n  MediaKey,\n  {\n    aspect: '16x9' | '4x3' | '1x1';\n    fit: 'cover' | 'contain';\n  }\n> = {\n  site_logo: { aspect: '4x3', fit: 'contain' },\n  site_logo_dark: { aspect: '4x3', fit: 'contain' },\n  site_logo_light: { aspect: '4x3', fit: 'contain' },\n  site_favicon: { aspect: '1x1', fit: 'contain' },\n  site_apple_touch_icon: { aspect: '1x1', fit: 'contain' },\n  site_app_icon_512: { aspect: '1x1', fit: 'contain' },\n  site_og_default_image: { aspect: '16x9', fit: 'cover' },\n};\n\n/* ----------------------------- helpers ----------------------------- */\n\nconst safeStr = (v: unknown) => (v === null || v === undefined ? '' : String(v).trim());\n\nfunction getEditHref(key: string, targetLocale: string) {\n  return `/admin/site-settings/${encodeURIComponent(key)}?locale=${encodeURIComponent(\n    targetLocale,\n  )}`;\n}\n\n/**\n * DB'de media value:\n *  - string url\n *  - object: { url: \"...\" }\n *  - stringified json: \"{ \"url\": \"...\" }\"\n */\nfunction extractUrlFromSettingValue(v: SettingValue): string {\n  if (v === null || v === undefined) return '';\n\n  if (typeof v === 'string') {\n    const s = v.trim();\n    if (!s) return '';\n\n    // JSON gibi görünüyorsa parse et\n    const looksJson =\n      (s.startsWith('{') && s.endsWith('}')) || (s.startsWith('[') && s.endsWith(']'));\n\n    if (looksJson) {\n      try {\n        const parsed = JSON.parse(s);\n        const url = safeStr((parsed as any)?.url);\n        if (url) return url;\n      } catch {\n        // Parse hatası, direkt string olarak kullan\n      }\n    }\n\n    // JSON değilse veya parse edemediyse, direkt URL olarak kabul et\n    return s;\n  }\n\n  if (typeof v === 'object' && v !== null) {\n    const url = safeStr((v as any)?.url);\n    if (url) return url;\n  }\n\n  return '';\n}\n\n/** Save format: JSON object { url } */\nfunction toMediaValue(url: string): SettingValue {\n  const u = safeStr(url);\n  if (!u) return null;\n  return { url: u };\n}\n\nasync function copyToClipboard(text: string, successMsg: string, errorMsg: string) {\n  const t = safeStr(text);\n  if (!t) return;\n\n  try {\n    await navigator.clipboard.writeText(t);\n    toast.success(successMsg);\n  } catch {\n    toast.error(errorMsg);\n  }\n}\n\n/**\n * Normalize image URL - if relative, try to make it absolute\n * Returns empty string if URL is invalid\n */\nfunction normalizeImageUrl(rawUrl: string): string {\n  const url = safeStr(rawUrl);\n  if (!url) return '';\n\n  // Already a full URL (http, https, data URI)\n  if (\n    url.startsWith('http://') ||\n    url.startsWith('https://') ||\n    url.startsWith('data:') ||\n    url.startsWith('//')\n  ) {\n    return url;\n  }\n\n  // Relative URL detected - log warning for debugging\n  if (typeof window !== 'undefined') {\n    console.warn(\n      `[BrandMediaTab] Relative URL detected: \"${url}\". ` +\n        'Database should store full URLs. Attempting to resolve...',\n    );\n  }\n\n  // Try to construct full URL using NEXT_PUBLIC_SITE_URL (public panel URL)\n  // This is where storage/assets are served from\n  const publicSiteUrl = process.env.NEXT_PUBLIC_SITE_URL || 'http://localhost:3000';\n  const base = publicSiteUrl.replace(/\\/$/, '');\n\n  try {\n    // If URL starts with /, use it directly (absolute path)\n    // Otherwise, assume it's in storage folder\n    const fullUrl = url.startsWith('/') ? `${base}${url}` : `${base}/storage/${url}`;\n\n    if (typeof window !== 'undefined') {\n      console.info(`[BrandMediaTab] Resolved \"${url}\" to: ${fullUrl}`);\n    }\n    return fullUrl;\n  } catch (e) {\n    console.error('[BrandMediaTab] Failed to normalize URL:', e);\n  }\n\n  // Return original if all else fails\n  return url;\n}\n\n/* ----------------------------- component ----------------------------- */\n\nexport const BrandMediaTab: React.FC = () => {\n  const [search, setSearch] = useState('');\n\n  // Use default locale for translation (since this is global tab)\n  const t = useAdminT();\n\n  const listArgs = useMemo(() => {\n    const q = search.trim() || undefined;\n    return {\n      locale: GLOBAL_LOCALE,\n      q,\n      keys: [...SITE_MEDIA_KEYS],\n      sort: 'key' as const,\n      order: 'asc' as const,\n      limit: 200,\n      offset: 0,\n    };\n  }, [search]);\n\n  const qGlobal = useListSiteSettingsAdminQuery(listArgs, {\n    refetchOnMountOrArgChange: true,\n  });\n\n  const [updateSetting, { isLoading: isSaving }] = useUpdateSiteSettingAdminMutation();\n  const [deleteSetting, { isLoading: isDeleting }] = useDeleteSiteSettingAdminMutation();\n\n  const busy = qGlobal.isLoading || qGlobal.isFetching || isSaving || isDeleting;\n\n  const refetchAll = useCallback(async () => {\n    await qGlobal.refetch();\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [qGlobal.refetch]);\n\n  const rows = useMemo(() => {\n    const all = Array.isArray(qGlobal.data) ? qGlobal.data : [];\n    const media = all.filter(\n      (r: any) => r && isMediaKey(String(r.key || '')) && String(r.locale ?? '') === GLOBAL_LOCALE,\n    );\n\n    const s = search.trim().toLowerCase();\n    if (!s || s.length < 2) return media;\n\n    return media.filter((r: any) =>\n      String(r?.key || '')\n        .toLowerCase()\n        .includes(s),\n    );\n  }, [qGlobal.data, search]);\n\n  const byKey = useMemo(() => {\n    const map = new Map<MediaKey, SiteSetting | null>();\n    for (const k of SITE_MEDIA_KEYS) map.set(k, null);\n\n    for (const r of rows) {\n      if (!r) continue;\n      if (!isMediaKey(String(r.key || ''))) continue;\n      map.set(r.key as MediaKey, r as SiteSetting);\n    }\n\n    return map;\n  }, [rows]);\n\n  const quickUpload = useCallback(\n    async (key: MediaKey, url: string) => {\n      const u = safeStr(url);\n      if (!u) return;\n\n      try {\n        await updateSetting({ key, locale: GLOBAL_LOCALE, value: toMediaValue(u) } as any).unwrap();\n        toast.success(t('admin.siteSettings.brandMedia.updated', { label: labelMap[key] }));\n        await refetchAll();\n      } catch (err: any) {\n        toast.error(\n          err?.data?.error?.message ||\n            err?.message ||\n            t('admin.siteSettings.brandMedia.updateError', { label: labelMap[key] }),\n        );\n      }\n    },\n    [updateSetting, refetchAll, t],\n  );\n\n  const deleteRow = useCallback(\n    async (key: MediaKey) => {\n      const ok = window.confirm(t('admin.siteSettings.brandMedia.deleteConfirm', { key, locale: GLOBAL_LOCALE }));\n      if (!ok) return;\n\n      try {\n        await deleteSetting({ key, locale: GLOBAL_LOCALE } as any).unwrap();\n        toast.success(t('admin.common.deleted', { item: key }));\n        await refetchAll();\n      } catch (err: any) {\n        toast.error(err?.data?.error?.message || err?.message || t('admin.siteSettings.brandMedia.deleteError'));\n      }\n    },\n    [deleteSetting, refetchAll, t],\n  );\n\n  return (\n    <Card>\n      <CardHeader className=\"gap-2\">\n        <div className=\"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between\">\n          <div className=\"space-y-1\">\n            <CardTitle className=\"text-base\">{t('admin.siteSettings.brandMedia.title')}</CardTitle>\n            <CardDescription>\n              {t('admin.siteSettings.brandMedia.description')}\n            </CardDescription>\n          </div>\n\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Badge variant=\"secondary\">Locale: *</Badge>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={refetchAll}\n              disabled={busy}\n            >\n              {t('admin.siteSettings.actions.refresh')}\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-6\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"brand-search\">{t('admin.siteSettings.filters.search')}</Label>\n          <div className=\"relative\">\n            <Search className=\"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground\" />\n            <Input\n              id=\"brand-search\"\n              type=\"text\"\n              placeholder={t('admin.siteSettings.brandMedia.searchPlaceholder')}\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              disabled={busy}\n              className=\"pl-9\"\n            />\n          </div>\n        </div>\n\n        {busy && (\n          <div>\n            <Badge variant=\"secondary\">{t('admin.siteSettings.messages.loading')}</Badge>\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3\">\n          {SITE_MEDIA_KEYS.map((k) => {\n            const row = byKey.get(k) ?? null;\n            const hasRow = Boolean(row);\n\n            const rowValue: SettingValue = (row?.value ?? null) as SettingValue;\n            const rawUrl = normalizeImageUrl(extractUrlFromSettingValue(rowValue));\n\n            const cfg = previewConfig[k];\n\n            return (\n              <Card key={`media_${k}`}>\n                <CardHeader className=\"gap-2\">\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"space-y-1 flex-1\">\n                      <CardTitle className=\"text-sm\">{t(`admin.siteSettings.brandMedia.labels.${k}`)}</CardTitle>\n                      <CardDescription className=\"text-xs\">\n                        <code className=\"font-mono\">{k}</code>\n                        <span className=\"mx-1\">•</span>\n                        <span>locale: *</span>\n                      </CardDescription>\n                    </div>\n\n                    <div className=\"flex gap-1\">\n                      <Button asChild variant=\"outline\" size=\"sm\">\n                        <Link href={getEditHref(k, GLOBAL_LOCALE)}>{t('admin.siteSettings.actions.edit')}</Link>\n                      </Button>\n\n                      <Button\n                        type=\"button\"\n                        variant=\"destructive\"\n                        size=\"sm\"\n                        disabled={busy || !hasRow}\n                        onClick={() => void deleteRow(k)}\n                      >\n                        {t('admin.siteSettings.actions.delete')}\n                      </Button>\n                    </div>\n                  </div>\n                </CardHeader>\n\n                <CardContent className=\"space-y-4\">\n                  <AdminImageUploadField\n                    label=\"\"\n                    helperText={\n                      <span className=\"text-xs text-muted-foreground\">\n                        {t('admin.siteSettings.brandMedia.uploadHelp')}\n                      </span>\n                    }\n                    bucket=\"public\"\n                    folder=\"site-media\"\n                    metadata={{ key: k, scope: 'site_settings', locale: GLOBAL_LOCALE }}\n                    value={rawUrl}\n                    onChange={(nextUrl) => void quickUpload(k, nextUrl)}\n                    disabled={busy}\n                    openLibraryHref=\"/admin/storage\"\n                    previewAspect={cfg.aspect}\n                    previewObjectFit={cfg.fit}\n                  />\n\n                  {rawUrl && (\n                    <div className=\"space-y-2\">\n                      <div className=\"rounded-md border bg-muted/50 p-3\">\n                        <div className=\"mb-2 flex items-center justify-between\">\n                          <span className=\"text-xs font-medium text-muted-foreground\">\n                            {t('admin.common.savedUrl')}\n                          </span>\n                          <Button\n                            type=\"button\"\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => void copyToClipboard(rawUrl, t('admin.common.copySuccess'), t('admin.common.copyFailed'))}\n                            disabled={busy}\n                          >\n                            {t('admin.siteSettings.actions.copy')}\n                          </Button>\n                        </div>\n                        <code className=\"block wrap-break-word text-xs font-mono leading-relaxed\">\n                          {rawUrl}\n                        </code>\n                      </div>\n\n                      {/* Manual preview for debugging */}\n                      <div className=\"rounded-md border bg-muted/50 p-3\">\n                        <div className=\"mb-2 text-xs font-medium text-muted-foreground\">\n                          {t('admin.common.previewColon')}\n                        </div>\n                        <div className=\"relative aspect-video w-full overflow-hidden rounded border bg-background\">\n                          <img\n                            src={rawUrl}\n                            alt={t(`admin.siteSettings.brandMedia.labels.${k}`)}\n                            className=\"h-full w-full object-contain\"\n                            onError={(e) => {\n                              const target = e.target as HTMLImageElement;\n                              target.style.display = 'none';\n                              const parent = target.parentElement;\n                              if (parent && !parent.querySelector('.error-message')) {\n                                const errorDiv = document.createElement('div');\n                                errorDiv.className =\n                                  'error-message flex h-full items-center justify-center text-xs text-muted-foreground';\n                                errorDiv.textContent = t('admin.common.imageLoadFailed');\n                                parent.appendChild(errorDiv);\n                              }\n                            }}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n\n        <p className=\"text-xs text-muted-foreground\">\n          {t('admin.siteSettings.brandMedia.note')}\n        </p>\n      </CardContent>\n    </Card>\n  );\n};\n\nBrandMediaTab.displayName = 'BrandMediaTab';\n","'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/site-settings/tabs/api-settings-tab.tsx\n// API & Entegrasyon Ayarları (GLOBAL)\n// - Shadcn/ui components\n// - Responsive design\n// - TypeScript safe\n// =============================================================\n\nimport * as React from 'react';\nimport { toast } from 'sonner';\nimport { RefreshCcw } from 'lucide-react';\nimport { useAdminTranslations } from '@/i18n/adminUi';\n\nimport {\n  useListSiteSettingsAdminQuery,\n  useUpdateSiteSettingAdminMutation,\n} from '@/integrations/hooks';\n\nimport type { SettingValue, SiteSetting } from '@/integrations/shared';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\n\nexport type ApiSettingsTabProps = {\n  locale: string;\n};\n\nconst API_KEYS = [\n  'google_client_id',\n  'google_client_secret',\n  'gtm_container_id',\n  'ga4_measurement_id',\n  'cookie_consent',\n] as const;\n\ntype ApiKey = (typeof API_KEYS)[number];\ntype ApiForm = Record<ApiKey, string>;\n\nconst EMPTY_FORM: ApiForm = {\n  google_client_id: '',\n  google_client_secret: '',\n  gtm_container_id: '',\n  ga4_measurement_id: '',\n  cookie_consent: '',\n};\n\nfunction valueToString(v: unknown): string {\n  if (v === null || v === undefined) return '';\n  if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') return String(v);\n  try {\n    return JSON.stringify(v, null, 2);\n  } catch {\n    return String(v);\n  }\n}\n\nfunction toMap(settings?: any) {\n  const map = new Map<string, any>();\n  if (settings) for (const s of settings) map.set(s.key, s);\n  return map;\n}\n\nfunction tryParseJsonOrString(input: string): SettingValue {\n  const s = String(input ?? '').trim();\n  if (!s) return '' as any;\n  try {\n    return JSON.parse(s) as any;\n  } catch {\n    return s as any;\n  }\n}\n\nexport const ApiSettingsTab: React.FC<ApiSettingsTabProps> = ({ locale }) => {\n  const {\n    data: settings,\n    isLoading,\n    isFetching,\n    refetch,\n  } = useListSiteSettingsAdminQuery({\n    keys: API_KEYS as unknown as string[],\n    locale: '*', // ✅ Global settings\n  } as any);\n\n  const [updateSetting, { isLoading: isSaving }] = useUpdateSiteSettingAdminMutation();\n\n  const [form, setForm] = React.useState<ApiForm>(EMPTY_FORM);\n\n  const t = useAdminTranslations(locale);\n\n  React.useEffect(() => {\n    const map = toMap(settings);\n    const next: ApiForm = { ...EMPTY_FORM };\n    API_KEYS.forEach((k) => {\n      next[k] = valueToString(map.get(k)?.value);\n    });\n    setForm(next);\n  }, [settings]);\n\n  const loading = isLoading || isFetching;\n  const busy = loading || isSaving;\n\n  const handleChange = (field: ApiKey, value: string) => setForm((p) => ({ ...p, [field]: value }));\n\n  const handleSave = async () => {\n    try {\n      const updates: { key: ApiKey; value: SettingValue }[] = [\n        { key: 'google_client_id', value: form.google_client_id.trim() },\n        { key: 'google_client_secret', value: form.google_client_secret.trim() },\n        { key: 'gtm_container_id', value: form.gtm_container_id.trim() },\n        { key: 'ga4_measurement_id', value: form.ga4_measurement_id.trim() },\n        { key: 'cookie_consent', value: tryParseJsonOrString(form.cookie_consent) },\n      ];\n\n      for (const u of updates) {\n        await updateSetting({ key: u.key, value: u.value, locale: '*' } as any).unwrap();\n      }\n\n      toast.success(t('admin.siteSettings.api.saved'));\n      await refetch();\n    } catch (err: any) {\n      const msg =\n        err?.data?.error?.message || err?.message || t('admin.siteSettings.api.saveError');\n      toast.error(msg);\n    }\n  };\n\n  return (\n    <Card>\n      <CardHeader className=\"gap-2\">\n        <div className=\"flex flex-col gap-2 md:flex-row md:items-start md:justify-between\">\n          <div className=\"space-y-1\">\n            <CardTitle className=\"text-base\">{t('admin.siteSettings.api.title')}</CardTitle>\n            <CardDescription>\n              {t('admin.siteSettings.api.description')}\n            </CardDescription>\n          </div>\n\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Badge variant=\"secondary\">{t('admin.siteSettings.api.badge')}</Badge>\n            {locale && <Badge variant=\"outline\">{t('admin.siteSettings.api.uiBadge', { locale })}</Badge>}\n            {busy && <Badge variant=\"outline\">{t('admin.siteSettings.messages.loading')}</Badge>}\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => refetch()}\n              disabled={busy}\n              title={t('admin.siteSettings.actions.refresh')}\n            >\n              <RefreshCcw className=\"size-4\" />\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-6\">\n        <div className=\"text-sm text-muted-foreground\">\n          {t('admin.siteSettings.api.note')}\n        </div>\n\n        <div className=\"grid gap-6 md:grid-cols-2\">\n          {/* Google Client ID */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"google_client_id\">\n              {t('admin.siteSettings.api.googleClientId')}\n              <code className=\"ml-2 text-xs text-muted-foreground\">(google_client_id)</code>\n            </Label>\n            <Input\n              id=\"google_client_id\"\n              value={form.google_client_id}\n              onChange={(e) => handleChange('google_client_id', e.target.value)}\n              placeholder=\"Google OAuth Client ID\"\n              disabled={busy}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {t('admin.siteSettings.api.googleClientIdHelp')}\n            </p>\n          </div>\n\n          {/* Google Client Secret */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"google_client_secret\">\n              {t('admin.siteSettings.api.googleClientSecret')}\n              <code className=\"ml-2 text-xs text-muted-foreground\">(google_client_secret)</code>\n            </Label>\n            <Input\n              id=\"google_client_secret\"\n              type=\"password\"\n              value={form.google_client_secret}\n              onChange={(e) => handleChange('google_client_secret', e.target.value)}\n              placeholder=\"Google OAuth Client Secret\"\n              disabled={busy}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {t('admin.siteSettings.api.googleClientSecretHelp')}\n            </p>\n          </div>\n\n          {/* GTM Container ID */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"gtm_container_id\">\n              {t('admin.siteSettings.api.gtmContainerId')}\n              <code className=\"ml-2 text-xs text-muted-foreground\">(gtm_container_id)</code>\n            </Label>\n            <Input\n              id=\"gtm_container_id\"\n              value={form.gtm_container_id}\n              onChange={(e) => handleChange('gtm_container_id', e.target.value)}\n              placeholder={t('admin.siteSettings.api.gtmContainerIdPlaceholder')}\n              disabled={busy}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {t('admin.siteSettings.api.gtmContainerIdHelp')}\n            </p>\n          </div>\n\n          {/* GA4 Measurement ID */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"ga4_measurement_id\">\n              {t('admin.siteSettings.api.ga4MeasurementId')}\n              <code className=\"ml-2 text-xs text-muted-foreground\">(ga4_measurement_id)</code>\n            </Label>\n            <Input\n              id=\"ga4_measurement_id\"\n              value={form.ga4_measurement_id}\n              onChange={(e) => handleChange('ga4_measurement_id', e.target.value)}\n              placeholder={t('admin.siteSettings.api.ga4MeasurementIdPlaceholder')}\n              disabled={busy}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {t('admin.siteSettings.api.ga4MeasurementIdHelp')}\n            </p>\n          </div>\n        </div>\n\n        {/* Cookie Consent - Full Width */}\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"cookie_consent\">\n            {t('admin.siteSettings.api.cookieConsent')}\n            <code className=\"ml-2 text-xs text-muted-foreground\">(cookie_consent)</code>\n          </Label>\n          <Textarea\n            id=\"cookie_consent\"\n            rows={10}\n            value={form.cookie_consent}\n            onChange={(e) => handleChange('cookie_consent', e.target.value)}\n            placeholder={t('admin.siteSettings.api.cookieConsentPlaceholder')}\n            disabled={busy}\n            className=\"font-mono text-xs\"\n          />\n          <p className=\"text-xs text-muted-foreground\">\n            {t('admin.siteSettings.api.cookieConsentHelp')}\n          </p>\n        </div>\n\n        {/* Save Button */}\n        <div className=\"flex justify-end\">\n          <Button type=\"button\" onClick={handleSave} disabled={busy}>\n            {isSaving ? t('admin.siteSettings.actions.saving') : t('admin.siteSettings.actions.save')}\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n"],"names":[],"mappings":"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"}
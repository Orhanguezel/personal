{"version":3,"sources":["../../../../src/app/%28main%29/admin/%28admin%29/faqs/admin-faqs-detail-client.tsx","../../../../src/app/%28main%29/admin/%28admin%29/faqs/_components/FaqsForm.tsx","../../../../src/app/%28main%29/admin/%28admin%29/faqs/_components/FaqsFormJsonSection.tsx"],"sourcesContent":["'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/faqs/admin-faqs-detail-client.tsx\n// FINAL — Admin FAQ Create/Edit (App Router)\n// - id: \"new\" => create mode; UUID => edit mode\n// - Fields: locale, is_active, display_order, question, answer, slug\n// =============================================================\n\nimport * as React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { toast } from 'sonner';\n\nimport { useAdminLocales } from '@/app/(main)/admin/_components/common/useAdminLocales';\nimport { resolveAdminApiLocale } from '@/i18n/adminLocale';\nimport { localeShortClient, localeShortClientOr } from '@/i18n/localeShortClient';\n\nimport type { FaqDto, FaqCreatePayload, FaqUpdatePayload } from '@/integrations/shared';\nimport {\n  useLazyGetFaqAdminQuery,\n  useCreateFaqAdminMutation,\n  useUpdateFaqAdminMutation,\n} from '@/integrations/hooks';\n\nimport type { LocaleOption } from './_components/FaqsHeader';\nimport { FaqsForm, type FaqsFormValues } from './_components/FaqsForm';\n\nfunction isUuidLike(v?: string) {\n  if (!v) return false;\n  return /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(v);\n}\n\nfunction getErrMessage(err: unknown): string {\n  const anyErr = err as any;\n  const m1 = anyErr?.data?.error?.message;\n  if (typeof m1 === 'string' && m1.trim()) return m1;\n  const m2 = anyErr?.data?.message;\n  if (typeof m2 === 'string' && m2.trim()) return m2;\n  const m3 = anyErr?.error;\n  if (typeof m3 === 'string' && m3.trim()) return m3;\n  return 'İşlem başarısız. Lütfen tekrar deneyin.';\n}\n\nexport default function AdminFaqsDetailClient({ id }: { id: string }) {\n  const router = useRouter();\n  const isCreateMode = String(id) === 'new';\n\n  const {\n    localeOptions,\n    defaultLocaleFromDb,\n    loading: localesLoading,\n    fetching: localesFetching,\n  } = useAdminLocales();\n\n  const apiLocaleFromDb = React.useMemo(() => {\n    return resolveAdminApiLocale(localeOptions as any, defaultLocaleFromDb, 'tr');\n  }, [localeOptions, defaultLocaleFromDb]);\n\n  const localeSet = React.useMemo(() => {\n    return new Set(\n      (localeOptions ?? []).map((x: any) => localeShortClient(x.value)).filter(Boolean),\n    );\n  }, [localeOptions]);\n\n  const [activeLocale, setActiveLocale] = React.useState<string>('');\n\n  React.useEffect(() => {\n    if (!localeOptions || localeOptions.length === 0) return;\n\n    setActiveLocale((prev) => {\n      const p = localeShortClient(prev);\n      if (p && localeSet.has(p)) return p;\n      return localeShortClientOr(apiLocaleFromDb, 'tr');\n    });\n  }, [localeOptions, localeSet, apiLocaleFromDb]);\n\n  const queryLocale = React.useMemo(() => {\n    const l = localeShortClient(activeLocale);\n    if (l && localeSet.has(l)) return l;\n    return localeShortClientOr(apiLocaleFromDb, 'tr');\n  }, [activeLocale, localeSet, apiLocaleFromDb]);\n\n  const localesReady = !localesLoading && !localesFetching;\n  const hasLocales = (localeOptions?.length ?? 0) > 0;\n\n  const [triggerGetById, getState] = useLazyGetFaqAdminQuery();\n  const [faq, setFaq] = React.useState<FaqDto | undefined>(undefined);\n\n  React.useEffect(() => {\n    let alive = true;\n\n    async function run() {\n      if (!localesReady || !hasLocales) return;\n\n      if (isCreateMode) {\n        setFaq(undefined);\n        return;\n      }\n\n      const routeId = String(id || '');\n      if (!isUuidLike(routeId)) return;\n\n      try {\n        const res = await triggerGetById({ id: routeId, locale: queryLocale } as any).unwrap();\n        if (!alive) return;\n        setFaq(res as any);\n      } catch {\n        if (!alive) return;\n        setFaq(undefined);\n      }\n    }\n\n    void run();\n    return () => {\n      alive = false;\n    };\n  }, [id, isCreateMode, localesReady, hasLocales, queryLocale, triggerGetById]);\n\n  const [createFaq, createState] = useCreateFaqAdminMutation();\n  const [updateFaq, updateState] = useUpdateFaqAdminMutation();\n\n  const loading = localesLoading || localesFetching || getState.isLoading || getState.isFetching;\n  const saving = createState.isLoading || updateState.isLoading;\n  const busy = loading || saving;\n\n  const localesForForm: LocaleOption[] = React.useMemo(() => {\n    return (localeOptions ?? []).map((l: any) => ({\n      value: String(l.value ?? ''),\n      label: String(l.label ?? l.value ?? ''),\n    }));\n  }, [localeOptions]);\n\n  const mode = isCreateMode ? 'create' : 'edit';\n\n  const onCancel = () => router.push('/admin/faqs');\n\n  const handleSubmit = async (values: FaqsFormValues) => {\n    try {\n      const loc = localeShortClientOr(values.locale || queryLocale || apiLocaleFromDb, 'tr');\n\n      if (localeSet.size > 0 && !localeSet.has(localeShortClient(loc))) {\n        toast.error('Geçerli bir locale seçilmedi. app_locales ve default_locale kontrol edin.');\n        return;\n      }\n\n      if (mode === 'create') {\n        const payload: FaqCreatePayload = {\n          locale: loc,\n          is_active: values.is_active ? 1 : 0,\n          display_order: values.display_order ?? 0,\n          question: values.question.trim(),\n          answer: values.answer.trim(),\n          slug: values.slug.trim(),\n        };\n\n        const created = await createFaq(payload as any).unwrap();\n        const nextId = String((created as any)?.id ?? '').trim();\n\n        if (!nextId || !isUuidLike(nextId)) {\n          toast.error(\"Oluşturuldu ama id dönmedi/UUID değil. Backend response'u kontrol et.\");\n          return;\n        }\n\n        toast.success('FAQ başarıyla oluşturuldu.');\n        router.replace(`/admin/faqs/${encodeURIComponent(nextId)}`);\n        router.refresh();\n        return;\n      }\n\n      const baseId = faq?.id || values.id || id;\n      if (!baseId || !isUuidLike(String(baseId))) {\n        toast.error('FAQ verisi yüklenemedi (id yok).');\n        return;\n      }\n\n      const patch: FaqUpdatePayload = {\n        locale: loc,\n        is_active: values.is_active ? 1 : 0,\n        display_order: values.display_order ?? 0,\n        question: values.question.trim(),\n        answer: values.answer.trim(),\n        slug: values.slug.trim(),\n      };\n\n      await updateFaq({ id: String(baseId), patch } as any).unwrap();\n      toast.success('FAQ güncellendi.');\n\n      if (loc !== queryLocale) setActiveLocale(loc);\n    } catch (err) {\n      toast.error(getErrMessage(err));\n    }\n  };\n\n  if (localesReady && !hasLocales) {\n    return (\n      <div className=\"rounded-lg border bg-card p-4\">\n        <div className=\"text-sm font-semibold\">Dil listesi bulunamadı</div>\n        <div className=\"mt-1 text-sm text-muted-foreground\">\n          <code>site_settings.app_locales</code> boş veya geçersiz. Önce Site Settings’ten dilleri\n          ayarlayın.\n        </div>\n      </div>\n    );\n  }\n\n  if (!isCreateMode && !isUuidLike(String(id || ''))) {\n    return (\n      <div className=\"rounded-lg border bg-card p-4\">\n        <div className=\"text-sm font-semibold\">Geçersiz ID</div>\n        <div className=\"mt-1 text-sm text-muted-foreground\">\n          UUID değil: <code>{String(id || '-')}</code>\n        </div>\n        <div className=\"mt-3\">\n          <button className=\"rounded-md border px-3 py-2 text-xs\" onClick={onCancel}>\n            Listeye dön\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <FaqsForm\n      mode={mode}\n      initialData={faq}\n      loading={busy}\n      saving={saving}\n      locales={localesForForm}\n      localesLoading={localesLoading || localesFetching}\n      defaultLocale={queryLocale || apiLocaleFromDb || 'tr'}\n      onLocaleChange={(l) => setActiveLocale(localeShortClientOr(l, 'tr'))}\n      onSubmit={handleSubmit}\n      onCancel={onCancel}\n    />\n  );\n}\n","'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/faqs/_components/FaqsForm.tsx\n// FINAL — Admin FAQ Create/Edit Form (FaqDto uyumlu)\n// - ✅ Fields: locale, is_active, display_order, question, answer, slug\n// - ✅ Locale source: AdminLocaleSelect\n// - ✅ JSON Editor: optional mode (Form | JSON)\n// - ✅ No shadcn / no bootstrap\n// =============================================================\n\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { toast } from 'sonner';\n\nimport type { FaqDto } from '@/integrations/shared';\nimport { useLazyGetFaqAdminQuery } from '@/integrations/hooks';\n\nimport { AdminLocaleSelect } from '@/app/(main)/admin/_components/common/AdminLocaleSelect';\nimport type { LocaleOption } from './FaqsHeader';\n\nimport { FaqsFormJsonSection } from './FaqsFormJsonSection';\n\n/* ------------------------------------------------------------- */\n/* Types                                                         */\n/* ------------------------------------------------------------- */\n\nexport type FaqsFormValues = {\n  id?: string;\n\n  locale: string;\n  is_active: boolean;\n  display_order: number;\n\n  question: string;\n  answer: string;\n  slug: string;\n};\n\nexport type FaqsFormProps = {\n  mode: 'create' | 'edit';\n  initialData?: FaqDto;\n  loading: boolean;\n  saving: boolean;\n\n  locales: LocaleOption[];\n  localesLoading?: boolean;\n\n  defaultLocale?: string;\n  onLocaleChange?: (nextLocale: string) => void;\n\n  onSubmit: (values: FaqsFormValues) => void | Promise<void>;\n  onCancel?: () => void;\n};\n\n/* ------------------------------------------------------------- */\n/* Helpers                                                       */\n/* ------------------------------------------------------------- */\n\nconst norm = (v: unknown) =>\n  String(v ?? '')\n    .trim()\n    .toLowerCase()\n    .replace('_', '-')\n    .split('-')[0]\n    .trim();\n\nconst getLocaleFromDto = (dto?: FaqDto, fallback = 'de') => {\n  const raw = (dto as any)?.locale_resolved ?? (dto as any)?.locale ?? fallback;\n  return norm(raw) || norm(fallback) || 'de';\n};\n\nconst toBool = (v: any) => !!Number(v ?? 0);\n\nconst toNum = (v: any, fallback = 0) => {\n  const n = typeof v === 'number' ? v : Number(String(v ?? ''));\n  return Number.isFinite(n) ? n : fallback;\n};\n\n/** basit slugify (TR/DE uyumlu) */\nconst slugify = (value: string): string => {\n  if (!value) return '';\n  let s = value.trim();\n\n  const trMap: Record<string, string> = {\n    ç: 'c',\n    Ç: 'c',\n    ğ: 'g',\n    Ğ: 'g',\n    ı: 'i',\n    I: 'i',\n    İ: 'i',\n    ö: 'o',\n    Ö: 'o',\n    ş: 's',\n    Ş: 's',\n    ü: 'u',\n    Ü: 'u',\n  };\n\n  s = s\n    .split('')\n    .map((ch) => trMap[ch] ?? ch)\n    .join('');\n\n  s = s.replace(/ß/g, 'ss').replace(/ẞ/g, 'ss');\n\n  return s\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .replace(/[^a-z0-9\\s-]/g, '')\n    .trim()\n    .replace(/\\s+/g, '-')\n    .replace(/-+/g, '-');\n};\n\nconst buildInitialValues = (\n  initial: FaqDto | undefined,\n  fallbackLocale: string,\n): FaqsFormValues => {\n  const safeLocale = norm(fallbackLocale || 'de') || 'de';\n\n  if (!initial) {\n    return {\n      id: undefined,\n      locale: safeLocale,\n      is_active: true,\n      display_order: 0,\n      question: '',\n      answer: '',\n      slug: '',\n    };\n  }\n\n  const resolvedLocale = getLocaleFromDto(initial, safeLocale);\n\n  return {\n    id: initial.id,\n    locale: resolvedLocale,\n    is_active: toBool(initial.is_active),\n    display_order: toNum(initial.display_order, 0),\n    question: initial.question ?? '',\n    answer: initial.answer ?? '',\n    slug: initial.slug ?? '',\n  };\n};\n\ntype FaqPayloadJson = {\n  // i18n\n  question?: unknown;\n  answer?: unknown;\n  slug?: unknown;\n  locale?: unknown;\n\n  // parent\n  is_active?: unknown;\n  display_order?: unknown;\n};\n\nconst valuesToPayloadJson = (values: FaqsFormValues): FaqPayloadJson => ({\n  question: values.question,\n  answer: values.answer,\n  slug: values.slug,\n  locale: values.locale,\n\n  is_active: values.is_active,\n  display_order: values.display_order,\n});\n\nconst payloadJsonToValues = (\n  json: any,\n  fallbackLocale: string,\n  base?: FaqsFormValues,\n): FaqsFormValues => {\n  const safeLocale = norm(fallbackLocale || 'de') || 'de';\n\n  const out: FaqsFormValues = {\n    ...(base ?? {\n      id: undefined,\n      locale: safeLocale,\n      is_active: true,\n      display_order: 0,\n      question: '',\n      answer: '',\n      slug: '',\n    }),\n  };\n\n  const j = (json ?? {}) as FaqPayloadJson;\n\n  // locale: json varsa kullan, yoksa base/selected kalsın\n  const loc = norm(j.locale ?? out.locale ?? safeLocale) || safeLocale;\n  out.locale = loc;\n\n  if (typeof j.is_active !== 'undefined') out.is_active = !!(j.is_active as any);\n  if (typeof j.display_order !== 'undefined') out.display_order = toNum(j.display_order, 0);\n\n  if (typeof j.question !== 'undefined') out.question = String(j.question ?? '');\n  if (typeof j.answer !== 'undefined') out.answer = String(j.answer ?? '');\n  if (typeof j.slug !== 'undefined') out.slug = String(j.slug ?? '');\n\n  return out;\n};\n\n/* ------------------------------------------------------------- */\n/* Component                                                     */\n/* ------------------------------------------------------------- */\n\nexport const FaqsForm: React.FC<FaqsFormProps> = ({\n  mode,\n  initialData,\n  loading,\n  saving,\n  locales,\n  localesLoading,\n  defaultLocale,\n  onLocaleChange,\n  onSubmit,\n  onCancel,\n}) => {\n  const safeDefaultLocale = norm(defaultLocale || 'de') || 'de';\n\n  const [values, setValues] = useState<FaqsFormValues>(\n    buildInitialValues(initialData, safeDefaultLocale),\n  );\n\n  const [slugTouched, setSlugTouched] = useState(false);\n\n  const disabled = loading || saving;\n\n  // locale switch (edit mode): direct GET by id+locale\n  const [triggerGet, getState] = useLazyGetFaqAdminQuery();\n  const localeReqSeq = useRef(0);\n\n  // editor mode\n  const [editorMode, setEditorMode] = useState<'form' | 'json'>('form');\n\n  // json editor model + errors\n  const [jsonModel, setJsonModel] = useState<any>(() => valuesToPayloadJson(values));\n  const [jsonError, setJsonError] = useState<string | null>(null);\n\n  useEffect(() => {\n    // initialData changes\n    const next = buildInitialValues(initialData, safeDefaultLocale);\n    setValues(next);\n    setSlugTouched(false);\n\n    // sync json model\n    setJsonModel(valuesToPayloadJson(next));\n    setJsonError(null);\n  }, [initialData, safeDefaultLocale]);\n\n  useEffect(() => {\n    if (!values.locale) {\n      setValues((p) => ({ ...p, locale: safeDefaultLocale }));\n    }\n  }, [values.locale, safeDefaultLocale]);\n\n  // keep JSON in sync when in form mode (avoid overwriting user's json edits)\n  useEffect(() => {\n    if (editorMode !== 'form') return;\n    setJsonModel(valuesToPayloadJson(values));\n    setJsonError(null);\n  }, [values, editorMode]);\n\n  const handleLocaleChange = async (nextLocaleRaw: string) => {\n    const nextLocale = norm(nextLocaleRaw || safeDefaultLocale) || safeDefaultLocale;\n\n    if (norm(values.locale) === nextLocale) {\n      onLocaleChange?.(nextLocale);\n      return;\n    }\n\n    onLocaleChange?.(nextLocale);\n\n    // create mode: only set state\n    if (mode === 'create' || !initialData?.id) {\n      setValues((prev) => ({ ...prev, locale: nextLocale }));\n      // form mode ise json sync zaten effect’ten gelir\n      return;\n    }\n\n    // edit mode: fetch by id + locale\n    const mySeq = ++localeReqSeq.current;\n    setValues((prev) => ({ ...prev, locale: nextLocale }));\n\n    try {\n      const res = await triggerGet({ id: initialData.id, locale: nextLocale } as any).unwrap();\n      if (mySeq !== localeReqSeq.current) return;\n\n      const dto = res as any as FaqDto;\n      const nextValues = buildInitialValues(dto, safeDefaultLocale);\n      nextValues.locale = nextLocale;\n\n      setValues(nextValues);\n      setSlugTouched(false);\n\n      // json sync\n      if (editorMode === 'json') {\n        setJsonModel(valuesToPayloadJson(nextValues));\n        setJsonError(null);\n      }\n    } catch (err: any) {\n      if (mySeq !== localeReqSeq.current) return;\n      const status = err?.status ?? err?.originalStatus;\n      if (status === 404) {\n        toast.info('Seçilen dil için kayıt bulunamadı; bu dilde yeni içerik oluşturabilirsin.');\n        // keep current values but locale updated\n      } else {\n        toast.error('Seçilen dil için kayıt yüklenirken bir hata oluştu.');\n      }\n    }\n  };\n\n  const validateRequired = (v: FaqsFormValues) => {\n    const q = v.question.trim();\n    const a = v.answer.trim();\n    const s = v.slug.trim();\n    if (!q || !a || !s) return false;\n    return true;\n  };\n\n  const submitValues = (v: FaqsFormValues) => {\n    const q = v.question.trim();\n    const a = v.answer.trim();\n    const s = v.slug.trim();\n\n    if (!q || !a || !s) {\n      toast.error('Question, Answer ve Slug alanları zorunludur.');\n      return;\n    }\n\n    void onSubmit({\n      ...v,\n      locale: norm(v.locale || safeDefaultLocale) || safeDefaultLocale,\n      question: q,\n      answer: a,\n      slug: s,\n      display_order: Number.isFinite(v.display_order) ? v.display_order : 0,\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (disabled) return;\n\n    if (editorMode === 'form') {\n      submitValues(values);\n      return;\n    }\n\n    // json mode\n    if (jsonError) {\n      toast.error('JSON geçersiz. Lütfen hatayı düzelt.');\n      return;\n    }\n\n    const next = payloadJsonToValues(jsonModel, safeDefaultLocale, values);\n\n    if (!validateRequired(next)) {\n      toast.error('JSON içinde Question, Answer ve Slug alanları zorunludur.');\n      return;\n    }\n\n    // state sync (so user sees what submitted if they switch back)\n    setValues(next);\n    setSlugTouched(true);\n\n    submitValues(next);\n  };\n\n  const localeSelectOptions = useMemo(\n    () => (locales ?? []).map((x) => ({ value: norm(x.value), label: x.label })),\n    [locales],\n  );\n\n  const switchingLocale = getState.isLoading || getState.isFetching;\n\n  const canSwitchToJson = !disabled;\n  const canSwitchToForm = !disabled;\n\n  const renderModeSwitch = () => (\n    <div className=\"flex items-center gap-2\">\n      <button\n        type=\"button\"\n        className={[\n          'rounded-md border px-3 py-1 text-xs',\n          editorMode === 'form'\n            ? 'bg-muted text-foreground'\n            : 'bg-background text-muted-foreground',\n          !canSwitchToForm ? 'opacity-60' : '',\n        ].join(' ')}\n        onClick={() => setEditorMode('form')}\n        disabled={!canSwitchToForm}\n      >\n        Form\n      </button>\n      <button\n        type=\"button\"\n        className={[\n          'rounded-md border px-3 py-1 text-xs',\n          editorMode === 'json'\n            ? 'bg-muted text-foreground'\n            : 'bg-background text-muted-foreground',\n          !canSwitchToJson ? 'opacity-60' : '',\n        ].join(' ')}\n        onClick={() => {\n          // json’e geçerken mevcut values → json (kullanıcı daha önce edit ettiyse, bilinçli olarak overwrite etme)\n          setJsonModel(valuesToPayloadJson(values));\n          setJsonError(null);\n          setEditorMode('json');\n        }}\n        disabled={!canSwitchToJson}\n      >\n        JSON\n      </button>\n      {editorMode === 'json' ? (\n        <span className=\"ml-2 text-[11px] text-muted-foreground\">\n          {jsonError ? 'JSON hatalı' : 'JSON hazır'}\n        </span>\n      ) : null}\n    </div>\n  );\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div className=\"rounded-lg border bg-card\">\n        <div className=\"border-b p-3\">\n          <div className=\"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between\">\n            <div className=\"min-w-0\">\n              <div className=\"text-sm font-semibold\">\n                {mode === 'create' ? 'Yeni FAQ Oluştur' : 'FAQ Düzenle'}\n              </div>\n              <div className=\"text-xs text-muted-foreground\">\n                {editorMode === 'form'\n                  ? 'Locale, aktiflik, sıralama, soru/cevap ve slug alanlarını doldur.'\n                  : 'İstek payload’ını JSON olarak düzenle ve kaydet.'}\n              </div>\n            </div>\n\n            <div className=\"flex flex-wrap items-center gap-2\">\n              {renderModeSwitch()}\n\n              <div className=\"h-4 w-px bg-border mx-1 hidden lg:block\" />\n\n              {onCancel ? (\n                <button\n                  type=\"button\"\n                  className=\"rounded-md border px-3 py-1 text-xs\"\n                  onClick={onCancel}\n                  disabled={disabled}\n                >\n                  Geri\n                </button>\n              ) : null}\n\n              <button\n                type=\"submit\"\n                className=\"rounded-md bg-primary px-3 py-1 text-xs text-primary-foreground disabled:opacity-60\"\n                disabled={disabled}\n              >\n                {saving\n                  ? mode === 'create'\n                    ? 'Oluşturuluyor...'\n                    : 'Kaydediliyor...'\n                  : mode === 'create'\n                    ? 'Oluştur'\n                    : 'Kaydet'}\n              </button>\n\n              {loading || switchingLocale ? (\n                <span className=\"rounded-full border px-2 py-0.5 text-[11px] text-muted-foreground\">\n                  {switchingLocale ? 'Dil değiştiriliyor...' : 'Yükleniyor...'}\n                </span>\n              ) : null}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-3 space-y-4\">\n          <AdminLocaleSelect\n            value={values.locale}\n            onChange={handleLocaleChange}\n            options={localeSelectOptions as any}\n            loading={!!localesLoading}\n            disabled={\n              disabled || (!!localesLoading && !localeSelectOptions.length) || switchingLocale\n            }\n            label=\"Dil\"\n          />\n\n          {editorMode === 'json' ? (\n            <FaqsFormJsonSection\n              jsonModel={jsonModel}\n              disabled={disabled || switchingLocale}\n              onChangeJson={(j) => setJsonModel(j)}\n              onErrorChange={(err) => setJsonError(err)}\n            />\n          ) : (\n            <div className=\"grid gap-4 lg:grid-cols-12\">\n              <div className=\"lg:col-span-8 space-y-4\">\n                <div className=\"rounded-lg border bg-card p-3 space-y-4\">\n                  <div className=\"flex flex-col gap-3 md:flex-row md:items-end\">\n                    <label className=\"flex items-center gap-2 text-sm\">\n                      <input\n                        id=\"is_active\"\n                        type=\"checkbox\"\n                        className=\"h-4 w-4\"\n                        checked={values.is_active}\n                        onChange={(e) => setValues((p) => ({ ...p, is_active: e.target.checked }))}\n                        disabled={disabled}\n                      />\n                      <span>Aktif</span>\n                    </label>\n\n                    <div className=\"md:ml-auto w-full md:w-56\">\n                      <label className=\"mb-1 block text-xs text-muted-foreground\">\n                        Sıralama (display_order)\n                      </label>\n                      <input\n                        type=\"number\"\n                        className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n                        value={values.display_order}\n                        onChange={(e) =>\n                          setValues((p) => ({ ...p, display_order: toNum(e.target.value, 0) }))\n                        }\n                        disabled={disabled}\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"mb-1 block text-xs text-muted-foreground\">Question</label>\n                    <input\n                      type=\"text\"\n                      className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n                      value={values.question}\n                      onChange={(e) => {\n                        const v = e.target.value;\n                        setValues((prev) => {\n                          const next = { ...prev, question: v };\n                          if (!slugTouched) next.slug = slugify(v);\n                          return next;\n                        });\n                      }}\n                      disabled={disabled}\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"mb-1 block text-xs text-muted-foreground\">Slug</label>\n                    <input\n                      type=\"text\"\n                      className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n                      value={values.slug}\n                      onFocus={() => setSlugTouched(true)}\n                      onChange={(e) => {\n                        setSlugTouched(true);\n                        setValues((prev) => ({ ...prev, slug: e.target.value }));\n                      }}\n                      disabled={disabled}\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"mb-1 block text-xs text-muted-foreground\">Answer</label>\n                    <textarea\n                      className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n                      rows={8}\n                      value={values.answer}\n                      onChange={(e) => setValues((p) => ({ ...p, answer: e.target.value }))}\n                      disabled={disabled}\n                      required\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"lg:col-span-4\">\n                <div className=\"rounded-lg border bg-card p-3 space-y-2\">\n                  <div className=\"text-sm font-semibold\">Notlar</div>\n                  <div className=\"text-xs text-muted-foreground\">\n                    FAQ modülünde görsel/SEO alanı yok. Bu form sadece backend’deki faq alanlarını\n                    yönetir.\n                  </div>\n\n                  <div className=\"text-xs text-muted-foreground\">\n                    İstersen üstten <code>JSON</code> moduna geçip payload’ı direkt\n                    düzenleyebilirsin.\n                  </div>\n\n                  {initialData?.created_at ? (\n                    <div className=\"text-xs text-muted-foreground\">\n                      Oluşturulma: <code>{initialData.created_at}</code>\n                    </div>\n                  ) : null}\n                  {initialData?.updated_at ? (\n                    <div className=\"text-xs text-muted-foreground\">\n                      Güncelleme: <code>{initialData.updated_at}</code>\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </form>\n  );\n};\n","// =============================================================\n// FILE: src/components/admin/faqs/FaqsFormJsonSection.tsx\n// guezelwebdesign – FAQ Form – JSON mod alanı (theme-safe, no shadcn/bootstrap)\n// =============================================================\n\n'use client';\n\nimport React from 'react';\nimport { AdminJsonEditor } from '@/app/(main)/admin/_components/common/AdminJsonEditor';\n\nexport type FaqsFormJsonSectionProps = {\n  jsonModel: any;\n  disabled: boolean;\n  onChangeJson: (json: any) => void;\n  onErrorChange: (err: string | null) => void;\n};\n\nexport const FaqsFormJsonSection: React.FC<FaqsFormJsonSectionProps> = ({\n  jsonModel,\n  disabled,\n  onChangeJson,\n  onErrorChange,\n}) => {\n  return (\n    <div className=\"rounded-lg border bg-card p-3\">\n      <AdminJsonEditor\n        label=\"FAQ JSON (create/update payload)\"\n        value={jsonModel}\n        onChange={onChangeJson}\n        onErrorChange={onErrorChange}\n        disabled={disabled}\n        height={380}\n        helperText={\n          <div className=\"space-y-2 text-xs text-muted-foreground\">\n            <div>\n              Bu JSON, <code>/admin/faqs</code> create / update isteklerine gönderilen payload ile\n              uyumludur.\n            </div>\n            <div>\n              Başlıca alanlar:\n              <ul className=\"mb-0 mt-1 list-disc pl-5\">\n                <li>\n                  <code>question</code>, <code>answer</code>, <code>slug</code>, <code>locale</code>\n                </li>\n                <li>\n                  <code>is_active</code>, <code>display_order</code>\n                </li>\n              </ul>\n            </div>\n            <div>\n              Not: JSON modunda <code>locale</code> göndermezsen, seçili locale (form üstünden)\n              kullanılır.\n            </div>\n          </div>\n        }\n      />\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}
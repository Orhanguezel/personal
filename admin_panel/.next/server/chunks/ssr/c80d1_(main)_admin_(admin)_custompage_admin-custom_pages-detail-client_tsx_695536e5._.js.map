{"version":3,"sources":["../../../../src/app/%28main%29/admin/%28admin%29/custompage/admin-custom_pages-detail-client.tsx","../../../../src/app/%28main%29/admin/%28admin%29/custompage/_components/CustomPageForm.tsx","../../../../src/app/%28main%29/admin/%28admin%29/custompage/_components/CustomPageMainColumn.tsx","../../../../src/app/%28main%29/admin/%28admin%29/custompage/_components/CustomPageSidebarColumn.tsx","../../../../src/app/%28main%29/admin/%28admin%29/custompage/_components/CustomPageFormImageColumn.tsx"],"sourcesContent":["'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/custompage/admin-custom_pages-detail-client.tsx\n// FINAL — Admin Custom Page Create/Edit (App Router + _components)\n// - UI: CustomPageForm (Form + Image column + Sidebar column inside)\n// - Locale URL sync yok (state + API args)\n// - id: \"new\" => create mode; UUID => edit mode\n// =============================================================\n\nimport * as React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { toast } from 'sonner';\n\nimport { useAdminLocales } from '@/app/(main)/admin/_components/common/useAdminLocales';\nimport { resolveAdminApiLocale } from '@/i18n/adminLocale';\nimport { localeShortClient, localeShortClientOr } from '@/i18n/localeShortClient';\n\nimport type { CustomPageDto } from '@/integrations/shared';\nimport type { CustomPageCreatePayload, CustomPageUpdatePayload } from '@/integrations/shared';\n\nimport {\n  useLazyGetCustomPageAdminQuery,\n  useCreateCustomPageAdminMutation,\n  useUpdateCustomPageAdminMutation,\n} from '@/integrations/hooks';\n\nimport type { LocaleOption } from './_components/CustomPageHeader';\nimport { CustomPageForm, type CustomPageFormValues } from './_components/CustomPageForm';\n\nfunction isUuidLike(v?: string) {\n  if (!v) return false;\n  return /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(v);\n}\n\nfunction getErrMessage(err: unknown): string {\n  const anyErr = err as any;\n  const m1 = anyErr?.data?.error?.message;\n  if (typeof m1 === 'string' && m1.trim()) return m1;\n  const m2 = anyErr?.data?.message;\n  if (typeof m2 === 'string' && m2.trim()) return m2;\n  const m3 = anyErr?.error;\n  if (typeof m3 === 'string' && m3.trim()) return m3;\n  return 'İşlem başarısız. Lütfen tekrar deneyin.';\n}\n\nexport default function AdminCustomPageDetailClient({ id }: { id: string }) {\n  const router = useRouter();\n  const isCreateMode = String(id) === 'new';\n\n  const {\n    localeOptions,\n    defaultLocaleFromDb,\n    loading: localesLoading,\n    fetching: localesFetching,\n  } = useAdminLocales();\n\n  const apiLocaleFromDb = React.useMemo(() => {\n    return resolveAdminApiLocale(localeOptions as any, defaultLocaleFromDb, 'tr');\n  }, [localeOptions, defaultLocaleFromDb]);\n\n  const localeSet = React.useMemo(() => {\n    return new Set(\n      (localeOptions ?? []).map((x: any) => localeShortClient(x.value)).filter(Boolean),\n    );\n  }, [localeOptions]);\n\n  // admin: activeLocale URL sync yok\n  const [activeLocale, setActiveLocale] = React.useState<string>('');\n\n  React.useEffect(() => {\n    if (!localeOptions || localeOptions.length === 0) return;\n\n    setActiveLocale((prev) => {\n      const p = localeShortClient(prev);\n      if (p && localeSet.has(p)) return p;\n      return localeShortClientOr(apiLocaleFromDb, 'tr');\n    });\n  }, [localeOptions, localeSet, apiLocaleFromDb]);\n\n  const queryLocale = React.useMemo(() => {\n    const l = localeShortClient(activeLocale);\n    if (l && localeSet.has(l)) return l;\n    return localeShortClientOr(apiLocaleFromDb, 'tr');\n  }, [activeLocale, localeSet, apiLocaleFromDb]);\n\n  const localesReady = !localesLoading && !localesFetching;\n  const hasLocales = (localeOptions?.length ?? 0) > 0;\n\n  const [triggerGetById, getState] = useLazyGetCustomPageAdminQuery();\n  const [page, setPage] = React.useState<CustomPageDto | undefined>(undefined);\n\n  // fetch (edit mode) on locale change\n  React.useEffect(() => {\n    let alive = true;\n\n    async function run() {\n      if (!localesReady || !hasLocales) return;\n      if (isCreateMode) {\n        setPage(undefined);\n        return;\n      }\n\n      const routeId = String(id || '');\n      if (!isUuidLike(routeId)) return;\n\n      try {\n        const res = await triggerGetById({ id: routeId, locale: queryLocale } as any).unwrap();\n        if (!alive) return;\n        setPage(res as any);\n      } catch {\n        if (!alive) return;\n        setPage(undefined);\n      }\n    }\n\n    void run();\n    return () => {\n      alive = false;\n    };\n  }, [id, isCreateMode, localesReady, hasLocales, queryLocale, triggerGetById]);\n\n  const [createCustomPage, createState] = useCreateCustomPageAdminMutation();\n  const [updateCustomPage, updateState] = useUpdateCustomPageAdminMutation();\n\n  const loading = localesLoading || localesFetching || getState.isLoading || getState.isFetching;\n  const saving = createState.isLoading || updateState.isLoading;\n  const busy = loading || saving;\n\n  const localesForForm: LocaleOption[] = React.useMemo(() => {\n    return (localeOptions ?? []).map((l: any) => ({\n      value: String(l.value ?? ''),\n      label: String(l.label ?? l.value ?? ''),\n    }));\n  }, [localeOptions]);\n\n  const mode = isCreateMode ? 'create' : 'edit';\n\n  const onCancel = () => router.push('/admin/custompage');\n\n  const handleSubmit = async (values: CustomPageFormValues) => {\n    try {\n      const loc = localeShortClientOr(values.locale || queryLocale || apiLocaleFromDb, 'tr');\n\n      if (localeSet.size > 0 && !localeSet.has(localeShortClient(loc))) {\n        toast.error('Geçerli bir locale seçilmedi. app_locales ve default_locale kontrol edin.');\n        return;\n      }\n\n      if (mode === 'create') {\n        const payload: CustomPageCreatePayload = {\n          locale: loc,\n          title: values.title.trim(),\n          slug: values.slug.trim(),\n          content: values.content ?? '',\n          is_published: !!values.is_published,\n\n          summary: values.summary.trim() || null,\n          tags: values.tags.trim() || null,\n\n          featured_image: values.featured_image.trim() || null,\n          featured_image_asset_id: values.featured_image_asset_id.trim() || null,\n          featured_image_alt: values.featured_image_alt.trim() || null,\n\n          meta_title: values.meta_title.trim() || null,\n          meta_description: values.meta_description.trim() || null,\n\n          // parent gallery\n          images: Array.isArray(values.images) ? values.images : [],\n          storage_image_ids: Array.isArray(values.storage_image_ids)\n            ? values.storage_image_ids\n            : [],\n        } as any;\n\n        const created = await createCustomPage(payload as any).unwrap();\n        const nextId = String((created as any)?.id ?? '').trim();\n\n        if (!nextId || !isUuidLike(nextId)) {\n          toast.error(\"Oluşturuldu ama id dönmedi/UUID değil. Backend response'u kontrol et.\");\n          return;\n        }\n\n        toast.success('Sayfa başarıyla oluşturuldu.');\n        router.replace(`/admin/custompage/${encodeURIComponent(nextId)}`);\n        router.refresh();\n        return;\n      }\n\n      const baseId = page?.id || values.page_id || id;\n      if (!baseId || !isUuidLike(String(baseId))) {\n        toast.error('Sayfa verisi yüklenemedi (id yok).');\n        return;\n      }\n\n      const patch: CustomPageUpdatePayload = {\n        locale: loc,\n        title: values.title.trim(),\n        slug: values.slug.trim(),\n        content: values.content ?? '',\n        is_published: !!values.is_published,\n\n        summary: values.summary.trim() || null,\n        tags: values.tags.trim() || null,\n\n        featured_image: values.featured_image.trim() || null,\n        featured_image_asset_id: values.featured_image_asset_id.trim() || null,\n        featured_image_alt: values.featured_image_alt.trim() || null,\n\n        meta_title: values.meta_title.trim() || null,\n        meta_description: values.meta_description.trim() || null,\n\n        images: Array.isArray(values.images) ? values.images : [],\n        storage_image_ids: Array.isArray(values.storage_image_ids) ? values.storage_image_ids : [],\n      } as any;\n\n      await updateCustomPage({ id: baseId, patch } as any).unwrap();\n      toast.success('Sayfa güncellendi.');\n\n      if (loc !== queryLocale) setActiveLocale(loc);\n    } catch (err) {\n      toast.error(getErrMessage(err));\n    }\n  };\n\n  // Guards\n  if (localesReady && !hasLocales) {\n    return (\n      <div className=\"rounded-lg border bg-card p-4\">\n        <div className=\"text-sm font-semibold\">Dil listesi bulunamadı</div>\n        <div className=\"mt-1 text-sm text-muted-foreground\">\n          <code>site_settings.app_locales</code> boş veya geçersiz. Önce Site Settings’ten dilleri\n          ayarlayın.\n        </div>\n      </div>\n    );\n  }\n\n  if (!isCreateMode && !isUuidLike(String(id || ''))) {\n    return (\n      <div className=\"rounded-lg border bg-card p-4\">\n        <div className=\"text-sm font-semibold\">Geçersiz ID</div>\n        <div className=\"mt-1 text-sm text-muted-foreground\">\n          UUID değil: <code>{String(id || '-')}</code>\n        </div>\n        <div className=\"mt-3\">\n          <button className=\"rounded-md border px-3 py-2 text-xs\" onClick={onCancel}>\n            Listeye dön\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <CustomPageForm\n      mode={mode}\n      initialData={page}\n      loading={busy}\n      saving={saving}\n      locales={localesForForm}\n      localesLoading={localesLoading || localesFetching}\n      defaultLocale={queryLocale || apiLocaleFromDb || 'tr'}\n      onLocaleChange={(l) => setActiveLocale(localeShortClientOr(l, 'tr'))}\n      onSubmit={handleSubmit}\n      onCancel={onCancel}\n    />\n  );\n}\n","// =============================================================\n// FILE: src/app/(main)/admin/(admin)/custompage/_components/CustomPageForm.tsx\n// FINAL — Admin Custom Page Create/Edit Form (container)\n// - ✅ Cover + Gallery (multi) + \"set as cover\"\n// - ✅ Locale select single source: AdminLocaleSelect\n// - ✅ JSON mode uses AdminJsonEditor\n// - ✅ App Router paths + no inline styles\n// =============================================================\n\n'use client';\n\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { toast } from 'sonner';\n\nimport type { CustomPageDto } from '@/integrations/shared';\nimport { useLazyListCustomPagesAdminQuery } from '@/integrations/hooks';\n\nimport { AdminJsonEditor } from '@/app/(main)/admin/_components/common/AdminJsonEditor';\nimport { AdminLocaleSelect } from '@/app/(main)/admin/_components/common/AdminLocaleSelect';\n\nimport type { LocaleOption } from './CustomPageHeader';\nimport { CustomPageMainColumn } from './CustomPageMainColumn';\nimport { CustomPageSidebarColumn } from './CustomPageSidebarColumn';\nimport { CustomPageFormImageColumn } from './CustomPageFormImageColumn';\n\n/* ------------------------------------------------------------- */\n/*  Types                                                        */\n/* ------------------------------------------------------------- */\n\nexport type CustomPageFormValues = {\n  id?: string;\n  page_id?: string;\n\n  locale: string;\n  is_published: boolean;\n  title: string;\n  slug: string;\n  content: string;\n\n  featured_image: string;\n  featured_image_asset_id: string;\n  featured_image_alt: string;\n\n  summary: string;\n\n  meta_title: string;\n  meta_description: string;\n\n  tags: string;\n\n  images: string[];\n  storage_image_ids: string[];\n};\n\nexport type CustomPageFormProps = {\n  mode: 'create' | 'edit';\n  initialData?: CustomPageDto;\n  loading: boolean;\n  saving: boolean;\n\n  locales: LocaleOption[];\n  localesLoading?: boolean;\n\n  defaultLocale?: string;\n  onLocaleChange?: (nextLocale: string) => void;\n\n  onSubmit: (values: CustomPageFormValues) => void | Promise<void>;\n  onCancel?: () => void;\n};\n\nexport type ContentImageSize = 'sm' | 'md' | 'lg' | 'full';\n\n/* ------------------------------------------------------------- */\n/*  Helpers                                                      */\n/* ------------------------------------------------------------- */\n\nconst norm = (v: unknown) =>\n  String(v ?? '')\n    .trim()\n    .toLowerCase()\n    .replace('_', '-')\n    .split('-')[0]\n    .trim();\n\nconst getLocaleFromDto = (dto?: CustomPageDto, fallback = 'de') => {\n  const raw = (dto as any)?.locale_resolved ?? (dto as any)?.locale ?? fallback;\n  return norm(raw) || norm(fallback) || 'de';\n};\n\nconst buildInitialValues = (\n  initial: CustomPageDto | undefined,\n  fallbackLocale: string | undefined,\n): CustomPageFormValues => {\n  const safeLocale = norm(fallbackLocale || 'de') || 'de';\n\n  if (!initial) {\n    return {\n      id: undefined,\n      page_id: undefined,\n\n      locale: safeLocale,\n      is_published: false,\n      title: '',\n      slug: '',\n      content: '',\n\n      featured_image: '',\n      featured_image_asset_id: '',\n      featured_image_alt: '',\n\n      summary: '',\n      meta_title: '',\n      meta_description: '',\n\n      tags: '',\n\n      images: [],\n      storage_image_ids: [],\n    };\n  }\n\n  const tagsString =\n    Array.isArray((initial as any)?.tags) && (initial as any).tags.length\n      ? (initial as any).tags.join(', ')\n      : ((initial as any).tags_raw ?? '');\n\n  const resolvedLocale = getLocaleFromDto(initial, safeLocale);\n\n  return {\n    id: initial.id,\n    page_id: initial.id,\n\n    locale: resolvedLocale,\n    is_published: !!initial.is_published,\n\n    title: initial.title ?? '',\n    slug: initial.slug ?? '',\n    content: (initial as any).content ?? (initial as any).content_html ?? '',\n\n    featured_image: (initial as any).featured_image ?? '',\n    featured_image_asset_id: (initial as any).featured_image_asset_id ?? '',\n    featured_image_alt: (initial as any).featured_image_alt ?? '',\n\n    summary: (initial as any).summary ?? '',\n    meta_title: (initial as any).meta_title ?? '',\n    meta_description: (initial as any).meta_description ?? '',\n\n    tags: tagsString,\n\n    images: Array.isArray((initial as any).images) ? (initial as any).images : [],\n    storage_image_ids: Array.isArray((initial as any).storage_image_ids)\n      ? (initial as any).storage_image_ids\n      : [],\n  };\n};\n\nconst buildContentImageHtml = (url: string, alt = '', size: ContentImageSize = 'lg'): string => {\n  const safeAlt = alt.replace(/\"/g, '&quot;');\n  return `\n<figure class=\"content-image-block content-image-${size}\">\n  <img src=\"${url}\" alt=\"${safeAlt}\" loading=\"lazy\" />\n</figure>\n`.trim();\n};\n\n/* ------------------------------------------------------------- */\n/*  Component                                                    */\n/* ------------------------------------------------------------- */\n\nexport const CustomPageForm: React.FC<CustomPageFormProps> = ({\n  mode,\n  initialData,\n  loading,\n  saving,\n  locales,\n  localesLoading,\n  defaultLocale,\n  onLocaleChange,\n  onSubmit,\n  onCancel,\n}) => {\n  const safeDefaultLocale = norm(defaultLocale || 'de') || 'de';\n\n  const [values, setValues] = useState<CustomPageFormValues>(\n    buildInitialValues(initialData, safeDefaultLocale),\n  );\n\n  const [slugTouched, setSlugTouched] = useState(false);\n  const [activeMode, setActiveMode] = useState<'form' | 'json'>('form');\n\n  const [contentImagePreview, setContentImagePreview] = useState<string>('');\n  const [contentImageSize, setContentImageSize] = useState<ContentImageSize>('lg');\n  const [manualImageUrl, setManualImageUrl] = useState<string>('');\n  const [manualImageAlt, setManualImageAlt] = useState<string>('');\n\n  const [triggerListPages, { isLoading: isLocaleSwitchLoading }] =\n    useLazyListCustomPagesAdminQuery();\n\n  const localeReqSeq = useRef(0);\n  const pendingLocaleRef = useRef<string>('');\n\n  useEffect(() => {\n    if (!initialData) {\n      setValues(buildInitialValues(undefined, safeDefaultLocale));\n      setSlugTouched(false);\n      pendingLocaleRef.current = '';\n      return;\n    }\n\n    const incomingLocale = getLocaleFromDto(initialData, safeDefaultLocale);\n    const wantedLocale = norm(pendingLocaleRef.current || '');\n\n    if (mode === 'edit' && wantedLocale && incomingLocale !== wantedLocale) return;\n\n    pendingLocaleRef.current = '';\n    setValues(buildInitialValues(initialData, safeDefaultLocale));\n    setSlugTouched(false);\n  }, [initialData, safeDefaultLocale, mode]);\n\n  useEffect(() => {\n    if (!values.locale) {\n      setValues((p) => ({ ...p, locale: safeDefaultLocale }));\n    }\n  }, [values.locale, safeDefaultLocale]);\n\n  const disabled = loading || saving;\n\n  const handleChange =\n    (field: keyof CustomPageFormValues) =>\n    (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      const val = e.target.value;\n      setValues((prev) => ({ ...prev, [field]: val }) as CustomPageFormValues);\n    };\n\n  const handleCheckboxChange =\n    (field: keyof CustomPageFormValues) => (e: React.ChangeEvent<HTMLInputElement>) => {\n      const checked = e.target.checked;\n      setValues((prev) => ({ ...prev, [field]: checked }) as CustomPageFormValues);\n    };\n\n  const handleLocaleChange = async (nextLocaleRaw: string) => {\n    const nextLocale = norm(nextLocaleRaw || safeDefaultLocale) || safeDefaultLocale;\n\n    if (norm(values.locale) === nextLocale) {\n      onLocaleChange?.(nextLocale);\n      return;\n    }\n\n    onLocaleChange?.(nextLocale);\n\n    if (mode === 'create' || !initialData) {\n      setValues((prev) => ({ ...prev, locale: nextLocale }));\n      return;\n    }\n\n    const baseId = initialData.id;\n    if (!baseId) {\n      setValues((prev) => ({ ...prev, locale: nextLocale }));\n      return;\n    }\n\n    pendingLocaleRef.current = nextLocale;\n    const mySeq = ++localeReqSeq.current;\n\n    setValues((prev) => ({ ...prev, locale: nextLocale }));\n\n    try {\n      const res = await triggerListPages({\n        locale: nextLocale || undefined,\n        limit: 200,\n        offset: 0,\n      } as any).unwrap();\n\n      if (mySeq !== localeReqSeq.current) return;\n\n      const items: CustomPageDto[] = (res as any)?.items ?? (res as any) ?? [];\n      const match = items.find((item: any) => String(item?.id || '') === String(baseId));\n\n      if (match) {\n        const nextValues = buildInitialValues(match, safeDefaultLocale);\n        nextValues.locale = nextLocale;\n        setValues(nextValues);\n        setSlugTouched(false);\n        pendingLocaleRef.current = '';\n      } else {\n        toast.info('Seçilen dil için kayıt bulunamadı; bu dilde yeni içerik oluşturabilirsin.');\n      }\n    } catch (err: any) {\n      if (mySeq !== localeReqSeq.current) return;\n      const status = err?.status ?? err?.originalStatus;\n      if (status === 400) {\n        toast.info(\n          'Seçilen dil için kayıt listesi alınamadı; bu dilde yeni içerik oluşturabilirsin.',\n        );\n      } else {\n        toast.error('Seçilen dil için özel sayfa yüklenirken bir hata oluştu.');\n      }\n    }\n  };\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (disabled) return;\n\n    if (!values.title.trim() || !values.slug.trim()) {\n      toast.error('Başlık ve slug alanları zorunludur.');\n      return;\n    }\n\n    void onSubmit({\n      ...values,\n      page_id: values.page_id ?? initialData?.id ?? undefined,\n\n      locale: norm(values.locale || safeDefaultLocale) || safeDefaultLocale,\n      title: values.title.trim(),\n      slug: values.slug.trim(),\n      summary: values.summary.trim(),\n      meta_title: values.meta_title.trim(),\n      meta_description: values.meta_description.trim(),\n      tags: values.tags.trim(),\n    });\n  };\n\n  const localeSelectOptions = useMemo(\n    () => (locales ?? []).map((x) => ({ value: norm(x.value), label: x.label })),\n    [locales],\n  );\n\n  const imageMetadata = useMemo<Record<string, string | number | boolean>>(\n    () => ({\n      module_key: 'custom_pages',\n      locale: values.locale || safeDefaultLocale,\n      page_slug: values.slug || values.title || '',\n      ...(values.page_id || initialData?.id\n        ? { page_id: values.page_id ?? (initialData?.id as string) }\n        : {}),\n    }),\n    [values.locale, values.slug, values.title, values.page_id, safeDefaultLocale, initialData?.id],\n  );\n\n  const handleAddContentImage = (url: string, alt?: string) => {\n    if (!url) return;\n    const htmlBlock = buildContentImageHtml(url, alt ?? '', contentImageSize);\n\n    setContentImagePreview(url);\n    setValues((prev) => ({\n      ...prev,\n      content: (prev.content || '') + '\\n\\n' + htmlBlock + '\\n\\n',\n    }));\n    toast.success('Görsel içerik alanına eklendi. Editörde yerini değiştirebilirsin.');\n  };\n\n  const handleAddManualImage = () => {\n    const url = manualImageUrl.trim();\n    if (!url) {\n      toast.error(\"Lütfen geçerli bir görsel URL'i gir.\");\n      return;\n    }\n    handleAddContentImage(url, manualImageAlt.trim());\n    setManualImageUrl('');\n    setManualImageAlt('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div className=\"rounded-lg border bg-card\">\n        <div className=\"border-b p-3\">\n          <div className=\"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between\">\n            <div className=\"min-w-0\">\n              <div className=\"text-sm font-semibold\">\n                {mode === 'create' ? 'Yeni Sayfa Oluştur' : 'Sayfa Düzenle'}\n              </div>\n              <div className=\"text-xs text-muted-foreground\">\n                Başlık, slug, içerik, etiketler ve SEO alanlarını doldur.\n              </div>\n            </div>\n\n            <div className=\"flex flex-wrap items-center gap-2\">\n              <div className=\"inline-flex overflow-hidden rounded-md border\">\n                <button\n                  type=\"button\"\n                  className={[\n                    'px-3 py-1 text-xs',\n                    activeMode === 'form' ? 'bg-muted font-semibold' : 'bg-background',\n                  ].join(' ')}\n                  onClick={() => setActiveMode('form')}\n                  disabled={disabled}\n                >\n                  Form\n                </button>\n                <button\n                  type=\"button\"\n                  className={[\n                    'px-3 py-1 text-xs',\n                    activeMode === 'json' ? 'bg-muted font-semibold' : 'bg-background',\n                  ].join(' ')}\n                  onClick={() => setActiveMode('json')}\n                  disabled={disabled}\n                >\n                  JSON\n                </button>\n              </div>\n\n              {onCancel ? (\n                <button\n                  type=\"button\"\n                  className=\"rounded-md border px-3 py-1 text-xs\"\n                  onClick={onCancel}\n                  disabled={disabled}\n                >\n                  Geri\n                </button>\n              ) : null}\n\n              <button\n                type=\"submit\"\n                className=\"rounded-md bg-primary px-3 py-1 text-xs text-primary-foreground disabled:opacity-60\"\n                disabled={disabled}\n              >\n                {saving\n                  ? mode === 'create'\n                    ? 'Oluşturuluyor...'\n                    : 'Kaydediliyor...'\n                  : mode === 'create'\n                    ? 'Sayfayı Oluştur'\n                    : 'Değişiklikleri Kaydet'}\n              </button>\n\n              {loading || isLocaleSwitchLoading ? (\n                <span className=\"rounded-full border px-2 py-0.5 text-[11px] text-muted-foreground\">\n                  {isLocaleSwitchLoading ? 'Dil değiştiriliyor...' : 'Yükleniyor...'}\n                </span>\n              ) : null}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-3\">\n          {activeMode === 'json' ? (\n            <AdminJsonEditor\n              value={values}\n              disabled={disabled}\n              onChange={(next) => setValues(next as CustomPageFormValues)}\n              label=\"Custom Page JSON\"\n              helperText=\"Bu JSON, formdaki tüm alanların bire bir karşılığıdır.\"\n            />\n          ) : (\n            <>\n              <div className=\"mb-4\">\n                <AdminLocaleSelect\n                  value={values.locale}\n                  onChange={handleLocaleChange}\n                  options={localeSelectOptions as any}\n                  loading={!!localesLoading}\n                  disabled={\n                    disabled ||\n                    (!!localesLoading && !localeSelectOptions.length) ||\n                    isLocaleSwitchLoading\n                  }\n                  label=\"Dil\"\n                />\n                <div className=\"mt-1 text-xs text-muted-foreground\">\n                  Seçim; aynı zamanda düzenlediğin locale kaydını belirler.\n                </div>\n              </div>\n\n              <div className=\"grid gap-4 lg:grid-cols-12\">\n                <div className=\"lg:col-span-8\">\n                  <CustomPageMainColumn\n                    values={values}\n                    disabled={disabled}\n                    slugTouched={slugTouched}\n                    setSlugTouched={setSlugTouched}\n                    setValues={setValues}\n                    handleChange={handleChange}\n                    handleCheckboxChange={handleCheckboxChange}\n                  />\n                </div>\n\n                <div className=\"lg:col-span-4 space-y-4\">\n                  <CustomPageFormImageColumn\n                    metadata={imageMetadata}\n                    disabled={disabled}\n                    featuredImageValue={values.featured_image}\n                    onFeaturedImageChange={(url) =>\n                      setValues((prev) => ({ ...prev, featured_image: url }))\n                    }\n                    galleryUrls={values.images}\n                    onGalleryUrlsChange={(urls) => setValues((prev) => ({ ...prev, images: urls }))}\n                    onSelectAsCover={(url) =>\n                      setValues((prev) => ({ ...prev, featured_image: url }))\n                    }\n                  />\n\n                  <CustomPageSidebarColumn\n                    values={values}\n                    disabled={disabled}\n                    imageMetadata={imageMetadata}\n                    contentImageSize={contentImageSize}\n                    setContentImageSize={setContentImageSize}\n                    contentImagePreview={contentImagePreview}\n                    handleAddContentImage={handleAddContentImage}\n                    manualImageUrl={manualImageUrl}\n                    manualImageAlt={manualImageAlt}\n                    setManualImageUrl={setManualImageUrl}\n                    setManualImageAlt={setManualImageAlt}\n                    handleAddManualImage={handleAddManualImage}\n                    setValues={setValues}\n                  />\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </form>\n  );\n};\n","// =============================================================\n// FILE: src/app/(main)/admin/(admin)/custompage/_components/CustomPageMainColumn.tsx\n// FINAL — Main column: publish, title, slug, summary, rich content\n// - ✅ Uses RichContentEditor (new common path)\n// - ✅ No locale select here (single source in CustomPageForm)\n// =============================================================\n\n'use client';\n\nimport React from 'react';\nimport type { CustomPageFormValues } from './CustomPageForm';\n\nimport RichContentEditor from '@/app/(main)/admin/_components/common/RichContentEditor';\n\n/* slugify */\nconst slugify = (value: string): string => {\n  if (!value) return '';\n\n  let s = value.trim();\n\n  const trMap: Record<string, string> = {\n    ç: 'c',\n    Ç: 'c',\n    ğ: 'g',\n    Ğ: 'g',\n    ı: 'i',\n    I: 'i',\n    İ: 'i',\n    ö: 'o',\n    Ö: 'o',\n    ş: 's',\n    Ş: 's',\n    ü: 'u',\n    Ü: 'u',\n  };\n\n  s = s\n    .split('')\n    .map((ch) => trMap[ch] ?? ch)\n    .join('');\n\n  s = s.replace(/ß/g, 'ss').replace(/ẞ/g, 'ss');\n\n  return s\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .replace(/[^a-z0-9\\s-]/g, '')\n    .trim()\n    .replace(/\\s+/g, '-')\n    .replace(/-+/g, '-');\n};\n\ntype Props = {\n  values: CustomPageFormValues;\n  disabled: boolean;\n  slugTouched: boolean;\n  setSlugTouched: (v: boolean) => void;\n  setValues: React.Dispatch<React.SetStateAction<CustomPageFormValues>>;\n  handleChange: (\n    field: keyof CustomPageFormValues,\n  ) => (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n  handleCheckboxChange: (\n    field: keyof CustomPageFormValues,\n  ) => (e: React.ChangeEvent<HTMLInputElement>) => void;\n};\n\nexport const CustomPageMainColumn: React.FC<Props> = ({\n  values,\n  disabled,\n  slugTouched,\n  setSlugTouched,\n  setValues,\n  handleChange,\n  handleCheckboxChange,\n}) => {\n  return (\n    <div className=\"space-y-4\">\n      <label className=\"flex items-center gap-2 text-sm\">\n        <input\n          id=\"is_published\"\n          type=\"checkbox\"\n          className=\"h-4 w-4\"\n          checked={values.is_published}\n          onChange={handleCheckboxChange('is_published')}\n          disabled={disabled}\n        />\n        <span>Yayında olsun</span>\n      </label>\n\n      <div>\n        <label className=\"mb-1 block text-xs text-muted-foreground\">Başlık</label>\n        <input\n          type=\"text\"\n          className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n          value={values.title}\n          onChange={(e) => {\n            const titleValue = e.target.value;\n            setValues((prev) => {\n              const next: CustomPageFormValues = { ...prev, title: titleValue };\n              if (!slugTouched) next.slug = slugify(titleValue);\n              return next;\n            });\n          }}\n          disabled={disabled}\n          required\n        />\n      </div>\n\n      <div>\n        <label className=\"mb-1 block text-xs text-muted-foreground\">Slug</label>\n        <input\n          type=\"text\"\n          className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n          value={values.slug}\n          onFocus={() => setSlugTouched(true)}\n          onChange={(e) => {\n            setSlugTouched(true);\n            setValues((prev) => ({ ...prev, slug: e.target.value }));\n          }}\n          disabled={disabled}\n          required\n        />\n      </div>\n\n      <div>\n        <label className=\"mb-1 block text-xs text-muted-foreground\">Özet (Summary)</label>\n        <textarea\n          className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n          rows={3}\n          value={values.summary}\n          onChange={handleChange('summary')}\n          disabled={disabled}\n        />\n      </div>\n\n      <div>\n        <div className=\"mb-1 text-xs text-muted-foreground\">İçerik (zengin metin / HTML)</div>\n        <RichContentEditor\n          value={values.content}\n          disabled={disabled}\n          onChange={(html: string) => setValues((prev) => ({ ...prev, content: html }))}\n        />\n      </div>\n    </div>\n  );\n};\n","// =============================================================\n// FILE: src/app/(main)/admin/(admin)/custompage/_components/CustomPageSidebarColumn.tsx\n// FINAL — Sidebar: tags, content-image insertion, SEO\n// - ✅ Uses AdminImageUploadField (new path)\n// - ✅ No category/subcategory\n// =============================================================\n\n'use client';\n\nimport React from 'react';\n\nimport { AdminImageUploadField } from '@/app/(main)/admin/_components/common/AdminImageUploadField';\nimport type { ContentImageSize, CustomPageFormValues } from './CustomPageForm';\n\ntype Props = {\n  values: CustomPageFormValues;\n  disabled: boolean;\n\n  imageMetadata: Record<string, string | number | boolean>;\n\n  contentImageSize: ContentImageSize;\n  setContentImageSize: (s: ContentImageSize) => void;\n  contentImagePreview: string;\n  handleAddContentImage: (url: string, alt?: string) => void;\n\n  manualImageUrl: string;\n  manualImageAlt: string;\n  setManualImageUrl: (v: string) => void;\n  setManualImageAlt: (v: string) => void;\n  handleAddManualImage: () => void;\n\n  setValues: React.Dispatch<React.SetStateAction<CustomPageFormValues>>;\n};\n\nexport const CustomPageSidebarColumn: React.FC<Props> = ({\n  values,\n  disabled,\n  imageMetadata,\n  contentImageSize,\n  setContentImageSize,\n  contentImagePreview,\n  handleAddContentImage,\n  manualImageUrl,\n  manualImageAlt,\n  setManualImageUrl,\n  setManualImageAlt,\n  handleAddManualImage,\n  setValues,\n}) => {\n  return (\n    <div className=\"rounded-lg border bg-card p-3 space-y-4\">\n      <div>\n        <label className=\"mb-1 block text-xs text-muted-foreground\">Etiketler (Tags)</label>\n        <input\n          type=\"text\"\n          className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n          placeholder=\"ör: guezelwebdesign, kampanya, blog\"\n          value={values.tags}\n          onChange={(e) => setValues((prev) => ({ ...prev, tags: e.target.value }))}\n          disabled={disabled}\n        />\n      </div>\n\n      <div>\n        <label className=\"mb-1 block text-xs text-muted-foreground\">İçerik Görsel Boyutu</label>\n        <select\n          className=\"w-full rounded-md border bg-background px-2 py-2 text-sm\"\n          value={contentImageSize}\n          onChange={(e) => setContentImageSize(e.target.value as ContentImageSize)}\n          disabled={disabled}\n        >\n          <option value=\"sm\">Küçük (1/2)</option>\n          <option value=\"md\">Orta (3/4)</option>\n          <option value=\"lg\">Büyük (varsayılan)</option>\n          <option value=\"full\">Tam genişlik</option>\n        </select>\n      </div>\n\n      <AdminImageUploadField\n        label=\"İçerik Görselleri (Yükle)\"\n        helperText={<>Yüklenen görsel içerik alanının sonuna blok olarak eklenir.</>}\n        bucket=\"public\"\n        folder=\"custom_pages/content\"\n        metadata={{ ...(imageMetadata || {}), section: 'content' }}\n        multiple\n        value={contentImagePreview}\n        onChange={(url) => handleAddContentImage(url)}\n        disabled={disabled}\n        openLibraryHref=\"/admin/storage\"\n      />\n\n      <div className=\"space-y-2\">\n        <label className=\"block text-xs text-muted-foreground\">\n          Serbest URL ile İçerik Görseli\n        </label>\n        <input\n          type=\"url\"\n          className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n          placeholder=\"https://... (görsel URL'i)\"\n          value={manualImageUrl}\n          onChange={(e) => setManualImageUrl(e.target.value)}\n          disabled={disabled}\n        />\n        <input\n          type=\"text\"\n          className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n          placeholder=\"Alt metin (opsiyonel)\"\n          value={manualImageAlt}\n          onChange={(e) => setManualImageAlt(e.target.value)}\n          disabled={disabled}\n        />\n        <button\n          type=\"button\"\n          className=\"rounded-md border px-3 py-2 text-xs disabled:opacity-60\"\n          onClick={handleAddManualImage}\n          disabled={disabled}\n        >\n          Serbest URL&apos;yi İçeriğe Ekle\n        </button>\n      </div>\n\n      <div>\n        <label className=\"mb-1 block text-xs text-muted-foreground\">Meta Title</label>\n        <input\n          type=\"text\"\n          className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n          value={values.meta_title}\n          onChange={(e) => setValues((prev) => ({ ...prev, meta_title: e.target.value }))}\n          disabled={disabled}\n        />\n      </div>\n\n      <div>\n        <label className=\"mb-1 block text-xs text-muted-foreground\">Meta Description</label>\n        <textarea\n          className=\"w-full rounded-md border bg-background px-3 py-2 text-sm\"\n          rows={3}\n          value={values.meta_description}\n          onChange={(e) => setValues((prev) => ({ ...prev, meta_description: e.target.value }))}\n          disabled={disabled}\n        />\n      </div>\n    </div>\n  );\n};\n","// =============================================================\n// FILE: src/app/(main)/admin/(admin)/custompage/_components/CustomPageFormImageColumn.tsx\n// FINAL — Cover + Gallery (multi) + \"set as cover\"\n// - ✅ App Router: next/navigation\n// - ✅ uses AdminImageUploadField (new path)\n// - ✅ no inline styles\n// =============================================================\n\n'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\n\nimport { AdminImageUploadField } from '@/app/(main)/admin/_components/common/AdminImageUploadField';\n\nexport type CustomPageFormImageColumnProps = {\n  metadata?: Record<string, string | number | boolean>;\n  disabled: boolean;\n\n  featuredImageValue: string;\n  onFeaturedImageChange: (url: string) => void;\n\n  galleryUrls?: string[];\n  onGalleryUrlsChange?: (urls: string[]) => void;\n\n  onSelectAsCover?: (url: string) => void;\n};\n\nexport const CustomPageFormImageColumn: React.FC<CustomPageFormImageColumnProps> = ({\n  metadata,\n  disabled,\n  featuredImageValue,\n  onFeaturedImageChange,\n  galleryUrls,\n  onGalleryUrlsChange,\n  onSelectAsCover,\n}) => {\n  const router = useRouter();\n\n  return (\n    <div className=\"space-y-4\">\n      <AdminImageUploadField\n        label=\"Öne Çıkan Görsel (Kapak)\"\n        helperText={\n          <>\n            Bu sayfa için bir <strong>kapak/öne çıkan</strong> görsel yükleyebilirsin. Seçim{' '}\n            <code>custom_pages.featured_image</code> alanına yazılır.\n          </>\n        }\n        bucket=\"public\"\n        folder=\"custom_pages/cover\"\n        metadata={{ ...(metadata || {}), section: 'cover' }}\n        value={featuredImageValue}\n        onChange={(url) => onFeaturedImageChange(url)}\n        disabled={disabled}\n        openLibraryHref=\"/admin/storage\"\n        onOpenLibraryClick={() => router.push('/admin/storage')}\n      />\n\n      {onGalleryUrlsChange ? (\n        <AdminImageUploadField\n          label=\"Galeri Görselleri\"\n          helperText={\n            <>\n              Birden fazla görsel yükleyip sayfaya galeri tanımlayabilirsin. Galerideki{' '}\n              <strong>Kapak</strong> butonu ile seçilen görseli kapak olarak atayabilirsin.\n            </>\n          }\n          bucket=\"public\"\n          folder=\"custom_pages/gallery\"\n          metadata={{ ...(metadata || {}), section: 'gallery' }}\n          multiple\n          values={galleryUrls ?? []}\n          onChangeMultiple={onGalleryUrlsChange}\n          onSelectAsCover={(url) =>\n            onSelectAsCover ? onSelectAsCover(url) : onFeaturedImageChange(url)\n          }\n          coverValue={featuredImageValue}\n          disabled={disabled}\n          openLibraryHref=\"/admin/storage\"\n          onOpenLibraryClick={() => router.push('/admin/storage')}\n        />\n      ) : null}\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}
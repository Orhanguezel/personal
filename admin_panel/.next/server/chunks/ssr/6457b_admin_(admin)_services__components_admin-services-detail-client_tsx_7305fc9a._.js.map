{"version":3,"sources":["../../../../src/app/%28main%29/admin/%28admin%29/services/_components/admin-services-detail-client.tsx","../../../../src/app/%28main%29/admin/%28admin%29/services/serviceForm/ServiceForm.tsx","../../../../src/app/%28main%29/admin/%28admin%29/services/serviceForm/serviceForm.utils.ts","../../../../src/app/%28main%29/admin/%28admin%29/services/serviceForm/ServiceFormImageColumn.tsx","../../../../src/app/%28main%29/admin/%28admin%29/services/serviceForm/useServiceEditorImageUpload.ts"],"sourcesContent":["'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/services/admin-services-detail-client.tsx\n// FINAL — Admin Service Detail (Create/Edit) (App Router + shadcn)\n// - Bootstrap yok, inline style yok\n// - Locale: useAdminLocales + URL sync (?locale=)\n// - id: \"new\" => create\n// - ServiceForm şimdilik eski component (bir sonraki adımda refactor)\n// =============================================================\n\nimport * as React from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { toast } from 'sonner';\nimport { ArrowLeft, Save, RefreshCcw } from 'lucide-react';\n\nimport { useAdminLocales } from '@/app/(main)/admin/_components/common/useAdminLocales';\nimport { resolveAdminApiLocale } from '@/i18n/adminLocale';\nimport { localeShortClient, localeShortClientOr } from '@/i18n/localeShortClient';\nimport { useAdminT } from '@/app/(main)/admin/_components/common/useAdminT';\n\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Card, CardContent } from '@/components/ui/card';\n\nimport { ServiceForm } from '@/app/(main)/admin/(admin)/services/serviceForm/ServiceForm';\n\nimport type {\n  ServiceCreatePayload,\n  ServiceUpdatePayload,\n  ServiceFormValues,\n  ServiceDto,\n} from '@/integrations/shared';\nimport {\n  useGetServiceAdminQuery,\n  useCreateServiceAdminMutation,\n  useUpdateServiceAdminMutation,\n} from '@/integrations/hooks';\n\nfunction isUuidLike(v?: string) {\n  if (!v) return false;\n  return /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(v);\n}\n\nconst normalizeLocale = (v: unknown): string =>\n  String(v ?? '')\n    .trim()\n    .toLowerCase();\n\nfunction getErrMessage(err: unknown, fallback: string): string {\n  const anyErr = err as any;\n  const m1 = anyErr?.data?.error?.message;\n  if (typeof m1 === 'string' && m1.trim()) return m1;\n  const m2 = anyErr?.data?.message;\n  if (typeof m2 === 'string' && m2.trim()) return m2;\n  const m3 = anyErr?.error;\n  if (typeof m3 === 'string' && m3.trim()) return m3;\n  return fallback;\n}\n\nexport default function AdminServiceDetailClient({ id }: { id: string }) {\n  const t = useAdminT();\n  const router = useRouter();\n  const sp = useSearchParams();\n\n  const isCreateMode = String(id) === 'new';\n\n  const {\n    localeOptions,\n    defaultLocaleFromDb,\n    loading: localesLoading,\n    fetching: localesFetching,\n  } = useAdminLocales();\n\n  const apiLocaleFromDb = React.useMemo(() => {\n    return resolveAdminApiLocale(localeOptions as any, defaultLocaleFromDb, 'de');\n  }, [localeOptions, defaultLocaleFromDb]);\n\n  const localeSet = React.useMemo(() => {\n    return new Set(\n      (localeOptions ?? []).map((x: any) => localeShortClient(x.value)).filter(Boolean),\n    );\n  }, [localeOptions]);\n\n  const urlLocale = React.useMemo(() => {\n    const q = sp?.get('locale');\n    return localeShortClient(q) || '';\n  }, [sp]);\n\n  // active locale (state, URL sync)\n  const [activeLocale, setActiveLocale] = React.useState<string>('');\n\n  React.useEffect(() => {\n    if (!localeOptions || localeOptions.length === 0) return;\n\n    setActiveLocale((prev) => {\n      const p = localeShortClient(prev);\n      const u = localeShortClient(urlLocale);\n      const def = localeShortClientOr(apiLocaleFromDb, 'de');\n\n      const canUse = (l: string) => !!l && (localeSet.size === 0 || localeSet.has(l));\n\n      if (p && canUse(p)) return p;\n      if (u && canUse(u)) return u;\n      if (def && canUse(def)) return def;\n\n      const first = localeShortClient((localeOptions as any)?.[0]?.value);\n      return first || 'de';\n    });\n  }, [localeOptions, localeSet, urlLocale, apiLocaleFromDb]);\n\n  const queryLocale = React.useMemo(() => {\n    const l = localeShortClient(activeLocale);\n    if (l && (localeSet.size === 0 || localeSet.has(l))) return l;\n    return localeShortClientOr(apiLocaleFromDb, 'de');\n  }, [activeLocale, localeSet, apiLocaleFromDb]);\n\n  // locale -> URL sync\n  React.useEffect(() => {\n    const l = localeShortClient(activeLocale);\n    if (!l) return;\n    if (l === urlLocale) return;\n\n    const params = new URLSearchParams(sp?.toString() || '');\n    params.set('locale', l);\n\n    if (isCreateMode) {\n      router.replace(`/admin/services/new?${params.toString()}`);\n    } else {\n      router.replace(`/admin/services/${encodeURIComponent(String(id))}?${params.toString()}`);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeLocale]);\n\n  const localesReady = !localesLoading && !localesFetching;\n  const hasLocales = (localeOptions?.length ?? 0) > 0;\n\n  const shouldSkipDetail = isCreateMode || !isUuidLike(String(id || '')) || !queryLocale;\n\n  const {\n    data: service,\n    isLoading: isLoadingService,\n    isFetching: isFetchingService,\n    error: serviceError,\n    refetch,\n  } = useGetServiceAdminQuery(\n    { id: String(id), locale: queryLocale } as any,\n    { skip: shouldSkipDetail } as any,\n  );\n\n  const [createService, createState] = useCreateServiceAdminMutation();\n  const [updateService, updateState] = useUpdateServiceAdminMutation();\n\n  const loading = localesLoading || localesFetching || isLoadingService || isFetchingService;\n  const saving = createState.isLoading || updateState.isLoading;\n  const busy = loading || saving;\n\n  function onCancel() {\n    router.push(`/admin/services?locale=${encodeURIComponent(queryLocale || 'de')}`);\n  }\n\n  async function onSubmit(values: ServiceFormValues) {\n    try {\n      const loc = normalizeLocale(values.locale || queryLocale || apiLocaleFromDb);\n      if (!loc || (localeSet.size > 0 && !localeSet.has(localeShortClient(loc)))) {\n        toast.error(t('admin.services.formHeader.localeError'));\n        return;\n      }\n\n      const common: any = {\n        featured: values.featured,\n        is_active: values.is_active,\n        display_order: values.display_order ? Number(values.display_order) : undefined,\n\n        featured_image: values.featured_image || null,\n        image_url: values.image_url || null,\n        image_asset_id: values.image_asset_id || null,\n\n        area: values.area || null,\n        duration: values.duration || null,\n        maintenance: values.maintenance || null,\n        season: values.season || null,\n        equipment: values.equipment || null,\n\n        locale: loc,\n        name: values.name?.trim() || '',\n        slug: values.slug?.trim() || '',\n\n        description: values.description || undefined,\n        material: values.material || undefined,\n        price: values.price || undefined,\n        includes: values.includes || undefined,\n        warranty: values.warranty || undefined,\n        image_alt: values.image_alt || undefined,\n\n        tags: values.tags || null,\n        meta_title: values.meta_title || null,\n        meta_description: values.meta_description || null,\n        meta_keywords: values.meta_keywords || null,\n      };\n\n      if (!common.name || !common.slug) {\n        toast.error(t('admin.services.formHeader.nameSlugRequired'));\n        return;\n      }\n\n      if (isCreateMode) {\n        const payload: ServiceCreatePayload = {\n          ...common,\n          replicate_all_locales: (values as any).replicate_all_locales,\n        };\n\n        const created = await createService(payload as any).unwrap();\n        const nextId = String((created as any)?.id ?? '').trim();\n\n        if (!isUuidLike(nextId)) {\n          toast.error(t('admin.services.formHeader.createdNoId'));\n          return;\n        }\n\n        toast.success(t('admin.services.formHeader.created'));\n        router.replace(\n          `/admin/services/${encodeURIComponent(nextId)}?locale=${encodeURIComponent(\n            localeShortClient(loc) || loc,\n          )}`,\n        );\n        router.refresh();\n        return;\n      }\n\n      const currentId = String((service as any)?.id ?? id);\n      if (!isUuidLike(currentId)) {\n        toast.error(t('admin.services.formHeader.idNotFound'));\n        return;\n      }\n\n      const patch: ServiceUpdatePayload = {\n        ...common,\n        apply_all_locales: (values as any).apply_all_locales,\n      };\n\n      await updateService({ id: currentId, patch } as any).unwrap();\n      toast.success(t('admin.services.formHeader.updated'));\n\n      const short = localeShortClient(loc);\n      if (short && short !== queryLocale) setActiveLocale(short);\n    } catch (err) {\n      toast.error(getErrMessage(err, t('admin.services.formHeader.defaultError')));\n    }\n  }\n\n  // Guards\n  if (localesReady && !hasLocales) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"space-y-1\">\n          <h1 className=\"text-lg font-semibold\">{t('admin.services.formHeader.noLocalesTitle')}</h1>\n          <p className=\"text-sm text-muted-foreground\">\n            {t('admin.services.formHeader.noLocalesDescription')}\n          </p>\n        </div>\n\n        <Card>\n          <CardContent className=\"flex items-center justify-between pt-6\">\n            <Button variant=\"outline\" onClick={() => router.push('/admin/site-settings')}>\n              {t('admin.services.formHeader.goToSettings')}\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (!isCreateMode && !isUuidLike(String(id || ''))) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"space-y-1\">\n          <h1 className=\"text-lg font-semibold\">{t('admin.services.formHeader.invalidIdTitle')}</h1>\n          <p className=\"text-sm text-muted-foreground\">\n            {t('admin.services.formHeader.invalidIdDescription')} <code className=\"wrap-break-word\">{String(id || '-')}</code>\n          </p>\n        </div>\n\n        <Card>\n          <CardContent className=\"flex items-center justify-between pt-6\">\n            <Button variant=\"outline\" onClick={onCancel}>\n              <ArrowLeft className=\"mr-2 size-4\" />\n              {t('admin.services.formHeader.backToList')}\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (!isCreateMode && !loading && !service && serviceError) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"space-y-1\">\n          <h1 className=\"text-lg font-semibold\">{t('admin.services.formHeader.notFoundTitle')}</h1>\n          <p className=\"text-sm text-muted-foreground\">\n            {t('admin.services.formHeader.notFoundDescription')} <code className=\"wrap-break-word\">{String(id)}</code>\n          </p>\n        </div>\n\n        <Card>\n          <CardContent className=\"flex items-center justify-between pt-6\">\n            <Button variant=\"outline\" onClick={onCancel}>\n              <ArrowLeft className=\"mr-2 size-4\" />\n              {t('admin.services.formHeader.backToList')}\n            </Button>\n            <Button variant=\"outline\" onClick={() => refetch()}>\n              <RefreshCcw className=\"mr-2 size-4\" />\n              {t('admin.services.formHeader.retryButton')}\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const pageTitle = isCreateMode\n    ? t('admin.services.formHeader.createTitle')\n    : (service as any)?.name || t('admin.services.formHeader.editTitle');\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col gap-3 md:flex-row md:items-center md:justify-between\">\n        <div className=\"space-y-1\">\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Button variant=\"outline\" onClick={() => router.back()} disabled={busy}>\n              <ArrowLeft className=\"mr-2 size-4\" />\n              {t('admin.services.formHeader.backButton')}\n            </Button>\n            <h1 className=\"text-lg font-semibold\">{pageTitle}</h1>\n          </div>\n\n          <p className=\"text-sm text-muted-foreground\">\n            {t('admin.services.formHeader.description')}\n          </p>\n\n          <div className=\"flex flex-wrap items-center gap-2 text-sm text-muted-foreground\">\n            <span>{t('admin.services.formHeader.activeLocale')}</span>\n            <Badge variant=\"secondary\">{queryLocale || '-'}</Badge>\n            {isCreateMode ? <Badge>CREATE</Badge> : <Badge variant=\"secondary\">EDIT</Badge>}\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"outline\" onClick={onCancel} disabled={busy}>\n            {t('admin.services.formHeader.cancelButton')}\n          </Button>\n          <Button\n            onClick={() => (document.getElementById('service-form-submit') as any)?.click?.()}\n            disabled={busy}\n          >\n            <Save className=\"mr-2 size-4\" />\n            {t('admin.services.formHeader.saveButton')}\n          </Button>\n        </div>\n      </div>\n\n      {/* ServiceForm: şimdilik mevcut bileşen (bir sonraki adımda shadcn refactor) */}\n      <ServiceForm\n        mode={isCreateMode ? 'create' : 'edit'}\n        initialData={!isCreateMode && service ? (service as unknown as ServiceDto) : undefined}\n        loading={loading}\n        saving={saving}\n        locales={(localeOptions ?? []) as any}\n        localesLoading={localesLoading || localesFetching}\n        defaultLocale={queryLocale || apiLocaleFromDb || 'de'}\n        onSubmit={onSubmit}\n        onCancel={onCancel}\n        onLocaleChange={(loc: string) =>\n          setActiveLocale(localeShortClientOr(loc, queryLocale || 'de'))\n        }\n      />\n    </div>\n  );\n}\n","'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/services/_components/serviceForm/ServiceForm.tsx\n// guezelwebdesign – Admin Service Create/Edit Form (FINAL)\n// - shadcn/tailwind theme\n// - Locale source: useAdminLocales()\n// - Canonical cover: image_url (+ legacy featured_image mirror)\n// - Null-safe submit: empty => null\n// - tags + meta_* fields\n// - Gallery: ServiceFormImageColumn (DB-backed)\n// =============================================================\n\nimport * as React from 'react';\nimport { toast } from 'sonner';\n\nimport type { ServiceDto, ServiceFormProps, ServiceFormValues } from '@/integrations/shared';\n\nimport { useAdminLocales } from '@/app/(main)/admin/_components/common/useAdminLocales';\nimport { useAdminT } from '@/app/(main)/admin/_components/common/useAdminT';\n\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\n\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Separator } from '@/components/ui/separator';\n\nimport { Checkbox } from '@/components/ui/checkbox';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\n\nimport { AdminJsonEditor } from '@/app/(main)/admin/_components/common/AdminJsonEditor';\nimport RichContentEditor from '@/app/(main)/admin/_components/common/RichContentEditor';\n\nimport { buildInitialValues, normalizeLocale, slugify } from './serviceForm.utils';\nimport { ServiceFormImageColumn } from './ServiceFormImageColumn';\nimport { useServiceEditorImageUpload } from './useServiceEditorImageUpload';\n\nconst norm = (v: unknown) => String(v ?? '').trim();\nconst toNull = (v: unknown) => {\n  const s = norm(v);\n  return s ? s : null;\n};\nconst toInt = (v: unknown, fallback = 0) => {\n  const n = Number(String(v ?? '').trim());\n  return Number.isFinite(n) ? n : fallback;\n};\n\ntype LocaleOption = { value: string; label: string };\n\nexport const ServiceForm: React.FC<ServiceFormProps> = ({\n  mode,\n  initialData,\n  loading,\n  saving,\n  // legacy props kept for compatibility; ignored for locale source\n  locales: _localesIgnored,\n  localesLoading: _localesLoadingIgnored,\n  defaultLocale,\n  onSubmit,\n  onCancel,\n  onLocaleChange,\n}) => {\n  const adminLocales = useAdminLocales() as any;\n  const t = useAdminT();\n\n  const localesLoading: boolean =\n    !!adminLocales?.loading || !!adminLocales?.isLoading || !!adminLocales?.isFetching;\n\n  const defaultLocaleFromHook = normalizeLocale(\n    adminLocales?.defaultLocale ?? adminLocales?.default_locale ?? adminLocales?.default ?? '',\n  );\n\n  const localeOptions: LocaleOption[] = React.useMemo(() => {\n    const raw = Array.isArray(adminLocales?.locales)\n      ? adminLocales.locales\n      : Array.isArray(adminLocales?.options)\n        ? adminLocales.options\n        : Array.isArray(adminLocales?.localeOptions)\n          ? adminLocales.localeOptions\n          : [];\n\n    return raw\n      .map((x: any) => ({\n        value: normalizeLocale(x?.value ?? x?.code ?? x),\n        label: String(x?.label ?? x?.name ?? x?.value ?? x?.code ?? x ?? '').trim(),\n      }))\n      .filter((x: LocaleOption) => !!x.value)\n      .map((x: LocaleOption) => ({ value: x.value, label: x.label || x.value.toUpperCase() }));\n  }, [adminLocales]);\n\n  const fallbackLocale = React.useMemo(() => {\n    const def = normalizeLocale(\n      defaultLocale || defaultLocaleFromHook || localeOptions?.[0]?.value || '',\n    );\n    return def || '';\n  }, [defaultLocale, defaultLocaleFromHook, localeOptions]);\n\n  const [values, setValues] = React.useState<ServiceFormValues>(() =>\n    buildInitialValues(initialData as ServiceDto | undefined, defaultLocale, fallbackLocale),\n  );\n\n  const [slugTouched, setSlugTouched] = React.useState(false);\n\n  React.useEffect(() => {\n    const next = buildInitialValues(\n      initialData as ServiceDto | undefined,\n      defaultLocale,\n      fallbackLocale,\n    );\n\n    // cover single source\n    const coverFromDb =\n      norm((initialData as any)?.image_url) || norm((initialData as any)?.featured_image) || '';\n    const coverFromNext =\n      norm((next as any)?.image_url) || norm((next as any)?.featured_image) || '';\n    const cover = coverFromNext || coverFromDb || '';\n\n    setValues({\n      ...next,\n      image_url: cover,\n      featured_image: cover,\n\n      tags: norm((next as any)?.tags) || norm((initialData as any)?.tags),\n      meta_title: norm((next as any)?.meta_title) || norm((initialData as any)?.meta_title),\n      meta_description:\n        norm((next as any)?.meta_description) || norm((initialData as any)?.meta_description),\n      meta_keywords:\n        norm((next as any)?.meta_keywords) || norm((initialData as any)?.meta_keywords),\n    });\n\n    setSlugTouched(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialData, defaultLocale, fallbackLocale]);\n\n  const disabled = loading || saving;\n\n  const effectiveLocale = normalizeLocale(values.locale || fallbackLocale);\n\n  // ensure locale valid once locales loaded\n  React.useEffect(() => {\n    if (localesLoading) return;\n    const list = localeOptions.map((x) => x.value);\n    const cur = normalizeLocale(values.locale);\n    const next =\n      (cur && list.includes(cur) ? cur : normalizeLocale(fallbackLocale)) || list[0] || '';\n\n    if (next && next !== cur) {\n      setValues((prev) => ({ ...prev, locale: next }));\n      onLocaleChange?.(next);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [localesLoading, localeOptions, fallbackLocale]);\n\n  const imageMetadata = React.useMemo(\n    () => ({\n      module_key: 'service',\n      locale: effectiveLocale,\n      service_slug: values.slug || values.name || '',\n      ...(values.id ? { service_id: values.id } : {}),\n    }),\n    [effectiveLocale, values.slug, values.name, values.id],\n  );\n\n  const { onUpload } = useServiceEditorImageUpload({ metadata: imageMetadata });\n\n  const coverValue = norm(values.image_url) || norm(values.featured_image);\n\n  const handleLocaleChange = (nextLocaleRaw: string) => {\n    const next = normalizeLocale(nextLocaleRaw);\n    const list = localeOptions.map((x) => x.value);\n    const resolved = next && list.includes(next) ? next : normalizeLocale(fallbackLocale);\n\n    if (!resolved) {\n      toast.error(t('admin.services.form.localeRequired'));\n      return;\n    }\n\n    setValues((prev) => ({ ...prev, locale: resolved }));\n    onLocaleChange?.(resolved);\n  };\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (disabled) return;\n\n    const loc = normalizeLocale(values.locale || fallbackLocale);\n    if (!loc) {\n      toast.error(t('admin.services.form.localeRequired'));\n      return;\n    }\n\n    if (!values.name.trim() || !values.slug.trim()) {\n      toast.error(t('admin.services.form.nameSlugRequired'));\n      return;\n    }\n\n    const cover = norm(values.image_url) || norm(values.featured_image);\n\n    const payload = {\n      ...values,\n\n      locale: loc,\n      name: values.name.trim(),\n      slug: values.slug.trim(),\n      description: String(values.description || ''),\n\n      featured: !!values.featured,\n      is_active: !!values.is_active,\n      display_order: toInt(values.display_order, 0),\n\n      image_url: toNull(cover),\n      featured_image: toNull(cover),\n      image_asset_id: toNull(values.image_asset_id),\n\n      image_alt: toNull(values.image_alt),\n      material: toNull(values.material),\n      price: toNull(values.price),\n      includes: toNull(values.includes),\n      warranty: toNull(values.warranty),\n\n      tags: toNull(values.tags),\n      meta_title: toNull(values.meta_title),\n      meta_description: toNull(values.meta_description),\n      meta_keywords: toNull(values.meta_keywords),\n\n      area: toNull(values.area),\n      duration: toNull(values.duration),\n      maintenance: toNull(values.maintenance),\n      season: toNull(values.season),\n      equipment: toNull(values.equipment),\n    };\n\n    void onSubmit(payload as any);\n  };\n\n  const localeDisabled = disabled || localesLoading || localeOptions.length === 0;\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <Card>\n        <CardHeader className=\"gap-2\">\n          <div className=\"flex flex-col gap-2 md:flex-row md:items-start md:justify-between\">\n            <div className=\"space-y-1\">\n              <CardTitle className=\"text-base\">\n                {mode === 'create' ? t('admin.services.form.createTitle') : t('admin.services.form.editTitle')}\n              </CardTitle>\n              <CardDescription>\n                {t('admin.services.form.description')}\n              </CardDescription>\n            </div>\n\n            <div className=\"flex flex-wrap items-center gap-2 md:justify-end\">\n              {loading ? <Badge variant=\"secondary\">{t('admin.services.form.loading')}</Badge> : null}\n\n              {onCancel ? (\n                <Button type=\"button\" variant=\"outline\" onClick={onCancel} disabled={disabled}>\n                  {t('admin.services.form.backButton')}\n                </Button>\n              ) : null}\n\n              <Button type=\"submit\" disabled={disabled}>\n                {saving ? (mode === 'create' ? t('admin.services.form.creating') : t('admin.services.form.saving')) : (mode === 'create' ? t('admin.services.form.createButton') : t('admin.services.form.saveButton'))}\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"space-y-4\">\n          <Tabs defaultValue=\"form\">\n            <TabsList>\n              <TabsTrigger value=\"form\">{t('admin.services.form.formTab')}</TabsTrigger>\n              <TabsTrigger value=\"json\">{t('admin.services.form.jsonTab')}</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"json\" className=\"mt-4\">\n              <AdminJsonEditor\n                value={values}\n                disabled={disabled}\n                onChange={(next) => setValues(next as ServiceFormValues)}\n                label={t('admin.services.form.jsonLabel')}\n                helperText={t('admin.services.form.jsonHelperText')}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"form\" className=\"mt-4\">\n              <div className=\"grid gap-6 lg:grid-cols-12\">\n                {/* LEFT */}\n                <div className=\"space-y-4 lg:col-span-8\">\n                  {/* Locale + flags */}\n                  <div className=\"grid gap-4 md:grid-cols-3\">\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.localeLabel')}</Label>\n                      <Select\n                        value={normalizeLocale(values.locale) || ''}\n                        onValueChange={handleLocaleChange}\n                        disabled={localeDisabled}\n                      >\n                        <SelectTrigger>\n                          <SelectValue placeholder={t('admin.services.form.localePlaceholder')} />\n                        </SelectTrigger>\n                        <SelectContent>\n                          {localeOptions.map((opt) => (\n                            <SelectItem key={`${opt.value}:${opt.label}`} value={opt.value}>\n                              {opt.label}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n\n                      {!localesLoading && localeOptions.length === 0 ? (\n                        <p className=\"text-xs text-destructive\">\n                          {t('admin.services.form.localeEmptyError')}\n                        </p>\n                      ) : null}\n                    </div>\n\n                    <div className=\"flex items-end gap-4 md:col-span-2\">\n                      <div className=\"flex items-center gap-2\">\n                        <Checkbox\n                          id=\"svc_is_active\"\n                          checked={!!values.is_active}\n                          onCheckedChange={(v) =>\n                            setValues((prev) => ({ ...prev, is_active: v === true }))\n                          }\n                          disabled={disabled}\n                        />\n                        <Label htmlFor=\"svc_is_active\">{t('admin.services.form.activeLabel')}</Label>\n                      </div>\n\n                      <div className=\"flex items-center gap-2\">\n                        <Checkbox\n                          id=\"svc_featured\"\n                          checked={!!values.featured}\n                          onCheckedChange={(v) =>\n                            setValues((prev) => ({ ...prev, featured: v === true }))\n                          }\n                          disabled={disabled}\n                        />\n                        <Label htmlFor=\"svc_featured\">{t('admin.services.form.featuredLabel')}</Label>\n                      </div>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  {/* name + slug */}\n                  <div className=\"grid gap-4 md:grid-cols-2\">\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.nameLabel')}</Label>\n                      <Input\n                        value={values.name}\n                        onChange={(e) => {\n                          const nameValue = e.target.value;\n                          setValues((prev) => {\n                            const next: ServiceFormValues = { ...prev, name: nameValue };\n                            if (!slugTouched) next.slug = slugify(nameValue);\n                            return next;\n                          });\n                        }}\n                        disabled={disabled}\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.slugLabel')}</Label>\n                      <Input\n                        value={values.slug}\n                        onFocus={() => setSlugTouched(true)}\n                        onChange={(e) => {\n                          setSlugTouched(true);\n                          setValues((prev) => ({ ...prev, slug: e.target.value }));\n                        }}\n                        disabled={disabled}\n                      />\n                    </div>\n                  </div>\n\n                  {/* rich content */}\n                  <div className=\"space-y-2\">\n                    <Label>{t('admin.services.form.descriptionLabel')}</Label>\n                    <RichContentEditor\n                      label=\"\"\n                      value={values.description || ''}\n                      onChange={(next) => setValues((prev) => ({ ...prev, description: next }))}\n                      disabled={disabled}\n                      height=\"280px\"\n                      onUploadImage={onUpload}\n                    />\n                  </div>\n\n                  {/* i18n fields */}\n                  <div className=\"grid gap-4 md:grid-cols-2\">\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.materialLabel')}</Label>\n                      <Input\n                        value={values.material}\n                        onChange={(e) => setValues((p) => ({ ...p, material: e.target.value }))}\n                        disabled={disabled}\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.priceLabel')}</Label>\n                      <Input\n                        value={values.price}\n                        onChange={(e) => setValues((p) => ({ ...p, price: e.target.value }))}\n                        disabled={disabled}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>{t('admin.services.form.includesLabel')}</Label>\n                    <Textarea\n                      rows={2}\n                      value={values.includes}\n                      onChange={(e) => setValues((p) => ({ ...p, includes: e.target.value }))}\n                      disabled={disabled}\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>{t('admin.services.form.warrantyLabel')}</Label>\n                    <Textarea\n                      rows={2}\n                      value={values.warranty}\n                      onChange={(e) => setValues((p) => ({ ...p, warranty: e.target.value }))}\n                      disabled={disabled}\n                    />\n                  </div>\n\n                  {/* tags + meta */}\n                  <div className=\"space-y-2\">\n                    <Label>\n                      {t('admin.services.form.tagsLabel')} <span className=\"text-muted-foreground\">{t('admin.services.form.tagsHelp')}</span>\n                    </Label>\n                    <Input\n                      value={values.tags}\n                      onChange={(e) => setValues((p) => ({ ...p, tags: e.target.value }))}\n                      disabled={disabled}\n                      placeholder={t('admin.services.form.tagsPlaceholder')}\n                    />\n                  </div>\n\n                  <div className=\"grid gap-4 md:grid-cols-2\">\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.metaTitleLabel')}</Label>\n                      <Input\n                        value={values.meta_title}\n                        onChange={(e) => setValues((p) => ({ ...p, meta_title: e.target.value }))}\n                        disabled={disabled}\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.metaKeywordsLabel')}</Label>\n                      <Input\n                        value={values.meta_keywords}\n                        onChange={(e) =>\n                          setValues((p) => ({ ...p, meta_keywords: e.target.value }))\n                        }\n                        disabled={disabled}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>{t('admin.services.form.metaDescriptionLabel')}</Label>\n                    <Textarea\n                      rows={2}\n                      value={values.meta_description}\n                      onChange={(e) =>\n                        setValues((p) => ({ ...p, meta_description: e.target.value }))\n                      }\n                      disabled={disabled}\n                    />\n                  </div>\n\n                  {/* technical */}\n                  <Separator />\n                  <div className=\"grid gap-4 md:grid-cols-2\">\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.areaLabel')}</Label>\n                      <Input\n                        value={values.area}\n                        onChange={(e) => setValues((p) => ({ ...p, area: e.target.value }))}\n                        disabled={disabled}\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.durationLabel')}</Label>\n                      <Input\n                        value={values.duration}\n                        onChange={(e) => setValues((p) => ({ ...p, duration: e.target.value }))}\n                        disabled={disabled}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"grid gap-4 md:grid-cols-2\">\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.maintenanceLabel')}</Label>\n                      <Input\n                        value={values.maintenance}\n                        onChange={(e) => setValues((p) => ({ ...p, maintenance: e.target.value }))}\n                        disabled={disabled}\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.services.form.seasonLabel')}</Label>\n                      <Input\n                        value={values.season}\n                        onChange={(e) => setValues((p) => ({ ...p, season: e.target.value }))}\n                        disabled={disabled}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>{t('admin.services.form.equipmentLabel')}</Label>\n                    <Input\n                      value={values.equipment}\n                      onChange={(e) => setValues((p) => ({ ...p, equipment: e.target.value }))}\n                      disabled={disabled}\n                    />\n                  </div>\n                </div>\n\n                {/* RIGHT */}\n                <div className=\"space-y-4 lg:col-span-4\">\n                  <div className=\"space-y-2\">\n                    <Label>{t('admin.services.form.displayOrderLabel')}</Label>\n                    <Input\n                      type=\"number\"\n                      min={0}\n                      value={values.display_order}\n                      onChange={(e) => setValues((p) => ({ ...p, display_order: e.target.value }))}\n                      disabled={disabled}\n                    />\n                  </div>\n\n                  <ServiceFormImageColumn\n                    serviceId={values.id}\n                    locale={effectiveLocale}\n                    disabled={disabled || false}\n                    metadata={imageMetadata}\n                    featuredImageValue={coverValue}\n                    onFeaturedImageChange={(url) => {\n                      const u = norm(url);\n                      setValues((prev) => ({ ...prev, image_url: u, featured_image: u }));\n                    }}\n                  />\n\n                  <div className=\"space-y-2\">\n                    <Label>{t('admin.services.form.imageAltLabel')}</Label>\n                    <Input\n                      value={values.image_alt}\n                      onChange={(e) => setValues((p) => ({ ...p, image_alt: e.target.value }))}\n                      disabled={disabled}\n                    />\n                  </div>\n\n                  <Separator />\n\n                  <div className=\"space-y-3\">\n                    <div className=\"text-sm font-medium\">{t('admin.services.form.multiLocaleTitle')}</div>\n\n                    <div className=\"flex items-start gap-2\">\n                      <Checkbox\n                        id=\"svc_replicate_all\"\n                        checked={!!values.replicate_all_locales}\n                        onCheckedChange={(v) =>\n                          setValues((p) => ({ ...p, replicate_all_locales: v === true }))\n                        }\n                        disabled={disabled}\n                      />\n                      <div className=\"space-y-1\">\n                        <Label htmlFor=\"svc_replicate_all\" className=\"leading-none\">\n                          {t('admin.services.form.replicateAllLocales')}\n                        </Label>\n                        <p className=\"text-xs text-muted-foreground\">\n                          <code>replicate_all_locales</code>\n                        </p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-start gap-2\">\n                      <Checkbox\n                        id=\"svc_apply_all\"\n                        checked={!!values.apply_all_locales}\n                        onCheckedChange={(v) =>\n                          setValues((p) => ({ ...p, apply_all_locales: v === true }))\n                        }\n                        disabled={disabled}\n                      />\n                      <div className=\"space-y-1\">\n                        <Label htmlFor=\"svc_apply_all\" className=\"leading-none\">\n                          {t('admin.services.form.applyAllLocales')}\n                        </Label>\n                        <p className=\"text-xs text-muted-foreground\">\n                          <code>apply_all_locales</code>\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </form>\n  );\n};\n","// =============================================================\n// FILE: src/app/(main)/admin/(admin)/services/_components/serviceForm/serviceForm.utils.ts\n// guezelwebdesign – ServiceForm helpers (normalize/build) (FINAL)\n// - ✅ category/sub_category removed\n// - ✅ safe locale resolve\n// - ✅ slugify TR/DE safe\n// =============================================================\n\nimport type { ServiceDto, ServiceFormValues } from '@/integrations/shared';\n\nexport const normalizeLocale = (v: unknown): string =>\n  typeof v === 'string' ? v.trim().toLowerCase() : '';\n\nexport const slugify = (value: string): string => {\n  if (!value) return '';\n  let s = value.trim();\n\n  const trMap: Record<string, string> = {\n    ç: 'c',\n    Ç: 'c',\n    ğ: 'g',\n    Ğ: 'g',\n    ı: 'i',\n    I: 'i',\n    İ: 'i',\n    ö: 'o',\n    Ö: 'o',\n    ş: 's',\n    Ş: 's',\n    ü: 'u',\n    Ü: 'u',\n  };\n\n  s = s\n    .split('')\n    .map((ch) => trMap[ch] ?? ch)\n    .join('');\n\n  // German ß\n  s = s.replace(/ß/g, 'ss').replace(/ẞ/g, 'ss');\n\n  return s\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .replace(/[^a-z0-9\\s-]/g, '')\n    .trim()\n    .replace(/\\s+/g, '-')\n    .replace(/-+/g, '-');\n};\n\nexport const resolveInitialLocale = (\n  initial: ServiceDto | undefined,\n  activeLocale: string | undefined,\n  fallbackLocale: string,\n): string => {\n  const candidate = normalizeLocale(\n    initial?.locale_resolved ?? activeLocale ?? fallbackLocale ?? '',\n  );\n  return candidate || normalizeLocale(fallbackLocale) || '';\n};\n\nconst toStr = (v: unknown) => (v === null || v === undefined ? '' : String(v));\n\nexport const buildInitialValues = (\n  initial: ServiceDto | undefined,\n  activeLocale: string | undefined,\n  fallbackLocale: string,\n): ServiceFormValues => {\n  const loc = resolveInitialLocale(initial, activeLocale, fallbackLocale);\n\n  if (!initial) {\n    return {\n      id: undefined,\n      locale: loc,\n\n      // i18n\n      name: '',\n      slug: '',\n      summary: '',\n      content: '',\n      description: '',\n\n      material: '',\n      price: '',\n      includes: '',\n      warranty: '',\n      image_alt: '',\n\n      // flags + order\n      is_active: true,\n      featured: false,\n      display_order: '0',\n      type: 'other',\n\n      // cover (UI keeps both mirrored)\n      featured_image: '',\n      image_url: '',\n      image_asset_id: '',\n\n      // technical\n      area: '',\n      duration: '',\n      maintenance: '',\n      season: '',\n      equipment: '',\n\n      // SEO + tags\n      tags: '',\n      meta_title: '',\n      meta_description: '',\n      meta_keywords: '',\n\n      // i18n ops\n      replicate_all_locales: true,\n      apply_all_locales: false,\n    };\n  }\n\n  return {\n    id: initial.id,\n    locale: loc,\n\n    // i18n\n    name: toStr(initial.name),\n    slug: toStr(initial.slug),\n    summary: toStr(initial.summary),\n    content: toStr(initial.content),\n    description: toStr(initial.description),\n\n    material: toStr(initial.material),\n    price: toStr(initial.price),\n    includes: toStr(initial.includes),\n    warranty: toStr(initial.warranty),\n    image_alt: toStr(initial.image_alt),\n\n    // flags + order\n    is_active: !!initial.is_active,\n    featured: !!initial.featured,\n    display_order: Number.isFinite(initial.display_order) ? String(initial.display_order) : '0',\n    type: toStr(initial.type) || 'other',\n\n    // cover\n    featured_image: toStr(initial.featured_image),\n    image_url: toStr(initial.image_url),\n    image_asset_id: toStr(initial.image_asset_id),\n\n    // technical\n    area: toStr(initial.area),\n    duration: toStr(initial.duration),\n    maintenance: toStr(initial.maintenance),\n    season: toStr(initial.season),\n    equipment: toStr(initial.equipment),\n\n    // SEO + tags\n    tags: toStr((initial as any).tags),\n    meta_title: toStr((initial as any).meta_title),\n    meta_description: toStr((initial as any).meta_description),\n    meta_keywords: toStr((initial as any).meta_keywords),\n\n    // i18n ops\n    replicate_all_locales: true,\n    apply_all_locales: false,\n  };\n};\n","'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/services/_components/serviceForm/ServiceFormImageColumn.tsx\n// guezelwebdesign – Services Form Right Column (FINAL)\n// - App Router: next/navigation\n// - Canonical cover: services.image_url (+ legacy featured_image mirror)\n// - Gallery state: instant UI update\n// =============================================================\n\nimport * as React from 'react';\nimport { toast } from 'sonner';\nimport { useRouter } from 'next/navigation';\n\nimport { AdminImageUploadField } from '@/app/(main)/admin/_components/common/AdminImageUploadField';\nimport { useAdminT } from '@/app/(main)/admin/_components/common/useAdminT';\n\nimport type { ServiceImageDto, ServiceImageCreatePayload } from '@/integrations/shared';\n\nimport {\n  useListServiceImagesAdminQuery,\n  useCreateServiceImageAdminMutation,\n  useDeleteServiceImageAdminMutation,\n  useUpdateServiceAdminMutation,\n} from '@/integrations/hooks';\n\ntype Props = {\n  serviceId?: string;\n  locale: string;\n  disabled: boolean;\n  metadata?: Record<string, string | number | boolean>;\n\n  featuredImageValue: string;\n\n  onFeaturedImageChange: (url: string) => void;\n  onGalleryChange?: (items: ServiceImageDto[]) => void;\n};\n\nconst norm = (v: unknown) => String(v ?? '').trim();\n\nconst sortImages = (items: ServiceImageDto[]) =>\n  [...items].sort((a: any, b: any) => {\n    const ao = Number(a?.display_order ?? 0);\n    const bo = Number(b?.display_order ?? 0);\n    if (ao !== bo) return ao - bo;\n\n    const ac = String(a?.created_at ?? '');\n    const bc = String(b?.created_at ?? '');\n    if (ac < bc) return -1;\n    if (ac > bc) return 1;\n    return 0;\n  });\n\nconst uniq = (arr: string[]) => {\n  const out: string[] = [];\n  const set = new Set<string>();\n  for (const x of arr) {\n    const v = norm(x);\n    if (!v) continue;\n    if (set.has(v)) continue;\n    set.add(v);\n    out.push(v);\n  }\n  return out;\n};\n\nexport const ServiceFormImageColumn: React.FC<Props> = ({\n  serviceId,\n  locale,\n  disabled,\n  metadata,\n  featuredImageValue,\n  onFeaturedImageChange,\n  onGalleryChange,\n}) => {\n  const router = useRouter();\n  const t = useAdminT();\n\n  const {\n    data: imageItemsRaw,\n    isLoading: imagesLoading,\n    isFetching: imagesFetching,\n    refetch,\n  } = useListServiceImagesAdminQuery(serviceId as string, { skip: !serviceId });\n\n  const imageItems = React.useMemo(\n    () => sortImages((imageItemsRaw ?? []) as ServiceImageDto[]),\n    [imageItemsRaw],\n  );\n\n  const [createImage, { isLoading: isCreating }] = useCreateServiceImageAdminMutation();\n  const [deleteImage, { isLoading: isDeleting }] = useDeleteServiceImageAdminMutation();\n  const [updateService, { isLoading: isUpdatingService }] = useUpdateServiceAdminMutation();\n\n  const serverGalleryUrls = React.useMemo(\n    () => (imageItems ?? []).map((x) => norm((x as any)?.image_url)).filter(Boolean),\n    [imageItems],\n  );\n\n  const [uiGalleryUrls, setUiGalleryUrls] = React.useState<string[]>(serverGalleryUrls);\n\n  React.useEffect(() => {\n    setUiGalleryUrls(serverGalleryUrls);\n  }, [serverGalleryUrls]);\n\n  const uploadingDisabled =\n    disabled || imagesLoading || imagesFetching || isCreating || isDeleting || isUpdatingService;\n\n  const existsInPool = (urlRaw: string) => {\n    const u = norm(urlRaw);\n    if (!u) return false;\n    return (imageItems ?? []).some((x) => norm((x as any)?.image_url) === u);\n  };\n\n  const upsertOne = async (urlRaw: string) => {\n    if (!serviceId) return null;\n    const url = norm(urlRaw);\n    if (!url) return null;\n\n    if (existsInPool(url)) return (imageItems ?? null) as any;\n\n    const payload: ServiceImageCreatePayload = {\n      image_url: url,\n      image_asset_id: null,\n      is_active: true,\n      display_order: undefined,\n      title: null,\n      alt: null,\n      caption: null,\n      locale,\n      replicate_all_locales: true,\n    };\n\n    const list = await createImage({ serviceId, payload } as any).unwrap();\n    return list as ServiceImageDto[];\n  };\n\n  const removeByUrl = async (urlRaw: string) => {\n    if (!serviceId) return;\n\n    const url = norm(urlRaw);\n    if (!url) return;\n\n    const row = (imageItems ?? []).find((x: any) => norm(x?.image_url) === url);\n    if (!row) return;\n\n    const next = await deleteImage({ serviceId, imageId: (row as any).id } as any).unwrap();\n    onGalleryChange?.(next as ServiceImageDto[]);\n    return next as ServiceImageDto[];\n  };\n\n  const persistCover = async (urlRaw: string) => {\n    if (!serviceId) return;\n\n    const url = norm(urlRaw);\n    if (!url) return;\n\n    const patch = { image_url: url, featured_image: url };\n\n    const tries = [\n      () => updateService({ id: serviceId, patch } as any).unwrap(),\n      () => updateService({ serviceId, patch } as any).unwrap(),\n      () => updateService({ id: serviceId, payload: patch } as any).unwrap(),\n      () => updateService({ serviceId, payload: patch } as any).unwrap(),\n      () => updateService({ id: serviceId, data: patch } as any).unwrap(),\n      () => updateService({ serviceId, data: patch } as any).unwrap(),\n    ];\n\n    let lastErr: any = null;\n    for (const fn of tries) {\n      try {\n        await fn();\n        return;\n      } catch (e) {\n        lastErr = e;\n      }\n    }\n    throw lastErr;\n  };\n\n  const setCoverUI = (urlRaw: string) => {\n    onFeaturedImageChange(norm(urlRaw));\n  };\n\n  const handleSelectAsCover = (urlRaw: string) => {\n    const url = norm(urlRaw);\n    if (!url) return;\n\n    setCoverUI(url);\n    setUiGalleryUrls((prev) => uniq([url, ...(prev ?? [])]));\n\n    if (!serviceId) return;\n\n    void (async () => {\n      try {\n        const list = await upsertOne(url);\n        if (list) onGalleryChange?.(list);\n\n        await persistCover(url);\n        await refetch();\n\n        toast.success(t('admin.services.formImage.coverSaved'));\n      } catch (err: any) {\n        const msg =\n          err?.data?.error?.message ||\n          err?.data?.message ||\n          err?.message ||\n          t('admin.services.formImage.coverSaveError');\n        toast.error(msg);\n      }\n    })();\n  };\n\n  const handleCoverChange = (urlRaw: string) => {\n    const url = norm(urlRaw);\n\n    setCoverUI(url);\n\n    if (!serviceId || !url) return;\n\n    setUiGalleryUrls((prev) => uniq([url, ...(prev ?? [])]));\n\n    void (async () => {\n      try {\n        const list = await upsertOne(url);\n        if (list) onGalleryChange?.(list);\n\n        await persistCover(url);\n        await refetch();\n\n        toast.success(t('admin.services.formImage.coverSaved'));\n      } catch (err: any) {\n        const msg =\n          err?.data?.error?.message ||\n          err?.data?.message ||\n          err?.message ||\n          t('admin.services.formImage.coverSaveError');\n        toast.error(msg);\n      }\n    })();\n  };\n\n  const handleGalleryUrlsChange = (nextUrlsRaw: string[]) => {\n    if (!serviceId) return;\n\n    const nextUrls = uniq((nextUrlsRaw ?? []).map((u) => norm(u)));\n\n    setUiGalleryUrls(nextUrls);\n\n    const prevSet = new Set(serverGalleryUrls);\n    const nextSet = new Set(nextUrls);\n\n    const added = nextUrls.filter((u) => !prevSet.has(u));\n    const removed = serverGalleryUrls.filter((u) => !nextSet.has(u));\n\n    const coverUrl = norm(featuredImageValue);\n    const removedSafe = removed.filter((u) => u !== coverUrl);\n\n    if (removed.length > 0 && removedSafe.length !== removed.length) {\n      setUiGalleryUrls((prev) => uniq([coverUrl, ...(prev ?? [])]));\n      toast.error(t('admin.services.formImage.coverDeleteError'));\n    }\n\n    if (added.length > 0) {\n      void (async () => {\n        try {\n          let lastList: ServiceImageDto[] | null = null;\n          for (const url of added) {\n            const list = await upsertOne(url);\n            if (list) lastList = list;\n          }\n          if (lastList) onGalleryChange?.(lastList);\n          await refetch();\n        } catch (err: any) {\n          const msg =\n            err?.data?.error?.message ||\n            err?.data?.message ||\n            err?.message ||\n            t('admin.services.formImage.galleryAddError');\n          toast.error(msg);\n          await refetch();\n        }\n      })();\n    }\n\n    if (removedSafe.length > 0) {\n      void (async () => {\n        try {\n          for (const url of removedSafe) {\n            await removeByUrl(url);\n          }\n          await refetch();\n        } catch (err: any) {\n          const msg =\n            err?.data?.error?.message ||\n            err?.data?.message ||\n            err?.message ||\n            t('admin.services.formImage.galleryDeleteError');\n          toast.error(msg);\n          await refetch();\n        }\n      })();\n    }\n  };\n\n  const cover = norm(featuredImageValue);\n\n  return (\n    <div className=\"space-y-3\">\n      <AdminImageUploadField\n        label={t('admin.services.formImage.coverLabel')}\n        helperText={\n          <>\n            {t('admin.services.formImage.coverHelperPrefix')} <code>services.image_url</code> {t('admin.services.formImage.coverHelperField')}{' '}\n            {t('admin.services.formImage.coverHelperSuffix')}\n          </>\n        }\n        bucket=\"public\"\n        folder=\"services/cover\"\n        metadata={{ ...(metadata || {}), section: 'cover' }}\n        value={cover}\n        onChange={handleCoverChange}\n        disabled={disabled}\n        openLibraryHref=\"/admin/storage\"\n        onOpenLibraryClick={() => router.push('/admin/storage')}\n      />\n\n      {serviceId ? (\n        <AdminImageUploadField\n          label={t('admin.services.formImage.galleryLabel')}\n          helperText={\n            <>\n              {t('admin.services.formImage.galleryHelperPrefix')} (<code>service_images</code>).{' '}\n              {t('admin.services.formImage.galleryHelperSuffix')}\n            </>\n          }\n          bucket=\"public\"\n          folder=\"services/gallery\"\n          metadata={{ ...(metadata || {}), section: 'gallery' }}\n          multiple\n          values={uiGalleryUrls}\n          onChangeMultiple={handleGalleryUrlsChange}\n          onSelectAsCover={handleSelectAsCover}\n          coverValue={cover}\n          disabled={uploadingDisabled}\n          openLibraryHref=\"/admin/storage\"\n          onOpenLibraryClick={() => router.push('/admin/storage')}\n        />\n      ) : (\n        <div className=\"rounded-md border p-3 text-sm text-muted-foreground\">\n          {t('admin.services.formImage.galleryPlaceholder')}\n        </div>\n      )}\n    </div>\n  );\n};\n","// =============================================================\n// FILE: src/app/(main)/admin/(admin)/services/_components/serviceForm/useServiceEditorImageUpload.ts\n// guezelwebdesign – RichContentEditor image upload hook (services) (FINAL)\n// =============================================================\n\nimport { toast } from 'sonner';\nimport { useCreateAssetAdminMutation } from '@/integrations/hooks';\nimport { useAdminT } from '@/app/(main)/admin/_components/common/useAdminT';\n\ntype MetaValue = string | number | boolean;\n\nexport const useServiceEditorImageUpload = (args: { metadata: Record<string, MetaValue> }) => {\n  const [createAssetAdmin] = useCreateAssetAdminMutation();\n  const t = useAdminT();\n\n  const toMeta = (metadata: Record<string, MetaValue>) =>\n    Object.fromEntries(Object.entries(metadata).map(([k, v]) => [k, String(v)]));\n\n  const onUpload = async (file: File): Promise<string> => {\n    try {\n      const res = await createAssetAdmin({\n        file,\n        bucket: 'public',\n        folder: 'services/content',\n        metadata: toMeta(args.metadata),\n      } as any).unwrap();\n\n      const url = (res as any)?.url as string | undefined;\n      if (!url) throw new Error(t('admin.services.upload.noUrl'));\n      return url;\n    } catch (err: any) {\n      const msg =\n        err?.data?.error?.message ||\n        err?.data?.message ||\n        err?.message ||\n        t('admin.services.upload.error');\n      toast.error(msg);\n      return '';\n    }\n  };\n\n  return { onUpload };\n};\n"],"names":[],"mappings":"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"}
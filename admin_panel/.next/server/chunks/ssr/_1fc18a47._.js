module.exports=[29246,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},21695,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(23292),f=a.i(210),g=a.i(14548),h=a.i(81560),i=a.i(99570),j=a.i(66718),k=a.i(70430),l=a.i(29246),m=a.i(91119),n=a.i(80701);a.i(58501);var o=a.i(26953);function p(a){return a?.data?.error?.message||a?.data?.message||a?.message||"İşlem başarısız"}let q=["order_created","order_paid","order_failed","booking_created","booking_status_changed","system","custom"];function r({id:a}){let r=(0,d.useRouter)(),s="new"===a,{data:t=[]}=(0,o.useListNotificationsQuery)(),u=t.find(b=>b.id===a),[v,{isLoading:w}]=(0,o.useCreateNotificationMutation)(),[x,{isLoading:y}]=(0,o.useUpdateNotificationMutation)(),[z,{isLoading:A}]=(0,o.useDeleteNotificationMutation)(),[B,C]=c.useState({user_id:"",title:"",message:"",type:"system"});c.useEffect(()=>{!s&&u&&C({user_id:u.user_id||"",title:u.title,message:u.message,type:u.type})},[s,u]);let D=w||y||A,E=()=>{r.push("/admin/notifications")},F=async a=>{if(a.preventDefault(),!B.title.trim())return void e.toast.error("Başlık gerekli");if(!B.message.trim())return void e.toast.error("Mesaj gerekli");try{if(s){let a={user_id:B.user_id.trim()||void 0,title:B.title.trim(),message:B.message.trim(),type:B.type};await v(a).unwrap(),e.toast.success("Bildirim oluşturuldu"),r.push("/admin/notifications")}else e.toast.warning("Bildirimleri düzenleme şu anda desteklenmiyor")}catch(a){e.toast.error(p(a))}},G=async()=>{if(confirm(`"${u?.title}" bildirimini silmek istediğinize emin misiniz?`))try{await z({id:a}).unwrap(),e.toast.success("Bildirim silindi"),r.push("/admin/notifications")}catch(a){e.toast.error(p(a))}};return(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)(m.Card,{children:(0,b.jsx)(m.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(m.CardTitle,{className:"text-2xl font-bold",children:s?"Yeni Bildirim":"Bildirim Detayı"}),(0,b.jsx)(m.CardDescription,{children:s?"Yeni bir bildirim oluşturun":"Bildirim detaylarını görüntüleyin"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(i.Button,{onClick:E,variant:"outline",size:"sm",children:[(0,b.jsx)(f.ArrowLeft,{className:"mr-2 size-4"}),"Geri"]}),!s&&(0,b.jsxs)(i.Button,{onClick:G,disabled:D,variant:"destructive",size:"sm",children:[(0,b.jsx)(h.Trash2,{className:"mr-2 size-4"}),"Sil"]})]})]})})}),(0,b.jsxs)(m.Card,{children:[(0,b.jsx)(m.CardHeader,{children:(0,b.jsx)(m.CardTitle,{children:"Bildirim Bilgileri"})}),(0,b.jsx)(m.CardContent,{children:(0,b.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(k.Label,{htmlFor:"user_id",children:["Kullanıcı ID ",(0,b.jsx)("span",{className:"text-muted-foreground",children:"(opsiyonel)"})]}),(0,b.jsx)(j.Input,{id:"user_id",value:B.user_id,onChange:a=>C(b=>({...b,user_id:a.target.value})),placeholder:"Boş bırakılırsa mevcut kullanıcı",disabled:!s||D}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Belirli bir kullanıcıya göndermek için UUID girin"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(k.Label,{htmlFor:"title",children:["Başlık ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(j.Input,{id:"title",value:B.title,onChange:a=>C(b=>({...b,title:a.target.value})),placeholder:"Bildirim başlığı",required:!0,disabled:!s||D})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(k.Label,{htmlFor:"message",children:["Mesaj ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(l.Textarea,{id:"message",value:B.message,onChange:a=>C(b=>({...b,message:a.target.value})),placeholder:"Bildirim mesajı",rows:4,required:!0,disabled:!s||D})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(k.Label,{htmlFor:"type",children:["Tip ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)(n.Select,{value:B.type,onValueChange:a=>C(b=>({...b,type:a})),disabled:!s||D,children:[(0,b.jsx)(n.SelectTrigger,{id:"type",children:(0,b.jsx)(n.SelectValue,{})}),(0,b.jsxs)(n.SelectContent,{children:[q.map(a=>(0,b.jsx)(n.SelectItem,{value:a,children:a},a)),(0,b.jsx)(n.SelectItem,{value:"custom",children:"custom (özel)"})]})]})]}),s&&(0,b.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,b.jsx)(i.Button,{type:"button",onClick:E,variant:"outline",disabled:D,children:"İptal"}),(0,b.jsxs)(i.Button,{type:"submit",disabled:D,children:[(0,b.jsx)(g.Save,{className:"mr-2 size-4"}),D?"Kaydediliyor...":"Kaydet"]})]}),!s&&(0,b.jsx)("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-4 dark:border-yellow-800 dark:bg-yellow-950/20",children:(0,b.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"ℹ️ Bildirimler oluşturulduktan sonra düzenlenemez. Sadece okundu/okunmadı durumu değiştirilebilir."})})]})})]}),!s&&u&&(0,b.jsxs)(m.Card,{children:[(0,b.jsx)(m.CardHeader,{children:(0,b.jsx)(m.CardTitle,{children:"Bildirim Detayları"})}),(0,b.jsx)(m.CardContent,{className:"space-y-3",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"ID"}),(0,b.jsx)("p",{className:"text-sm",children:u.id})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Kullanıcı ID"}),(0,b.jsx)("p",{className:"text-sm",children:u.user_id})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Durum"}),(0,b.jsx)("p",{className:"text-sm",children:u.is_read?"Okundu":"Okunmadı"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Oluşturulma Tarihi"}),(0,b.jsx)("p",{className:"text-sm",children:new Date(u.created_at).toLocaleString("tr-TR")})]})]})})]})]})}a.s(["default",()=>r])}];

//# sourceMappingURL=_1fc18a47._.js.map
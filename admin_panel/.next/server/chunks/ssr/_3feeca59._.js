module.exports=[75083,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(50104),f=a.i(24050),g=a.i(77192),h=a.i(30553),i=a.i(7827),j=a.i(25152),k=a.i(92843),l="Tabs",[m,n]=(0,e.createContextScope)(l,[f.createRovingFocusGroupScope]),o=(0,f.createRovingFocusGroupScope)(),[p,q]=m(l),r=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:m="horizontal",dir:n,activationMode:o="automatic",...q}=a,r=(0,i.useDirection)(n),[s,t]=(0,j.useControllableState)({prop:e,onChange:f,defaultProp:g??"",caller:l});return(0,b.jsx)(p,{scope:d,baseId:(0,k.useId)(),value:s,onValueChange:t,orientation:m,dir:r,activationMode:o,children:(0,b.jsx)(h.Primitive.div,{dir:r,"data-orientation":m,...q,ref:c})})});r.displayName=l;var s="TabsList",t=c.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...g}=a,i=q(s,d),j=o(d);return(0,b.jsx)(f.Root,{asChild:!0,...j,orientation:i.orientation,dir:i.dir,loop:e,children:(0,b.jsx)(h.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...g,ref:c})})});t.displayName=s;var u="TabsTrigger",v=c.forwardRef((a,c)=>{let{__scopeTabs:e,value:g,disabled:i=!1,...j}=a,k=q(u,e),l=o(e),m=y(k.baseId,g),n=z(k.baseId,g),p=g===k.value;return(0,b.jsx)(f.Item,{asChild:!0,...l,focusable:!i,active:p,children:(0,b.jsx)(h.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":n,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...j,ref:c,onMouseDown:(0,d.composeEventHandlers)(a.onMouseDown,a=>{i||0!==a.button||!1!==a.ctrlKey?a.preventDefault():k.onValueChange(g)}),onKeyDown:(0,d.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&k.onValueChange(g)}),onFocus:(0,d.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==k.activationMode;p||i||!a||k.onValueChange(g)})})})});v.displayName=u;var w="TabsContent",x=c.forwardRef((a,d)=>{let{__scopeTabs:e,value:f,forceMount:i,children:j,...k}=a,l=q(w,e),m=y(l.baseId,f),n=z(l.baseId,f),o=f===l.value,p=c.useRef(o);return c.useEffect(()=>{let a=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(g.Presence,{present:i||o,children:({present:c})=>(0,b.jsx)(h.Primitive.div,{"data-state":o?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":m,hidden:!c,id:n,tabIndex:0,...k,ref:d,style:{...a.style,animationDuration:p.current?"0s":void 0},children:c&&j})})});function y(a,b){return`${a}-trigger-${b}`}function z(a,b){return`${a}-content-${b}`}x.displayName=w,a.s(["Content",()=>x,"List",()=>t,"Root",()=>r,"Tabs",()=>r,"TabsContent",()=>x,"TabsList",()=>t,"TabsTrigger",()=>v,"Trigger",()=>v,"createTabsScope",()=>n],44135);var A=a.i(44135),A=A,B=a.i(68114);function C({className:a,...c}){return(0,b.jsx)(A.Root,{"data-slot":"tabs",className:(0,B.cn)("flex flex-col gap-2",a),...c})}function D({className:a,...c}){return(0,b.jsx)(A.List,{"data-slot":"tabs-list",className:(0,B.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-0.75",a),...c})}function E({className:a,...c}){return(0,b.jsx)(A.Trigger,{"data-slot":"tabs-trigger",className:(0,B.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...c})}function F({className:a,...c}){return(0,b.jsx)(A.Content,{"data-slot":"tabs-content",className:(0,B.cn)("flex-1 outline-none",a),...c})}a.s(["Tabs",()=>C,"TabsContent",()=>F,"TabsList",()=>D,"TabsTrigger",()=>E],75083)},73320,a=>{"use strict";let b=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);a.s(["Upload",()=>b],73320)},56414,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(23292),e=a.i(70106);let f=(0,e.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),g=(0,e.default)("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);var h=a.i(73320),i=a.i(21374),j=a.i(81560);a.i(58501);var k=a.i(77262),l=a.i(68114),m=a.i(99570),n=a.i(86304),o=a.i(91119),p=a.i(70430),q=a.i(66718),r=a.i(30553),s=c.forwardRef((a,c)=>{let{ratio:d=1,style:e,...f}=a;return(0,b.jsx)("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/d}%`},"data-radix-aspect-ratio-wrapper":"",children:(0,b.jsx)(r.Primitive.div,{...f,ref:c,style:{...e,position:"absolute",top:0,right:0,bottom:0,left:0}})})});s.displayName="AspectRatio",a.s(["AspectRatio",()=>s,"Root",()=>s],28834);var t=a.i(28834),t=t;function u({...a}){return(0,b.jsx)(t.Root,{"data-slot":"aspect-ratio",...a})}let v=a=>String(a??"").trim(),w=a=>{let b=v(a);if(!b)return!1;let c=b.toLowerCase();return!!(c.split("?")[0].split("#")[0].endsWith(".svg")||c.startsWith("data:image/svg+xml")||c.includes("format=svg")||c.includes("f_svg"))},x=a=>{let b=v(a);if(!b)return"";if(!w(b)||b.startsWith("data:image/svg+xml")||!b.includes("res.cloudinary.com")||b.includes("/raw/upload/")||b.includes("fl_sanitize"))return b;let c="/upload/",d=b.indexOf(c);if(d<0)return b;let e=b.slice(0,d+c.length),f=b.slice(d+c.length),g=f.split("/")[0]||"",h=f.slice(g.length);return g.startsWith("v")?`${e}fl_sanitize/${f}`:`${e}${g},fl_sanitize${h}`},y=({url:a,disabled:c})=>{let e=v(a);if(!e)return null;let g=((a,b=72)=>{let c=v(a);if(!c)return"";if(c.length<=b)return c;try{let a=new URL(c),d=a.host,e=(a.pathname||"").split("/").filter(Boolean).pop()||"",f=`${d}/…/${e}`;if(f.length<=b)return f}catch{}let d=c.slice(0,Math.max(18,Math.floor(.55*b))),e=c.slice(-Math.max(12,Math.floor(.25*b)));return`${d}…${e}`})(e,80),h=async()=>{try{await navigator.clipboard.writeText(e),d.toast.success("URL kopyalandı.")}catch{d.toast.error("Kopyalanamadı.")}};return(0,b.jsxs)("div",{className:"mt-2 flex min-w-0 items-center gap-2",children:[(0,b.jsx)("div",{className:"min-w-0 flex-1",children:(0,b.jsx)("div",{className:"truncate text-xs text-muted-foreground",title:e,children:g})}),(0,b.jsxs)(m.Button,{type:"button",variant:"outline",size:"sm",onClick:h,disabled:c,title:"Kopyala",children:[(0,b.jsx)(f,{className:"mr-2 size-4"}),"Kopyala"]})]})};a.s(["AdminImageUploadField",0,({label:a="Görsel",helperText:e,bucket:f="public",folder:r="uploads",metadata:s,value:t,onChange:z,values:A,onChangeMultiple:B,onSelectAsCover:C,coverValue:D,disabled:E,openLibraryHref:F,onOpenLibraryClick:G,multiple:H=!1,previewAspect:I="16x9",previewObjectFit:J="cover"})=>{let K=(0,c.useRef)(null),[L,{isLoading:M}]=(0,k.useCreateAssetAdminMutation)(),N=(0,c.useMemo)(()=>(a=>{if(a)return Object.fromEntries(Object.entries(a).map(([a,b])=>[a,String(b)]))})(s),[s]),O=(0,c.useMemo)(()=>Array.isArray(A)?A.map(v).filter(Boolean):[],[A]),P=!!E||M,Q=async a=>{let b=Array.from(a.target.files??[]);if(a.target.value="",!b.length)return;if(!H){let a=b[0];try{let b=await L({file:a,bucket:f,folder:r,metadata:N}).unwrap(),c=v(b?.url);if(!c)throw Error("Görsel URL'i alınamadı.");z?.(c),d.toast.success("Görsel yüklendi.")}catch(a){d.toast.error(a?.data?.error?.message||a?.message||"Görsel yüklenirken hata oluştu.")}return}let c=[],e=0;for(let a of b)try{let b=await L({file:a,bucket:f,folder:r,metadata:N}).unwrap(),d=v(b?.url);d&&(c.push(d),e+=1)}catch(a){d.toast.error(a?.data?.error?.message||a?.message||"Bazı görseller yüklenirken hata oluştu.")}e>0&&(B?B(((a,b)=>{let c=new Set(a.map(a=>v(a))),d=[...a];for(let a of b){let b=v(a);b&&!c.has(b)&&(c.add(b),d.push(b))}return d})(O,c)):z?.(c[0]),d.toast.success(1===e?"Görsel yüklendi.":`${e} g\xf6rsel y\xfcklendi.`))},R="4x3"===I?4/3:"1x1"===I?1:16/9;return(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{className:"space-y-1 pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)("div",{className:"text-sm font-semibold",children:a}),e?(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:e}):null]}),M?(0,b.jsx)(n.Badge,{variant:"secondary",children:"Yükleniyor…"}):null]})}),(0,b.jsxs)(o.CardContent,{className:"space-y-3",children:[(0,b.jsx)(p.Label,{className:"sr-only",children:"Upload"}),(0,b.jsx)(q.Input,{ref:K,type:"file",accept:"image/*",multiple:!!H,className:"hidden",onChange:Q,disabled:P}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsxs)(m.Button,{type:"button",variant:"outline",onClick:()=>{P||K.current?.click()},disabled:P,children:[(0,b.jsx)(h.Upload,{className:"mr-2 size-4"}),H?"Görseller Yükle":"Görsel Yükle"]}),F||G?(0,b.jsx)(m.Button,{asChild:!0,variant:"ghost",size:"sm",disabled:P&&!G,children:(0,b.jsxs)("a",{href:F||"#",onClick:a=>{G&&(a.preventDefault(),G())},children:[(0,b.jsx)(g,{className:"mr-2 size-4"}),"Kütüphaneyi aç"]})}):null]}),H?(0,b.jsx)(()=>O.length?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Galeri"}),(0,b.jsx)("div",{className:"flex flex-col gap-2",children:O.map((a,c)=>{let e=!!D&&v(D)===a,f=w(a),g=f?x(a):a;return(0,b.jsx)("div",{className:(0,l.cn)("rounded-md border p-2",e&&"border-primary"),children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"w-35 shrink-0",children:(0,b.jsx)("div",{className:"overflow-hidden rounded-md border bg-background",children:(0,b.jsx)(u,{ratio:16/9,children:f?(0,b.jsx)("object",{data:g,type:"image/svg+xml",className:"h-full w-full","aria-label":`SVG image ${c+1}`,children:(0,b.jsx)("div",{className:"flex h-full w-full items-center justify-center text-xs text-muted-foreground",children:"SVG yüklenemedi."})}):(0,b.jsx)("div",{className:"relative h-full w-full",children:(0,b.jsx)("img",{src:g,alt:`image-${c+1}`,className:"h-full w-full object-cover",onError:a=>{let b=a.currentTarget;b.style.display="none";let c=b.parentElement;if(c&&!c.querySelector(".error-placeholder")){let a=document.createElement("div");a.className="error-placeholder absolute inset-0 flex items-center justify-center bg-muted/50",a.innerHTML=`
                                    <svg class="size-8 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                    </svg>
                                  `,c.appendChild(a)}}})})})})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"truncate text-sm font-medium",title:a,children:e?"Kapak":`G\xf6rsel ${c+1}`}),e?(0,b.jsx)(n.Badge,{variant:"secondary",className:"mt-1",children:"Kapak"}):null]}),(0,b.jsxs)("div",{className:"flex shrink-0 items-center gap-2",children:[C?(0,b.jsxs)(m.Button,{type:"button",variant:e?"default":"outline",size:"sm",disabled:P,onClick:()=>C(a),title:"Kapak yap",children:[(0,b.jsx)(i.Star,{className:"mr-2 size-4"}),"Kapak"]}):null,(0,b.jsxs)(m.Button,{type:"button",variant:"outline",size:"sm",disabled:P||!B||e,onClick:()=>(a=>{if(!B)return;let b=O[a];D&&v(D)===b?d.toast.error("Kapak görseli silinemez. Önce başka bir kapak seç."):B(O.filter((b,c)=>c!==a))})(c),title:e?"Kapak silinemez":"Sil",children:[(0,b.jsx)(j.Trash2,{className:"mr-2 size-4"}),"Sil"]})]})]}),(0,b.jsx)(y,{url:a,disabled:P}),B?null:(0,b.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground",children:["Not: ",(0,b.jsx)("code",{children:"onChangeMultiple"})," verilmediği için galeri parent tarafından yönetilmiyor."]})]})]})},`${a}-${c}`)})})]}):(0,b.jsx)("div",{className:"rounded-md border bg-muted/20 p-3 text-center text-sm text-muted-foreground",children:"Henüz galeri görseli yok."}),{}):(0,b.jsx)(()=>{if(!t)return(0,b.jsx)("div",{className:"rounded-md border bg-muted/20 p-3 text-center text-sm text-muted-foreground",children:"Henüz görsel seçilmedi."});let a=w(t),c=a?x(t):t;return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Önizleme"}),(0,b.jsx)("div",{className:"overflow-hidden rounded-md border bg-background",children:(0,b.jsx)(u,{ratio:R,children:a?(0,b.jsx)("object",{data:c,type:"image/svg+xml",className:"h-full w-full","aria-label":"SVG preview",children:(0,b.jsx)("div",{className:"flex h-full w-full items-center justify-center text-xs text-muted-foreground",children:"SVG önizleme açılamadı."})}):(0,b.jsx)("div",{className:"relative h-full w-full",children:(0,b.jsx)("img",{src:c,alt:"Görsel",className:"h-full w-full",style:{objectFit:J},onError:a=>{let b=a.currentTarget;b.style.display="none";let c=b.parentElement;if(c&&!c.querySelector(".error-placeholder")){let a=document.createElement("div");a.className="error-placeholder absolute inset-0 flex flex-col items-center justify-center gap-2 bg-muted/50",a.innerHTML=`
                        <svg class="size-12 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                        </svg>
                        <span class="text-xs text-muted-foreground">G\xf6rsel y\xfcklenemedi</span>
                      `,c.appendChild(a)}}})})})}),(0,b.jsxs)("div",{className:"rounded-md border bg-muted/50 p-2",children:[(0,b.jsx)("div",{className:"mb-1 text-xs font-medium text-muted-foreground",children:"URL:"}),(0,b.jsx)("code",{className:"block wrap-break-word text-xs font-mono leading-relaxed text-foreground",children:t})]}),(0,b.jsx)(y,{url:t,disabled:P})]})},{})]})]})}],56414)}];

//# sourceMappingURL=_3feeca59._.js.map
module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(76306),d=a.i(187),e=a.i(68114);let f=(0,d.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},63658,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(70121),f=a.i(50104),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:l,defaultChecked:m,required:o,disabled:p,value:q="on",onCheckedChange:r,form:u,...v}=a,[w,x]=c.useState(null),y=(0,e.useComposedRefs)(f,a=>x(a)),z=c.useRef(!1),A=!w||u||!!w.closest("form"),[B,C]=(0,g.useControllableState)({prop:l,defaultProp:m??!1,onChange:r,caller:k});return(0,b.jsxs)(n,{scope:h,checked:B,disabled:p,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":B,"aria-required":o,"data-state":t(B),"data-disabled":p?"":void 0,disabled:p,value:q,...v,ref:y,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{C(a=>!a),A&&(z.current=a.isPropagationStopped(),z.current||a.stopPropagation())})}),A&&(0,b.jsx)(s,{control:w,bubbles:!z.current,name:i,value:q,checked:B,required:o,disabled:p,form:u,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=c.forwardRef(({__scopeSwitch:a,control:d,checked:f,bubbles:g=!0,...j},k)=>{let l=c.useRef(null),m=(0,e.useComposedRefs)(l,k),n=(0,h.usePrevious)(f),o=(0,i.useSize)(d);return c.useEffect(()=>{let a=l.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==f&&b){let c=new Event("click",{bubbles:g});b.call(a,f),a.dispatchEvent(c)}},[n,f,g]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:f,...j,tabIndex:-1,ref:m,style:{...j.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function t(a){return a?"checked":"unchecked"}s.displayName="SwitchBubbleInput",a.s(["Root",()=>p,"Switch",()=>p,"SwitchThumb",()=>r,"Thumb",()=>r,"createSwitchScope",()=>m],19025);var u=a.i(19025),u=u,v=a.i(68114);function w({className:a,...c}){return(0,b.jsx)(u.Root,{"data-slot":"switch",className:(0,v.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(u.Thumb,{"data-slot":"switch-thumb",className:(0,v.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}a.s(["Switch",()=>w],63658)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},1229,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,a.i(70106).default)("braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);var e=a.i(68114),f=a.i(70430),g=a.i(29246),h=a.i(86304);let i=a=>{try{return JSON.stringify(a??{},null,2)}catch{return""}};a.s(["AdminJsonEditor",0,({label:a,value:j,onChange:k,onErrorChange:l,disabled:m,helperText:n,height:o=260})=>{let[p,q]=(0,c.useState)(()=>i(j)),[r,s]=(0,c.useState)(null);return(0,c.useEffect)(()=>{q(i(j))},[j]),(0,b.jsxs)("div",{className:"space-y-2",children:[a?(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)(f.Label,{className:"text-sm",children:a}),(0,b.jsxs)(h.Badge,{variant:"secondary",className:"gap-1",children:[(0,b.jsx)(d,{className:"size-3.5"}),"JSON editor"]})]}):null,(0,b.jsx)(g.Textarea,{value:p,onChange:a=>q(a.target.value),onBlur:()=>{if(!p.trim()){k({}),s(null),l?.(null);return}try{let a=JSON.parse(p);k(a),s(null),l?.(null)}catch(b){let a=b?.message?String(b.message):"Geçersiz JSON";s(a),l?.(a)}},disabled:m,spellCheck:!1,className:(0,e.cn)("font-mono text-xs leading-5",r&&"border-destructive focus-visible:ring-destructive"),style:{minHeight:o,whiteSpace:"pre",fontFamily:"SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"}}),n&&!r?(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:n}):null,r?(0,b.jsxs)("div",{className:"text-xs text-destructive",children:["JSON hatası: ",(0,b.jsx)("span",{className:"font-medium",children:r})]}):null]})}],1229)},47649,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(23292),f=a.i(99570),g=a.i(66718),h=a.i(70430),i=a.i(63658),j=a.i(91119),k=a.i(1229),l=a.i(1664);a.i(34658);var m=a.i(42969);a.i(58501);var n=a.i(76970);let o={code:"",price_amount:"",price_unit:"month",currency:"EUR",is_active:!0,is_featured:!1,display_order:0,cta_href:"",i18n:[]};function p({id:a}){let p=(0,d.useRouter)(),{copy:q}=(0,l.useAdminUiCopy)(),r=q.pages?.pricing_detail??{},s=q.common,t="new"===String(a),u=!t&&(0,m.isUuidLike)(a),v=(0,n.useGetPricingPlanAdminQuery)(a,{skip:!u,refetchOnMountOrArgChange:!0}),[w,x]=(0,n.useCreatePricingPlanAdminMutation)(),[y,z]=(0,n.useUpdatePricingPlanAdminMutation)(),[A,B]=c.useState(o);async function C(){if(!A.code.trim())return void e.toast.error(r?.code_required||"");if(!A.i18n||0===A.i18n.length)return void e.toast.error(r?.i18n_required||"");try{let a={code:A.code.trim(),price_amount:A.price_amount,price_unit:A.price_unit??"month",currency:A.currency??"EUR",is_active:!!A.is_active,is_featured:!!A.is_featured,display_order:Number(A.display_order??0),cta_href:A.cta_href?.trim()||null,i18n:Array.isArray(A.i18n)?A.i18n:[]};if(t){let b=await w(a).unwrap();if(b?.id){e.toast.success(s?.actions?.save||""),p.replace(`/admin/pricing/${encodeURIComponent(b.id)}`);return}}else A.id&&(await y({id:A.id,patch:a}).unwrap(),e.toast.success(s?.actions?.save||""))}catch(a){e.toast.error(a?.data?.error?.message||a?.message||s?.states?.error||"")}}return c.useEffect(()=>{if(v.data){let a=v.data;B({id:a.id,code:a.code,price_amount:a.price_amount,price_unit:a.price_unit,currency:a.currency,is_active:a.is_active,is_featured:a.is_featured,display_order:a.display_order,cta_href:a.cta_href??"",i18n:a.i18n??[]})}t&&B({...o})},[v.data,t]),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h1",{className:"text-lg font-semibold",children:t?r?.create_title:r?.edit_title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:r?.subtitle})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>p.push("/admin/pricing"),children:s?.actions?.back}),(0,b.jsx)(f.Button,{onClick:C,disabled:x.isLoading||z.isLoading,children:s?.actions?.save})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 xl:grid-cols-3",children:[(0,b.jsxs)(j.Card,{className:"xl:col-span-2",children:[(0,b.jsxs)(j.CardHeader,{className:"gap-2",children:[(0,b.jsx)(j.CardTitle,{className:"text-base",children:r?.form_title}),(0,b.jsx)(j.CardDescription,{children:r?.form_desc})]}),(0,b.jsxs)(j.CardContent,{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:r?.code_label}),(0,b.jsx)(g.Input,{value:A.code,onChange:a=>B(b=>({...b,code:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:r?.currency_label}),(0,b.jsx)(g.Input,{value:A.currency??"",onChange:a=>B(b=>({...b,currency:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:r?.price_amount_label}),(0,b.jsx)(g.Input,{type:"number",value:A.price_amount??"",onChange:a=>B(b=>({...b,price_amount:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:r?.price_unit_label}),(0,b.jsx)(g.Input,{value:A.price_unit??"",onChange:a=>B(b=>({...b,price_unit:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:r?.cta_href_label}),(0,b.jsx)(g.Input,{value:A.cta_href??"",onChange:a=>B(b=>({...b,cta_href:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:r?.order_label}),(0,b.jsx)(g.Input,{type:"number",value:A.display_order??0,onChange:a=>B(b=>({...b,display_order:Number(a.target.value)}))})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-6",children:[(0,b.jsx)(i.Switch,{checked:!!A.is_active,onCheckedChange:a=>B(b=>({...b,is_active:a}))}),(0,b.jsx)(h.Label,{children:r?.active_label})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-6",children:[(0,b.jsx)(i.Switch,{checked:!!A.is_featured,onCheckedChange:a=>B(b=>({...b,is_featured:a}))}),(0,b.jsx)(h.Label,{children:r?.featured_label})]})]})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{className:"gap-2",children:[(0,b.jsx)(j.CardTitle,{className:"text-base",children:r?.i18n_title}),(0,b.jsx)(j.CardDescription,{children:r?.i18n_desc})]}),(0,b.jsx)(j.CardContent,{children:(0,b.jsx)(k.AdminJsonEditor,{label:r?.i18n_label,value:A.i18n??[],onChange:a=>B(b=>({...b,i18n:Array.isArray(a)?a:[]})),helperText:r?.i18n_help,height:320})})]})]})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=src_986f1a0c._.js.map
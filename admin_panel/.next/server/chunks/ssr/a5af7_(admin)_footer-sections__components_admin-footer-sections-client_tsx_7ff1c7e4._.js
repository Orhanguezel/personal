module.exports=[93071,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(23292),f=a.i(15618),g=a.i(28790),h=a.i(87532),i=a.i(81560),j=a.i(99464),k=a.i(96221),l=a.i(28551),m=a.i(30637),n=a.i(68114),o=a.i(99570),p=a.i(66718),q=a.i(70430),r=a.i(86304),s=a.i(91119),t=a.i(63658),u=a.i(42737),v=a.i(80701),w=a.i(6015),x=a.i(86192);a.i(58501);var y=a.i(78393);function z(a){if(!a)return"-";try{let b=new Date(a);if(Number.isNaN(b.getTime()))return String(a);return b.toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return String(a)}}function A(a,b=40){let c=a||"";return c.length<=b?c||"-":c.slice(0,b-1)+"…"}function B(a){return a?.data?.error?.message||a?.data?.message||a?.message||"İşlem başarısız"}function C(){let a=(0,d.useRouter)(),C=(0,d.useSearchParams)(),{localeOptions:D,defaultLocaleFromDb:E,coerceLocale:F,loading:G}=(0,l.useAdminLocales)(),H=c.useMemo(()=>Array.isArray(D)?D.map(a=>({value:a.value||"",label:a.label||a.value||""})):[],[D]),[I,J]=c.useState(()=>({search:"",activeFilter:"all",locale:""})),[K,L]=c.useState(!1),[M,N]=c.useState(null);c.useEffect(()=>{if(!I.locale&&E){let a=C.get("locale")||E||(0,m.localeShortClientOr)("de")||"de";J(b=>({...b,locale:a}))}},[E,C,I.locale]),c.useEffect(()=>{if(!I.locale||(C.get("locale")||"")===I.locale)return;let b=new URLSearchParams(C.toString());b.set("locale",I.locale),a.replace(`?${b.toString()}`,{scroll:!1})},[I.locale,a,C]);let O=c.useMemo(()=>{let a=I.locale||E||"de";return{q:I.search||void 0,is_active:"active"===I.activeFilter||"inactive"!==I.activeFilter&&void 0,locale:a,sort:"display_order",orderDir:"asc"}},[I,E]),{data:P,isLoading:Q,isFetching:R,refetch:S}=(0,y.useListFooterSectionsAdminQuery)(O),[T]=(0,y.useUpdateFooterSectionAdminMutation)(),[U]=(0,y.useDeleteFooterSectionAdminMutation)(),V=P?.items||[],W=P?.total||0,X=async a=>{try{await T({id:a.id,data:{is_active:!a.is_active}}).unwrap(),e.toast.success(a.is_active?"Pasif yapıldı":"Aktif yapıldı")}catch(a){e.toast.error(B(a))}},Y=b=>{a.push(`/admin/footer-sections/${b.id}`)},Z=a=>{N(a),L(!0)},$=async()=>{if(M)try{await U(M.id).unwrap(),e.toast.success("Kayıt silindi"),L(!1),N(null)}catch(a){e.toast.error(B(a))}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(s.Card,{children:[(0,b.jsx)(s.CardHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.CardTitle,{children:"Footer Sections"}),(0,b.jsx)(s.CardDescription,{children:"Footer bölümlerini yönetin. Her bölüm footer'da bir kolon oluşturur."})]}),(0,b.jsxs)(o.Button,{onClick:()=>a.push("/admin/footer-sections/new"),disabled:Q,className:"gap-2",children:[(0,b.jsx)(f.Plus,{className:"size-4"}),"Yeni Ekle"]})]})}),(0,b.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"search",className:"text-sm",children:"Ara"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Search,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(p.Input,{id:"search",placeholder:"Başlık, slug...",value:I.search,onChange:a=>{var b;return b=a.target.value,void J(a=>({...a,search:b}))},disabled:Q,className:"pl-9"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"activeFilter",className:"text-sm",children:"Durum"}),(0,b.jsxs)(v.Select,{value:I.activeFilter,onValueChange:a=>{J(b=>({...b,activeFilter:a}))},disabled:Q,children:[(0,b.jsx)(v.SelectTrigger,{id:"activeFilter",children:(0,b.jsx)(v.SelectValue,{})}),(0,b.jsxs)(v.SelectContent,{children:[(0,b.jsx)(v.SelectItem,{value:"all",children:"Tümü"}),(0,b.jsx)(v.SelectItem,{value:"active",children:"Aktif"}),(0,b.jsx)(v.SelectItem,{value:"inactive",children:"Pasif"})]})]})]}),(0,b.jsx)("div",{className:"sm:col-span-2 lg:col-span-1",children:(0,b.jsx)(u.AdminLocaleSelect,{value:I.locale||E||"",onChange:a=>{let b=F(a,E);J(a=>({...a,locale:b}))},options:H,loading:G,disabled:Q})}),(0,b.jsx)("div",{className:"flex items-end sm:col-span-2 lg:col-span-1",children:(0,b.jsxs)(o.Button,{variant:"outline",onClick:()=>S(),disabled:Q,className:"w-full gap-2 sm:w-auto",children:[(0,b.jsx)(g.RefreshCcw,{className:(0,n.cn)("size-4",R&&"animate-spin")}),"Yenile"]})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2 text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{children:["Toplam ",(0,b.jsx)("strong",{children:W})," kayıt"]}),R&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Loader2,{className:"size-4 animate-spin"}),(0,b.jsx)("span",{children:"Yükleniyor..."})]})]})]})]}),(0,b.jsx)(s.Card,{className:"hidden xl:block",children:(0,b.jsx)(s.CardContent,{className:"p-0",children:(0,b.jsxs)(w.Table,{children:[(0,b.jsx)(w.TableHeader,{children:(0,b.jsxs)(w.TableRow,{children:[(0,b.jsx)(w.TableHead,{className:"w-16",children:"#"}),(0,b.jsx)(w.TableHead,{children:"Başlık"}),(0,b.jsx)(w.TableHead,{children:"Slug"}),(0,b.jsx)(w.TableHead,{className:"w-24 text-center",children:"Aktif"}),(0,b.jsx)(w.TableHead,{className:"w-32",children:"Locale"}),(0,b.jsx)(w.TableHead,{className:"w-44",children:"Tarih"}),(0,b.jsx)(w.TableHead,{className:"w-40 text-right",children:"İşlemler"})]})}),(0,b.jsx)(w.TableBody,{children:Q?(0,b.jsx)(w.TableRow,{children:(0,b.jsx)(w.TableCell,{colSpan:7,className:"h-24 text-center",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)(k.Loader2,{className:"size-5 animate-spin"}),(0,b.jsx)("span",{children:"Yükleniyor..."})]})})}):0===V.length?(0,b.jsx)(w.TableRow,{children:(0,b.jsx)(w.TableCell,{colSpan:7,className:"h-24 text-center",children:"Kayıt bulunamadı."})}):V.map(a=>(0,b.jsxs)(w.TableRow,{children:[(0,b.jsx)(w.TableCell,{className:"font-medium text-muted-foreground",children:a.display_order}),(0,b.jsx)(w.TableCell,{children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"font-medium",children:a.title||"-"}),a.description&&(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:A(a.description,60)})]})}),(0,b.jsx)(w.TableCell,{children:(0,b.jsx)("code",{className:"rounded bg-muted px-2 py-1 text-xs",children:a.slug||"-"})}),(0,b.jsx)(w.TableCell,{className:"text-center",children:(0,b.jsx)(t.Switch,{checked:a.is_active,onCheckedChange:()=>X(a),disabled:Q})}),(0,b.jsx)(w.TableCell,{children:a.locale?(0,b.jsx)(r.Badge,{variant:"outline",children:a.locale}):(0,b.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,b.jsxs)(w.TableCell,{className:"text-xs text-muted-foreground",children:[(0,b.jsx)("div",{children:z(a.created_at)}),(0,b.jsxs)("div",{className:"text-[10px]",children:["Güncelleme: ",z(a.updated_at)]})]}),(0,b.jsx)(w.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>Y(a),disabled:Q,className:"gap-2",children:[(0,b.jsx)(j.Pencil,{className:"size-3.5"}),"Düzenle"]}),(0,b.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>Z(a),disabled:Q,className:"gap-2",children:[(0,b.jsx)(i.Trash2,{className:"size-3.5"}),"Sil"]})]})})]},a.id))})]})})}),(0,b.jsx)("div",{className:"space-y-4 xl:hidden",children:Q?(0,b.jsx)(s.Card,{children:(0,b.jsx)(s.CardContent,{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Loader2,{className:"size-5 animate-spin"}),(0,b.jsx)("span",{children:"Yükleniyor..."})]})})}):0===V.length?(0,b.jsx)(s.Card,{children:(0,b.jsx)(s.CardContent,{className:"py-12 text-center text-muted-foreground",children:"Kayıt bulunamadı."})}):V.map(a=>(0,b.jsx)(s.Card,{children:(0,b.jsxs)(s.CardContent,{className:"space-y-4 pt-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(r.Badge,{variant:"secondary",children:["#",a.display_order]}),a.locale&&(0,b.jsx)(r.Badge,{variant:"outline",children:a.locale})]}),(0,b.jsx)("h3",{className:"font-semibold",children:a.title||"-"}),a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:A(a.description,80)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Label,{className:"text-sm",children:"Aktif"}),(0,b.jsx)(t.Switch,{checked:a.is_active,onCheckedChange:()=>X(a),disabled:Q})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(q.Label,{className:"text-xs text-muted-foreground",children:"Slug"}),(0,b.jsx)("code",{className:"block rounded bg-muted px-2 py-1 text-xs",children:a.slug||"-"})]}),(0,b.jsxs)("div",{className:"space-y-1 text-xs text-muted-foreground",children:[(0,b.jsxs)("div",{children:["Oluşturma: ",z(a.created_at)]}),(0,b.jsxs)("div",{children:["Güncelleme: ",z(a.updated_at)]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>Y(a),disabled:Q,className:"flex-1 gap-2",children:[(0,b.jsx)(j.Pencil,{className:"size-3.5"}),"Düzenle"]}),(0,b.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>Z(a),disabled:Q,className:"flex-1 gap-2",children:[(0,b.jsx)(i.Trash2,{className:"size-3.5"}),"Sil"]})]})]})},a.id))})]}),(0,b.jsx)(x.AlertDialog,{open:K,onOpenChange:L,children:(0,b.jsxs)(x.AlertDialogContent,{children:[(0,b.jsxs)(x.AlertDialogHeader,{children:[(0,b.jsx)(x.AlertDialogTitle,{children:"Silmek istediğinizden emin misiniz?"}),(0,b.jsxs)(x.AlertDialogDescription,{children:[(0,b.jsx)("strong",{children:M?.title||"Bu kayıt"})," silinecek. Bu işlem geri alınamaz."]})]}),(0,b.jsxs)(x.AlertDialogFooter,{children:[(0,b.jsx)(x.AlertDialogCancel,{children:"İptal"}),(0,b.jsx)(x.AlertDialogAction,{onClick:$,children:"Sil"})]})]})})]})}a.s(["default",()=>C])}];

//# sourceMappingURL=a5af7_%28admin%29_footer-sections__components_admin-footer-sections-client_tsx_7ff1c7e4._.js.map
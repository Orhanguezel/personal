{"version":3,"sources":["../../../../src/app/%28main%29/admin/%28admin%29/slider/_components/admin-slider-detail-client.tsx","../../../../src/app/%28main%29/admin/%28admin%29/slider/_components/SliderFormPage.tsx","../../../../src/app/%28main%29/admin/%28admin%29/slider/_components/SliderFormHeader.tsx","../../../../src/app/%28main%29/admin/%28admin%29/slider/_components/SliderForm.tsx","../../../../src/app/%28main%29/admin/%28admin%29/slider/_components/SliderFormImageColumn.tsx","../../../../src/app/%28main%29/admin/%28admin%29/slider/_components/SliderFormJsonSection.tsx"],"sourcesContent":["'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/slider/admin-slider-detail-client.tsx\n// FINAL — Services pattern (App Router + RTK)\n// - Locale priority: query.locale > DB default > first\n// - RTK detail query runs ONLY when: edit + id + locale ready\n// - Fix: \"Yükleniyor...\" stuck because skip was treated as loading\n// =============================================================\n\nimport * as React from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\n\nimport { useGetSliderAdminQuery } from '@/integrations/hooks';\nimport { useAdminLocales } from '@/app/(main)/admin/_components/common/useAdminLocales';\n\nimport { SliderFormPage } from '@/app/(main)/admin/(admin)/slider/_components/SliderFormPage';\nimport type { SliderAdminDto } from '@/integrations/shared';\n\nconst normLocale = (v: unknown) => (typeof v === 'string' ? v.trim().toLowerCase() : '');\n\ntype Props = { mode: 'create'; id?: string } | { mode: 'edit'; id: string };\n\nexport default function AdminSliderDetailClient(props: Props) {\n  const router = useRouter();\n  const sp = useSearchParams();\n\n  const id = props.mode === 'edit' ? String(props.id || '').trim() : '';\n\n  // query.locale\n  const rawLocaleFromQuery = sp.get('locale');\n\n  // locales from DB\n  const localesHook: any = useAdminLocales();\n  const localesLoading: boolean =\n    !!localesHook?.loading || !!localesHook?.isLoading || !!localesHook?.isFetching;\n\n  const defaultLocaleFromDb = normLocale(\n    localesHook?.defaultLocaleFromDb ??\n      localesHook?.defaultLocale ??\n      localesHook?.default_locale ??\n      localesHook?.default ??\n      '',\n  );\n\n  const localeOptions = React.useMemo(() => {\n    const raw = Array.isArray(localesHook?.localeOptions)\n      ? localesHook.localeOptions\n      : Array.isArray(localesHook?.locales)\n        ? localesHook.locales\n        : Array.isArray(localesHook?.options)\n          ? localesHook.options\n          : [];\n\n    return raw\n      .map((x: any) => ({\n        value: normLocale(x?.value ?? x?.code ?? x),\n        label: String(x?.label ?? x?.name ?? x?.value ?? x?.code ?? x ?? '').trim(),\n      }))\n      .filter((x: any) => !!x.value);\n  }, [localesHook]);\n\n  // effective locale: query > db default > first\n  const effectiveLocale = React.useMemo(() => {\n    const q = normLocale(rawLocaleFromQuery || '');\n    const set = new Set(localeOptions.map((o: any) => o.value));\n    if (q && set.has(q)) return q;\n    if (defaultLocaleFromDb && set.has(defaultLocaleFromDb)) return defaultLocaleFromDb;\n    return localeOptions?.[0]?.value || '';\n  }, [rawLocaleFromQuery, defaultLocaleFromDb, localeOptions]);\n\n  // ✅ Only skip when we truly cannot query.\n  const skipDetail = props.mode !== 'edit' || localesLoading || !id || !effectiveLocale;\n\n  // ✅ IMPORTANT: use object arg-shape (matches old pages router code)\n  const { data, isLoading, isFetching, isError } = useGetSliderAdminQuery(\n    { id, locale: effectiveLocale || undefined } as any,\n    { skip: skipDetail } as any,\n  );\n\n  // ✅ Fix stuck \"loading\": skipDetail should NOT be treated as loading forever\n  const loading =\n    localesLoading || (props.mode === 'edit' && !skipDetail && (isLoading || isFetching));\n\n  const handleDone = () => {\n    const loc = effectiveLocale || '';\n    const href = loc ? `/admin/slider?locale=${encodeURIComponent(loc)}` : '/admin/slider';\n    router.push(href);\n  };\n\n  return (\n    <SliderFormPage\n      mode={props.mode}\n      locale={effectiveLocale}\n      localeOptions={localeOptions}\n      localesLoading={localesLoading}\n      initialData={props.mode === 'edit' ? ((data as SliderAdminDto) ?? null) : null}\n      loading={loading}\n      // opsiyonel: error durumunda formu kilitleme\n      // (UI tarafında boş data ile düzenleme yapılabilir; istersen burada toast basarız)\n      onDone={handleDone}\n    />\n  );\n}\n","'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/slider/_components/SliderFormPage.tsx\n// FINAL — Services pattern form page\n// - Locale injected from detail-client (single source)\n// - No locale resolving here\n// - No stuck loading: uses `loading` from detail-client (skip not counted)\n// =============================================================\n\nimport * as React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { toast } from 'sonner';\n\nimport type { SliderAdminDto } from '@/integrations/shared';\nimport { useCreateSliderAdminMutation, useUpdateSliderAdminMutation } from '@/integrations/hooks';\n\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\n\nimport { SliderFormHeader } from './SliderFormHeader';\nimport { SliderForm, type SliderFormValues } from './SliderForm';\nimport { SliderFormImageColumn } from './SliderFormImageColumn';\nimport { SliderFormJsonSection } from './SliderFormJsonSection';\nimport { useAdminT } from '@/app/(main)/admin/_components/common/useAdminT';\n\nconst norm = (v: unknown) => (v === null || v === undefined ? '' : String(v).trim());\nconst normLocale = (v: unknown) => norm(v).toLowerCase();\nconst toNull = (v: unknown) => {\n  const s = norm(v);\n  return s ? s : null;\n};\nconst toInt = (v: unknown, fallback = 0) => {\n  const n = Number(norm(v));\n  return Number.isFinite(n) ? n : fallback;\n};\n\nfunction buildValuesFromDto(dto: SliderAdminDto | null, locale: string): SliderFormValues {\n  const d: any = dto || {};\n  const loc = normLocale(locale || d?.locale);\n  return {\n    locale: loc || '',\n\n    name: norm(d.name),\n    slug: norm(d.slug),\n    description: norm(d.description),\n\n    image_url: norm(d.image_effective_url || d.image_url),\n    alt: norm(d.alt),\n\n    buttonText: norm(d.buttonText || d.button_text),\n    buttonLink: norm(d.buttonLink || d.button_link),\n\n    featured: !!d.featured,\n    is_active: d.is_active !== false,\n    display_order: toInt(d.display_order, 0),\n  };\n}\n\nexport type SliderFormPageProps = {\n  mode: 'create' | 'edit';\n\n  locale: string;\n  localeOptions: { value: string; label: string }[];\n  localesLoading: boolean;\n\n  initialData: SliderAdminDto | null;\n  loading: boolean;\n\n  onDone?: () => void;\n};\n\nexport function SliderFormPage({\n  mode,\n  locale,\n  localeOptions,\n  localesLoading,\n  initialData,\n  loading,\n  onDone,\n}: SliderFormPageProps) {\n  const router = useRouter();\n  const t = useAdminT();\n\n  const [createSlider, { isLoading: isCreating }] = useCreateSliderAdminMutation();\n  const [updateSlider, { isLoading: isUpdating }] = useUpdateSliderAdminMutation();\n\n  const saving = isCreating || isUpdating;\n  const disabled = loading || localesLoading || saving;\n\n  const [viewMode, setViewMode] = React.useState<'form' | 'json'>('form');\n\n  const [values, setValues] = React.useState<SliderFormValues>(() =>\n    buildValuesFromDto(initialData, locale),\n  );\n\n  // sync when dto/locale changes\n  React.useEffect(() => {\n    setValues((prev) => {\n      const next = buildValuesFromDto(initialData, locale || prev.locale);\n\n      const current = normLocale(prev.locale);\n      const set = new Set((localeOptions ?? []).map((o) => normLocale(o.value)));\n\n      // keep current if valid, else fall back to injected locale\n      const safeLocale = current && set.has(current) ? current : normLocale(locale);\n\n      return { ...next, locale: safeLocale || next.locale };\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialData, locale, localeOptions]);\n\n  const handleChange = <K extends keyof SliderFormValues>(k: K, v: SliderFormValues[K]) => {\n    setValues((prev) => ({ ...prev, [k]: v }));\n  };\n\n  const handleLocaleChange = (nextLocale: string) => {\n    const nl = normLocale(nextLocale);\n    if (!nl) return;\n    setValues((prev) => ({ ...prev, locale: nl }));\n    // URL sync'ini detail-client tarafında yapıyorsun (services pattern)\n  };\n\n  const validate = () => {\n    const loc = normLocale(values.locale || locale);\n    if (!loc) return t('admin.slider.form.localeRequired');\n    if (!norm(values.name)) return t('admin.slider.form.titleRequired');\n    if (!norm(values.slug)) return t('admin.slider.form.slugRequired');\n    return '';\n  };\n\n  const persist = async () => {\n    const err = validate();\n    if (err) {\n      toast.error(err);\n      return;\n    }\n\n    const id = String((initialData as any)?.id || '');\n\n    const payload: any = {\n      locale: normLocale(values.locale || locale),\n\n      name: norm(values.name),\n      slug: norm(values.slug),\n      description: String(values.description || ''),\n\n      image_url: toNull(values.image_url),\n      alt: toNull(values.alt),\n\n      buttonText: toNull(values.buttonText),\n      buttonLink: toNull(values.buttonLink),\n\n      featured: !!values.featured,\n      is_active: !!values.is_active,\n      display_order: toInt(values.display_order, 0),\n    };\n\n    try {\n      if (mode === 'create') {\n        const tries = [\n          () => createSlider(payload as any).unwrap(),\n          () => createSlider({ payload } as any).unwrap(),\n          () => createSlider({ data: payload } as any).unwrap(),\n        ];\n\n        let created: any = null;\n        let lastErr: any = null;\n\n        for (const fn of tries) {\n          try {\n            created = await fn();\n            lastErr = null;\n            break;\n          } catch (e: any) {\n            lastErr = e;\n          }\n        }\n        if (lastErr) throw lastErr;\n\n        const newId = String(created?.id || created?.data?.id || '');\n        toast.success(t('admin.slider.form.created'));\n\n        if (newId) {\n          const loc = payload.locale;\n          const href = loc\n            ? `/admin/slider/${encodeURIComponent(newId)}?locale=${encodeURIComponent(loc)}`\n            : `/admin/slider/${encodeURIComponent(newId)}`;\n          router.replace(href);\n        } else {\n          onDone?.();\n        }\n      } else {\n        if (!id) {\n          toast.error(t('admin.slider.form.idNotFound'));\n          return;\n        }\n\n        const patch = payload;\n\n        const tries = [\n          () => updateSlider({ id, patch } as any).unwrap(),\n          () => updateSlider({ id, payload: patch } as any).unwrap(),\n          () => updateSlider({ id, data: patch } as any).unwrap(),\n          () => updateSlider({ sliderId: id, patch } as any).unwrap(),\n          () => updateSlider({ sliderId: id, payload: patch } as any).unwrap(),\n        ];\n\n        let lastErr: any = null;\n        for (const fn of tries) {\n          try {\n            await fn();\n            lastErr = null;\n            break;\n          } catch (e: any) {\n            lastErr = e;\n          }\n        }\n        if (lastErr) throw lastErr;\n\n        toast.success(t('admin.slider.form.updated'));\n        onDone?.();\n      }\n    } catch (e: any) {\n      const msg =\n        e?.data?.error?.message || e?.data?.message || e?.message || t('admin.slider.form.saveError');\n      toast.error(msg);\n    }\n  };\n\n  const title =\n    mode === 'edit' ? norm((initialData as any)?.name) || t('admin.slider.form.editTitle') : t('admin.slider.form.createTitle');\n\n  const effectiveLoc = normLocale(values.locale || locale);\n\n  return (\n    <div className=\"space-y-4\">\n      <SliderFormHeader\n        mode={mode}\n        title={title}\n        loading={loading || localesLoading}\n        saving={saving}\n        onBack={onDone}\n        onSave={persist}\n      />\n\n      <Card>\n        <CardContent className=\"pt-6 space-y-4\">\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Button\n              type=\"button\"\n              variant={viewMode === 'form' ? 'default' : 'outline'}\n              onClick={() => setViewMode('form')}\n              disabled={disabled}\n            >\n              {t('admin.slider.form.formMode')}\n            </Button>\n            <Button\n              type=\"button\"\n              variant={viewMode === 'json' ? 'default' : 'outline'}\n              onClick={() => setViewMode('json')}\n              disabled={disabled}\n            >\n              {t('admin.slider.form.jsonMode')}\n            </Button>\n          </div>\n\n          {viewMode === 'json' ? (\n            <SliderFormJsonSection\n              value={values as any}\n              disabled={disabled}\n              onChange={(next) => setValues(next as any)}\n            />\n          ) : (\n            <div className=\"grid gap-4 lg:grid-cols-3\">\n              <div className=\"lg:col-span-2 space-y-4\">\n                <SliderForm\n                  mode={mode}\n                  values={values}\n                  onChange={handleChange}\n                  onLocaleChange={handleLocaleChange}\n                  saving={disabled}\n                  localeOptions={localeOptions}\n                  localesLoading={localesLoading}\n                />\n              </div>\n\n              <div className=\"space-y-4\">\n                <SliderFormImageColumn\n                  disabled={disabled}\n                  locale={effectiveLoc}\n                  value={{ image_url: values.image_url, alt: values.alt }}\n                  metadata={{\n                    module_key: 'slider',\n                    locale: effectiveLoc,\n                    ...(mode === 'edit' && (initialData as any)?.id\n                      ? { slider_id: String((initialData as any).id) }\n                      : {}),\n                    slug: values.slug || values.name || '',\n                  }}\n                  onChange={(patch) => {\n                    if (typeof patch.image_url === 'string')\n                      handleChange('image_url', patch.image_url);\n                    if (typeof patch.alt === 'string') handleChange('alt', patch.alt);\n                  }}\n                />\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/slider/_components/SliderFormHeader.tsx\n// Slider Form Header (shadcn/tailwind)\n// =============================================================\n\nimport * as React from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { useAdminT } from '@/app/(main)/admin/_components/common/useAdminT';\n\nexport type SliderFormHeaderProps = {\n  mode: 'create' | 'edit';\n  title?: string;\n  loading?: boolean;\n  saving?: boolean;\n  onBack?: () => void;\n  onSave?: () => void;\n};\n\nexport function SliderFormHeader({\n  mode,\n  title,\n  loading,\n  saving,\n  onBack,\n  onSave,\n}: SliderFormHeaderProps) {\n  const t = useAdminT();\n  const mainTitle = title || (mode === 'create' ? t('admin.slider.formHeader.createTitle') : t('admin.slider.formHeader.editTitle'));\n\n  return (\n    <Card>\n      <CardHeader className=\"gap-2\">\n        <div className=\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between\">\n          <div className=\"space-y-1\">\n            <CardTitle className=\"text-base\">{mainTitle}</CardTitle>\n            <CardDescription>\n              {t('admin.slider.formHeader.description')}\n            </CardDescription>\n          </div>\n\n          <div className=\"flex flex-wrap items-center gap-2\">\n            {loading ? <Badge variant=\"secondary\">{t('admin.slider.formHeader.loading')}</Badge> : null}\n            {saving ? <Badge variant=\"secondary\">{t('admin.slider.formHeader.saving')}</Badge> : null}\n\n            {onBack ? (\n              <Button variant=\"outline\" onClick={onBack} disabled={!!loading || !!saving}>\n                {t('admin.slider.formHeader.backButton')}\n              </Button>\n            ) : null}\n\n            {onSave ? (\n              <Button onClick={onSave} disabled={!!loading || !!saving}>\n                {mode === 'create' ? t('admin.slider.formHeader.createButton') : t('admin.slider.formHeader.saveButton')}\n              </Button>\n            ) : null}\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent />\n    </Card>\n  );\n}\n","'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/slider/_components/SliderForm.tsx\n// FINAL — Slug auto ONLY in create mode\n// =============================================================\n\nimport * as React from 'react';\n\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\n\nimport RichContentEditor from '@/app/(main)/admin/_components/common/RichContentEditor';\nimport { useAdminT } from '@/app/(main)/admin/_components/common/useAdminT';\n\nexport type AdminLocaleOption = { value: string; label: string };\n\nexport type SliderFormValues = {\n  locale: string;\n\n  name: string;\n  slug: string;\n  description: string;\n\n  image_url: string;\n  alt: string;\n\n  buttonText: string;\n  buttonLink: string;\n\n  featured: boolean;\n  is_active: boolean;\n  display_order: number;\n};\n\nexport type SliderFormProps = {\n  mode: 'create' | 'edit';\n  values: SliderFormValues;\n  onChange: <K extends keyof SliderFormValues>(field: K, value: SliderFormValues[K]) => void;\n  onLocaleChange?: (locale: string) => void;\n  saving: boolean;\n  localeOptions: AdminLocaleOption[];\n  localesLoading?: boolean;\n};\n\nconst norm = (v: unknown) => (typeof v === 'string' ? v.trim() : '');\nconst normLocale = (v: unknown) => norm(v).toLowerCase();\n\nfunction slugify(v: string) {\n  const s = (v || '').trim();\n  if (!s) return '';\n  return s\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .replace(/ß/g, 'ss')\n    .replace(/[^a-z0-9\\s-]/g, '')\n    .trim()\n    .replace(/\\s+/g, '-')\n    .replace(/-+/g, '-');\n}\n\nexport function SliderForm({\n  mode,\n  values,\n  onChange,\n  onLocaleChange,\n  saving,\n  localeOptions,\n  localesLoading,\n}: SliderFormProps) {\n  const t = useAdminT();\n  const options = React.useMemo(\n    () =>\n      (localeOptions ?? [])\n        .map((x) => ({ value: normLocale(x.value), label: String(x.label || '').trim() }))\n        .filter((x) => !!x.value),\n    [localeOptions],\n  );\n\n  const effectiveLocaleValue = React.useMemo(() => {\n    const cur = normLocale(values.locale);\n    const set = new Set(options.map((o) => o.value));\n    if (cur && set.has(cur)) return cur;\n    return options?.[0]?.value || '';\n  }, [values.locale, options]);\n\n  const [slugTouched, setSlugTouched] = React.useState(false);\n\n  React.useEffect(() => {\n    if (mode !== 'create') return;\n    if (saving) return;\n    if (!values.name) return;\n    if (slugTouched) return;\n    onChange('slug', slugify(values.name));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [values.name, mode, saving, slugTouched]);\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"text-base\">{t('admin.slider.form.contentTitle')}</CardTitle>\n      </CardHeader>\n\n      <CardContent className=\"space-y-5\">\n        <div className=\"grid gap-4 md:grid-cols-3\">\n          <div className=\"space-y-2\">\n            <Label>{t('admin.slider.form.localeLabel')}</Label>\n            <select\n              className=\"h-10 w-full rounded-md border bg-background px-3 text-sm\"\n              disabled={saving || !!localesLoading || options.length === 0}\n              value={effectiveLocaleValue}\n              onChange={(e) => onLocaleChange?.(normLocale(e.target.value))}\n            >\n              {options.map((opt) => (\n                <option key={`${opt.value}:${opt.label}`} value={opt.value}>\n                  {opt.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"slider-order\">{t('admin.slider.form.orderLabel')}</Label>\n            <Input\n              id=\"slider-order\"\n              type=\"number\"\n              value={Number(values.display_order) || 0}\n              onChange={(e) => onChange('display_order', Number(e.target.value) || 0)}\n              disabled={saving}\n            />\n          </div>\n\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between rounded-md border px-3 py-2\">\n              <div className=\"space-y-0.5\">\n                <div className=\"text-sm font-medium\">{t('admin.slider.form.activeLabel')}</div>\n                <div className=\"text-xs text-muted-foreground\">{t('admin.slider.form.activeHelp')}</div>\n              </div>\n              <Switch\n                checked={!!values.is_active}\n                onCheckedChange={(v) => onChange('is_active', !!v)}\n                disabled={saving}\n              />\n            </div>\n\n            <div className=\"flex items-center justify-between rounded-md border px-3 py-2\">\n              <div className=\"space-y-0.5\">\n                <div className=\"text-sm font-medium\">{t('admin.slider.form.featuredLabel')}</div>\n                <div className=\"text-xs text-muted-foreground\">{t('admin.slider.form.featuredHelp')}</div>\n              </div>\n              <Switch\n                checked={!!values.featured}\n                onCheckedChange={(v) => onChange('featured', !!v)}\n                disabled={saving}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"slider-name\">{t('admin.slider.form.titleLabel')}</Label>\n            <Input\n              id=\"slider-name\"\n              value={values.name || ''}\n              onChange={(e) => onChange('name', e.target.value)}\n              disabled={saving}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"slider-slug\">{t('admin.slider.form.slugLabel')}</Label>\n            <Input\n              id=\"slider-slug\"\n              value={values.slug || ''}\n              onFocus={() => setSlugTouched(true)}\n              onChange={(e) => {\n                setSlugTouched(true);\n                onChange('slug', e.target.value);\n              }}\n              disabled={saving}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {t('admin.slider.form.slugHelp')}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label>{t('admin.slider.form.descriptionLabel')}</Label>\n          <RichContentEditor\n            label=\"\"\n            value={values.description || ''}\n            onChange={(next) => onChange('description', String(next || ''))}\n            disabled={saving}\n            height=\"240px\"\n          />\n        </div>\n\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"slider-btn-text\">{t('admin.slider.form.buttonTextLabel')}</Label>\n            <Input\n              id=\"slider-btn-text\"\n              value={values.buttonText || ''}\n              onChange={(e) => onChange('buttonText', e.target.value)}\n              disabled={saving}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"slider-btn-link\">{t('admin.slider.form.buttonLinkLabel')}</Label>\n            <Input\n              id=\"slider-btn-link\"\n              value={values.buttonLink || ''}\n              onChange={(e) => onChange('buttonLink', e.target.value)}\n              disabled={saving}\n            />\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"slider-alt\">{t('admin.slider.form.altLabel')}</Label>\n          <Input\n            id=\"slider-alt\"\n            value={values.alt || ''}\n            onChange={(e) => onChange('alt', e.target.value)}\n            disabled={saving}\n          />\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/slider/_components/SliderFormImageColumn.tsx\n// FINAL — Accepts `locale` prop (so TS2322 won't happen)\n// =============================================================\n\nimport * as React from 'react';\nimport { useRouter } from 'next/navigation';\n\nimport { AdminImageUploadField } from '@/app/(main)/admin/_components/common/AdminImageUploadField';\nimport { useAdminT } from '@/app/(main)/admin/_components/common/useAdminT';\n\nexport type SliderImageMetadata = Record<string, string | number | boolean | null | undefined>;\n\nexport type SliderFormImageColumnProps = {\n  metadata?: SliderImageMetadata;\n\n  /** optional: passed by parent */\n  locale?: string;\n\n  value: {\n    image_url: string;\n    alt: string;\n  };\n\n  disabled?: boolean;\n  onChange: (patch: Partial<{ image_url: string; alt: string }>) => void;\n\n  folder?: string;\n};\n\nconst norm = (v: unknown) => String(v ?? '').trim();\nconst normLocale = (v: unknown) => norm(v).toLowerCase();\n\nconst toMeta = (meta?: SliderImageMetadata): Record<string, string> | undefined => {\n  if (!meta) return undefined;\n  const entries = Object.entries(meta)\n    .map(([k, v]) => [k, String(v ?? '').trim()] as const)\n    .filter(([k, v]) => !!k && !!v);\n  return entries.length ? Object.fromEntries(entries) : undefined;\n};\n\nexport function SliderFormImageColumn({\n  metadata,\n  locale,\n  value,\n  disabled,\n  onChange,\n  folder,\n}: SliderFormImageColumnProps) {\n  const router = useRouter();\n  const t = useAdminT();\n\n  const effectiveMeta = React.useMemo(() => {\n    const base: SliderImageMetadata = {\n      module_key: 'slider',\n      ...(metadata || {}),\n      ...(locale ? { locale: normLocale(locale) } : {}),\n    };\n    return toMeta(base);\n  }, [metadata, locale]);\n\n  const imageUrl = norm(value?.image_url);\n  const alt = norm(value?.alt);\n\n  return (\n    <div className=\"space-y-3\">\n      <AdminImageUploadField\n        label={t('admin.slider.formImage.imageLabel')}\n        helperText={\n          <>\n            {t('admin.slider.formImage.imageHelp')}\n          </>\n        }\n        bucket=\"public\"\n        folder={folder || 'slider'}\n        metadata={effectiveMeta}\n        value={imageUrl}\n        onChange={(url) => onChange({ image_url: norm(url) })}\n        disabled={!!disabled}\n        openLibraryHref=\"/admin/storage\"\n        onOpenLibraryClick={() => router.push('/admin/storage')}\n      />\n\n      <div className=\"space-y-2\">\n        <div className=\"text-sm font-medium\">{t('admin.slider.formImage.altLabel')}</div>\n        <input\n          className=\"h-10 w-full rounded-md border bg-background px-3 text-sm\"\n          value={alt}\n          onChange={(e) => onChange({ alt: e.target.value })}\n          disabled={!!disabled}\n          placeholder={t('admin.slider.formImage.altPlaceholder')}\n        />\n        <p className=\"text-xs text-muted-foreground\">\n          {t('admin.slider.formImage.altHelp')}\n        </p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/slider/_components/SliderFormJsonSection.tsx\n// Slider JSON section (AdminJsonEditor standard path)\n// =============================================================\n\nimport * as React from 'react';\n\nimport { AdminJsonEditor } from '@/app/(main)/admin/_components/common/AdminJsonEditor';\nimport { useAdminT } from '@/app/(main)/admin/_components/common/useAdminT';\n\nexport function SliderFormJsonSection<T extends Record<string, any>>(props: {\n  value: T;\n  disabled?: boolean;\n  onChange: (next: T) => void;\n}) {\n  const t = useAdminT();\n\n  return (\n    <AdminJsonEditor\n      value={props.value}\n      disabled={!!props.disabled}\n      onChange={(next) => props.onChange(next as T)}\n      label={t('admin.slider.formJson.label')}\n      helperText={t('admin.slider.formJson.helperText')}\n    />\n  );\n}\n"],"names":[],"mappings":"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"}
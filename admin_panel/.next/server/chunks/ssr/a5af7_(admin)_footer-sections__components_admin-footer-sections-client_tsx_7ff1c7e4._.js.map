{"version":3,"sources":["../../../../src/app/%28main%29/admin/%28admin%29/footer-sections/_components/admin-footer-sections-client.tsx"],"sourcesContent":["'use client';\n\n// =============================================================\n// FILE: src/app/(main)/admin/(admin)/footer-sections/_components/admin-footer-sections-client.tsx\n// FINAL — Admin Footer Sections List (App Router + shadcn)\n// ✅ Refetch error fixed\n// =============================================================\n\nimport * as React from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { toast } from 'sonner';\nimport { Plus, RefreshCcw, Search, Trash2, Pencil, Loader2 } from 'lucide-react';\n\nimport { useAdminLocales } from '@/app/(main)/admin/_components/common/useAdminLocales';\nimport { resolveAdminApiLocale } from '@/i18n/adminLocale';\nimport { localeShortClientOr } from '@/i18n/localeShortClient';\n\nimport { cn } from '@/lib/utils';\n\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Switch } from '@/components/ui/switch';\nimport { AdminLocaleSelect, type AdminLocaleOption } from '@/app/(main)/admin/_components/common/AdminLocaleSelect';\n\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\n\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\n\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\n\nimport type { FooterSectionDto, FooterSectionListQueryParams } from '@/integrations/shared';\nimport {\n  useListFooterSectionsAdminQuery,\n  useUpdateFooterSectionAdminMutation,\n  useDeleteFooterSectionAdminMutation,\n} from '@/integrations/hooks';\n\ntype ActiveFilter = 'all' | 'active' | 'inactive';\n\ntype Filters = {\n  search: string;\n  activeFilter: ActiveFilter;\n  locale: string;\n};\n\nfunction fmtDate(val: string | null | undefined) {\n  if (!val) return '-';\n  try {\n    const d = new Date(val);\n    if (Number.isNaN(d.getTime())) return String(val);\n    return d.toLocaleString('tr-TR', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  } catch {\n    return String(val);\n  }\n}\n\nfunction truncate(text: string | null | undefined, max = 40) {\n  const t = text || '';\n  if (t.length <= max) return t || '-';\n  return t.slice(0, max - 1) + '…';\n}\n\nfunction getErrMsg(e: unknown): string {\n  const anyErr = e as any;\n  return (\n    anyErr?.data?.error?.message ||\n    anyErr?.data?.message ||\n    anyErr?.message ||\n    'İşlem başarısız'\n  );\n}\n\nexport default function AdminFooterSectionsClient() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  // Locale management\n  const { localeOptions, defaultLocaleFromDb, coerceLocale, loading: localesLoading } = useAdminLocales();\n\n  const safeLocaleOptions: AdminLocaleOption[] = React.useMemo(() => {\n    if (!Array.isArray(localeOptions)) return [];\n    return localeOptions.map((opt) => ({\n      value: opt.value || '',\n      label: opt.label || opt.value || '',\n    }));\n  }, [localeOptions]);\n\n  const [filters, setFilters] = React.useState<Filters>(() => ({\n    search: '',\n    activeFilter: 'all',\n    locale: '',\n  }));\n\n  const [deleteDialogOpen, setDeleteDialogOpen] = React.useState(false);\n  const [itemToDelete, setItemToDelete] = React.useState<FooterSectionDto | null>(null);\n\n  // Set initial locale once when locales are loaded\n  React.useEffect(() => {\n    if (!filters.locale && defaultLocaleFromDb) {\n      const urlLocale = searchParams.get('locale') || '';\n      const initialLocale = urlLocale || defaultLocaleFromDb || localeShortClientOr(typeof window !== 'undefined' ? navigator.language : 'de') || 'de';\n      \n      setFilters((prev) => ({ ...prev, locale: initialLocale }));\n    }\n  }, [defaultLocaleFromDb, searchParams, filters.locale]);\n\n  // Update URL when locale changes (with guard to prevent loop)\n  React.useEffect(() => {\n    if (!filters.locale) return;\n    \n    const currentUrlLocale = searchParams.get('locale') || '';\n    if (currentUrlLocale === filters.locale) return;\n    \n    const params = new URLSearchParams(searchParams.toString());\n    params.set('locale', filters.locale);\n    router.replace(`?${params.toString()}`, { scroll: false });\n  }, [filters.locale, router, searchParams]);\n\n  // Build query params\n  const queryParams = React.useMemo((): FooterSectionListQueryParams => {\n    // ✅ FIX: Always provide a valid locale (no skip needed)\n    const apiLocale = filters.locale || defaultLocaleFromDb || 'de';\n\n    return {\n      q: filters.search || undefined,\n      is_active:\n        filters.activeFilter === 'active'\n          ? true\n          : filters.activeFilter === 'inactive'\n            ? false\n            : undefined,\n      locale: apiLocale,\n      sort: 'display_order',\n      orderDir: 'asc',\n    };\n  }, [filters, defaultLocaleFromDb]);\n\n  // ✅ FIX: Remove skip - always fetch with fallback locale\n  const {\n    data: result,\n    isLoading,\n    isFetching,\n    refetch,\n  } = useListFooterSectionsAdminQuery(queryParams);\n\n  const [updateSection] = useUpdateFooterSectionAdminMutation();\n  const [deleteSection] = useDeleteFooterSectionAdminMutation();\n\n  const items = result?.items || [];\n  const total = result?.total || 0;\n\n  const handleSearch = (value: string) => {\n    setFilters((prev) => ({ ...prev, search: value }));\n  };\n\n  const handleActiveFilterChange = (value: string) => {\n    setFilters((prev) => ({ ...prev, activeFilter: value as ActiveFilter }));\n  };\n\n  const handleLocaleChange = (locale: string) => {\n    const coerced = coerceLocale(locale, defaultLocaleFromDb);\n    setFilters((prev) => ({ ...prev, locale: coerced }));\n  };\n\n  const handleToggleActive = async (item: FooterSectionDto) => {\n    try {\n      await updateSection({\n        id: item.id,\n        data: { is_active: !item.is_active },\n      }).unwrap();\n      toast.success(item.is_active ? 'Pasif yapıldı' : 'Aktif yapıldı');\n    } catch (err) {\n      toast.error(getErrMsg(err));\n    }\n  };\n\n  const handleEdit = (item: FooterSectionDto) => {\n    router.push(`/admin/footer-sections/${item.id}`);\n  };\n\n  const handleDeleteClick = (item: FooterSectionDto) => {\n    setItemToDelete(item);\n    setDeleteDialogOpen(true);\n  };\n\n  const handleDeleteConfirm = async () => {\n    if (!itemToDelete) return;\n\n    try {\n      await deleteSection(itemToDelete.id).unwrap();\n      toast.success('Kayıt silindi');\n      setDeleteDialogOpen(false);\n      setItemToDelete(null);\n    } catch (err) {\n      toast.error(getErrMsg(err));\n    }\n  };\n\n  const busy = isLoading;\n\n  return (\n    <>\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <Card>\n          <CardHeader>\n            <div className=\"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between\">\n              <div className=\"space-y-1.5\">\n                <CardTitle>Footer Sections</CardTitle>\n                <CardDescription>\n                  Footer bölümlerini yönetin. Her bölüm footer'da bir kolon oluşturur.\n                </CardDescription>\n              </div>\n              <Button\n                onClick={() => router.push('/admin/footer-sections/new')}\n                disabled={busy}\n                className=\"gap-2\"\n              >\n                <Plus className=\"size-4\" />\n                Yeni Ekle\n              </Button>\n            </div>\n          </CardHeader>\n\n          <CardContent className=\"space-y-4\">\n            {/* Filters */}\n            <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n              {/* Search */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"search\" className=\"text-sm\">\n                  Ara\n                </Label>\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground\" />\n                  <Input\n                    id=\"search\"\n                    placeholder=\"Başlık, slug...\"\n                    value={filters.search}\n                    onChange={(e) => handleSearch(e.target.value)}\n                    disabled={busy}\n                    className=\"pl-9\"\n                  />\n                </div>\n              </div>\n\n              {/* Active Filter */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"activeFilter\" className=\"text-sm\">\n                  Durum\n                </Label>\n                <Select\n                  value={filters.activeFilter}\n                  onValueChange={handleActiveFilterChange}\n                  disabled={busy}\n                >\n                  <SelectTrigger id=\"activeFilter\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">Tümü</SelectItem>\n                    <SelectItem value=\"active\">Aktif</SelectItem>\n                    <SelectItem value=\"inactive\">Pasif</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Locale */}\n              <div className=\"sm:col-span-2 lg:col-span-1\">\n                <AdminLocaleSelect\n                  value={filters.locale || defaultLocaleFromDb || ''}\n                  onChange={handleLocaleChange}\n                  options={safeLocaleOptions}\n                  loading={localesLoading}\n                  disabled={busy}\n                />\n              </div>\n\n              {/* Refresh */}\n              <div className=\"flex items-end sm:col-span-2 lg:col-span-1\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => refetch()}\n                  disabled={busy}\n                  className=\"w-full gap-2 sm:w-auto\"\n                >\n                  <RefreshCcw\n                    className={cn('size-4', isFetching && 'animate-spin')}\n                  />\n                  Yenile\n                </Button>\n              </div>\n            </div>\n\n            {/* Info */}\n            <div className=\"flex items-center justify-between gap-2 text-sm text-muted-foreground\">\n              <span>\n                Toplam <strong>{total}</strong> kayıt\n              </span>\n              {isFetching && (\n                <div className=\"flex items-center gap-2\">\n                  <Loader2 className=\"size-4 animate-spin\" />\n                  <span>Yükleniyor...</span>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Table (Desktop) */}\n        <Card className=\"hidden xl:block\">\n          <CardContent className=\"p-0\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead className=\"w-16\">#</TableHead>\n                  <TableHead>Başlık</TableHead>\n                  <TableHead>Slug</TableHead>\n                  <TableHead className=\"w-24 text-center\">Aktif</TableHead>\n                  <TableHead className=\"w-32\">Locale</TableHead>\n                  <TableHead className=\"w-44\">Tarih</TableHead>\n                  <TableHead className=\"w-40 text-right\">İşlemler</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {isLoading ? (\n                  <TableRow>\n                    <TableCell colSpan={7} className=\"h-24 text-center\">\n                      <div className=\"flex items-center justify-center gap-2\">\n                        <Loader2 className=\"size-5 animate-spin\" />\n                        <span>Yükleniyor...</span>\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                ) : items.length === 0 ? (\n                  <TableRow>\n                    <TableCell colSpan={7} className=\"h-24 text-center\">\n                      Kayıt bulunamadı.\n                    </TableCell>\n                  </TableRow>\n                ) : (\n                  items.map((item) => (\n                    <TableRow key={item.id}>\n                      <TableCell className=\"font-medium text-muted-foreground\">\n                        {item.display_order}\n                      </TableCell>\n                      <TableCell>\n                        <div className=\"space-y-1\">\n                          <div className=\"font-medium\">{item.title || '-'}</div>\n                          {item.description && (\n                            <div className=\"text-xs text-muted-foreground\">\n                              {truncate(item.description, 60)}\n                            </div>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        <code className=\"rounded bg-muted px-2 py-1 text-xs\">\n                          {item.slug || '-'}\n                        </code>\n                      </TableCell>\n                      <TableCell className=\"text-center\">\n                        <Switch\n                          checked={item.is_active}\n                          onCheckedChange={() => handleToggleActive(item)}\n                          disabled={busy}\n                        />\n                      </TableCell>\n                      <TableCell>\n                        {item.locale ? (\n                          <Badge variant=\"outline\">{item.locale}</Badge>\n                        ) : (\n                          <span className=\"text-muted-foreground\">-</span>\n                        )}\n                      </TableCell>\n                      <TableCell className=\"text-xs text-muted-foreground\">\n                        <div>{fmtDate(item.created_at)}</div>\n                        <div className=\"text-[10px]\">\n                          Güncelleme: {fmtDate(item.updated_at)}\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"text-right\">\n                        <div className=\"flex items-center justify-end gap-2\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleEdit(item)}\n                            disabled={busy}\n                            className=\"gap-2\"\n                          >\n                            <Pencil className=\"size-3.5\" />\n                            Düzenle\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleDeleteClick(item)}\n                            disabled={busy}\n                            className=\"gap-2\"\n                          >\n                            <Trash2 className=\"size-3.5\" />\n                            Sil\n                          </Button>\n                        </div>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n\n        {/* Cards (Mobile) */}\n        <div className=\"space-y-4 xl:hidden\">\n          {isLoading ? (\n            <Card>\n              <CardContent className=\"flex items-center justify-center py-12\">\n                <div className=\"flex items-center gap-2\">\n                  <Loader2 className=\"size-5 animate-spin\" />\n                  <span>Yükleniyor...</span>\n                </div>\n              </CardContent>\n            </Card>\n          ) : items.length === 0 ? (\n            <Card>\n              <CardContent className=\"py-12 text-center text-muted-foreground\">\n                Kayıt bulunamadı.\n              </CardContent>\n            </Card>\n          ) : (\n            items.map((item) => (\n              <Card key={item.id}>\n                <CardContent className=\"space-y-4 pt-6\">\n                  <div className=\"flex items-start justify-between gap-4\">\n                    <div className=\"space-y-1\">\n                      <div className=\"flex items-center gap-2\">\n                        <Badge variant=\"secondary\">#{item.display_order}</Badge>\n                        {item.locale && <Badge variant=\"outline\">{item.locale}</Badge>}\n                      </div>\n                      <h3 className=\"font-semibold\">{item.title || '-'}</h3>\n                      {item.description && (\n                        <p className=\"text-sm text-muted-foreground\">\n                          {truncate(item.description, 80)}\n                        </p>\n                      )}\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Label className=\"text-sm\">Aktif</Label>\n                      <Switch\n                        checked={item.is_active}\n                        onCheckedChange={() => handleToggleActive(item)}\n                        disabled={busy}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-xs text-muted-foreground\">Slug</Label>\n                    <code className=\"block rounded bg-muted px-2 py-1 text-xs\">\n                      {item.slug || '-'}\n                    </code>\n                  </div>\n\n                  <div className=\"space-y-1 text-xs text-muted-foreground\">\n                    <div>Oluşturma: {fmtDate(item.created_at)}</div>\n                    <div>Güncelleme: {fmtDate(item.updated_at)}</div>\n                  </div>\n\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleEdit(item)}\n                      disabled={busy}\n                      className=\"flex-1 gap-2\"\n                    >\n                      <Pencil className=\"size-3.5\" />\n                      Düzenle\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleDeleteClick(item)}\n                      disabled={busy}\n                      className=\"flex-1 gap-2\"\n                    >\n                      <Trash2 className=\"size-3.5\" />\n                      Sil\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* Delete Dialog */}\n      <AlertDialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Silmek istediğinizden emin misiniz?</AlertDialogTitle>\n            <AlertDialogDescription>\n              <strong>{itemToDelete?.title || 'Bu kayıt'}</strong> silinecek. Bu işlem geri\n              alınamaz.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>İptal</AlertDialogCancel>\n            <AlertDialogAction onClick={handleDeleteConfirm}>Sil</AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}"],"names":[],"mappings":"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"}
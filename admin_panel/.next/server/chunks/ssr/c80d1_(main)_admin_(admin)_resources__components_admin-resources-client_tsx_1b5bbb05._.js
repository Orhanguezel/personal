module.exports=[33548,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(1664);a.i(58501);var e=a.i(52205);let f={therapist:"Terapist",doctor:"Doktor",table:"Masa",room:"Oda",staff:"Personel",other:"Diğer"},g=({filters:a,total:c,loading:d,onFiltersChange:e,onRefresh:g})=>(0,b.jsx)("div",{className:"card mb-3",children:(0,b.jsx)("div",{className:"card-body py-3",children:(0,b.jsxs)("div",{className:"d-flex flex-column flex-lg-row justify-content-between gap-3",children:[(0,b.jsxs)("div",{style:{minWidth:0,flex:2},children:[(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("h5",{className:"mb-0 small fw-semibold",children:"Kaynaklar"}),(0,b.jsx)("div",{className:"text-muted small",children:"Kaynakları filtrele ve yönet."})]}),(0,b.jsxs)("div",{className:"row g-2 align-items-end",children:[(0,b.jsxs)("div",{className:"col-md-4",children:[(0,b.jsx)("label",{className:"form-label small mb-1",children:"Arama"}),(0,b.jsx)("input",{type:"search",className:"form-control form-control-sm",placeholder:"Ad ile ara",value:a.q,onChange:b=>e({...a,q:b.target.value})})]}),(0,b.jsxs)("div",{className:"col-md-3",children:[(0,b.jsx)("label",{className:"form-label small mb-1",children:"Tür"}),(0,b.jsxs)("select",{className:"form-select form-select-sm",value:a.type,onChange:b=>e({...a,type:b.target.value||""}),children:[(0,b.jsx)("option",{value:"",children:"Tümü"}),Object.keys(f).map(a=>(0,b.jsx)("option",{value:a,children:f[a]},a))]})]}),(0,b.jsxs)("div",{className:"col-md-3",children:[(0,b.jsx)("label",{className:"form-label small mb-1",children:"Durum"}),(0,b.jsxs)("select",{className:"form-select form-select-sm",value:a.status,onChange:b=>e({...a,status:b.target.value}),children:[(0,b.jsx)("option",{value:"all",children:"Hepsi"}),(0,b.jsx)("option",{value:"active",children:"Aktif"}),(0,b.jsx)("option",{value:"inactive",children:"Pasif"})]})]}),(0,b.jsxs)("div",{className:"col-md-2",children:[(0,b.jsx)("label",{className:"form-label small mb-1",children:"Sırala"}),(0,b.jsxs)("select",{className:"form-select form-select-sm",value:a.sort,onChange:b=>e({...a,sort:b.target.value}),children:[(0,b.jsx)("option",{value:"updated_at",children:"Güncelleme"}),(0,b.jsx)("option",{value:"created_at",children:"Oluşturma"}),(0,b.jsx)("option",{value:"title",children:"Ad"}),(0,b.jsx)("option",{value:"type",children:"Tür"})]})]})]}),(0,b.jsx)("div",{className:"row g-2 mt-0 align-items-end",children:(0,b.jsxs)("div",{className:"col-md-2",children:[(0,b.jsx)("label",{className:"form-label small mb-1",children:"Yön"}),(0,b.jsxs)("select",{className:"form-select form-select-sm",value:a.order,onChange:b=>e({...a,order:b.target.value}),children:[(0,b.jsx)("option",{value:"desc",children:"Azalan"}),(0,b.jsx)("option",{value:"asc",children:"Artan"})]})]})})]}),(0,b.jsxs)("div",{className:"border-start ps-lg-3 ms-lg-3 d-flex flex-column justify-content-between",style:{minWidth:0,flex:1},children:[(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"small fw-semibold",children:"Toplam"}),(0,b.jsx)("div",{className:"display-6 fs-4 fw-bold",children:c})]}),g?(0,b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:g,disabled:!!d,children:"Yenile"}):null]}),(0,b.jsx)("div",{className:"text-muted small",children:d?(0,b.jsx)("span",{className:"badge bg-secondary",children:"Yükleniyor..."}):null})]})]})})});var h=a.i(38246),i=a.i(23292);let j=a=>null==a?"":String(a),k=a=>{if(!a)return"-";let b="string"==typeof a?new Date(a):a;return!(b instanceof Date)||Number.isNaN(b.getTime())?j(a):b.toLocaleString()},l=a=>{let b=String(a??"").trim();switch(b){case"therapist":return"Terapist";case"doctor":return"Doktor";case"table":return"Masa";case"room":return"Oda";case"staff":return"Personel";case"other":return"Diğer";default:return b||"—"}},m=a=>1===Number(a??0)||!0===a?(0,b.jsx)("span",{className:"badge bg-success-subtle text-success border border-success-subtle",children:"Aktif"}):(0,b.jsx)("span",{className:"badge bg-secondary-subtle text-secondary border border-secondary-subtle",children:"Pasif"}),n=({items:a,loading:c})=>{let d=a??[],f=d.length>0,[g,{isLoading:n}]=(0,e.useDeleteResourceAdminMutation)(),o=c||n,p=()=>c?(0,b.jsx)("div",{className:"p-3 text-muted small",children:"Yükleniyor..."}):(0,b.jsx)("div",{className:"p-3 text-muted small",children:"Kayıt bulunamadı."}),q=async a=>{if(window.confirm(`Bu kaynağı silmek \xfczeresin.

Ad: ${j(a.title)||"(ad yok)"}
T\xfcr: ${l(a.type)}

Devam etmek istiyor musun?`))try{await g(String(a.id)).unwrap(),i.toast.success("Kaynak silindi.")}catch(a){i.toast.error(a?.data?.error?.message||a?.message||"Silme işlemi başarısız.")}};return(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("div",{className:"card-header py-2",children:(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"small fw-semibold",children:"Kaynak Listesi"}),(0,b.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[c?(0,b.jsx)("span",{className:"badge bg-secondary small",children:"Yükleniyor..."}):null,(0,b.jsxs)("span",{className:"text-muted small",children:["Toplam: ",(0,b.jsx)("strong",{children:d.length})]})]})]})}),(0,b.jsxs)("div",{className:"card-body p-0",children:[(0,b.jsx)("div",{className:"d-none d-xxl-block",children:f?(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)("table",{className:"table table-hover table-sm mb-0 align-middle",children:[(0,b.jsx)("thead",{className:"table-light",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-muted",style:{width:56},children:"#"}),(0,b.jsx)("th",{children:"Ad"}),(0,b.jsx)("th",{className:"text-nowrap",children:"Tür"}),(0,b.jsx)("th",{className:"text-nowrap",children:"Durum"}),(0,b.jsx)("th",{className:"text-nowrap",children:"Güncellendi"}),(0,b.jsx)("th",{className:"text-end text-nowrap",children:"İşlemler"})]})}),(0,b.jsx)("tbody",{children:d.map((a,c)=>(0,b.jsxs)("tr",{className:"align-middle",children:[(0,b.jsx)("td",{className:"text-muted small text-nowrap",children:c+1}),(0,b.jsx)("td",{style:{minWidth:240},children:(0,b.jsx)("div",{className:"fw-semibold text-truncate",title:j(a.title),children:j(a.title)||"—"})}),(0,b.jsx)("td",{className:"text-nowrap",children:(0,b.jsx)("span",{className:"badge bg-light text-dark border",children:l(a.type)})}),(0,b.jsx)("td",{className:"text-nowrap",children:m(a.is_active)}),(0,b.jsx)("td",{className:"small text-nowrap",children:k(a.updated_at)}),(0,b.jsx)("td",{className:"text-end text-nowrap",children:(0,b.jsxs)("div",{className:"btn-group btn-group-sm",role:"group",children:[(0,b.jsx)(h.default,{href:`/admin/resources/${encodeURIComponent(String(a.id))}`,className:"btn btn-outline-primary btn-sm",children:"Düzenle"}),(0,b.jsx)(h.default,{href:`/admin/availability/${encodeURIComponent(String(a.id))}`,className:"btn btn-outline-secondary btn-sm",children:"Müsaitlik"}),(0,b.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-sm",disabled:o,onClick:()=>q(a),children:"Sil"})]})})]},a.id))}),(0,b.jsxs)("caption",{className:"text-muted small ps-2",children:["Tablo görünümü çok büyük ekranlar içindir (≥ ",1700,"px)."]})]})}):p()}),(0,b.jsx)("div",{className:"d-block d-xxl-none",children:f?(0,b.jsxs)("div",{className:"p-3",children:[(0,b.jsx)("div",{className:"row g-3",children:d.map(a=>(0,b.jsx)("div",{className:"col-12 col-xxl-6",children:(0,b.jsx)("div",{className:"border rounded-3 bg-white h-100 p-3",children:(0,b.jsxs)("div",{className:"d-flex align-items-start justify-content-between gap-3",children:[(0,b.jsxs)("div",{style:{minWidth:0},children:[(0,b.jsxs)("div",{className:"d-flex align-items-center gap-2 flex-wrap",children:[m(a.is_active),(0,b.jsx)("span",{className:"badge bg-light text-dark border",children:l(a.type)})]}),(0,b.jsx)("div",{className:"fw-semibold mt-2 text-truncate",title:j(a.title),children:j(a.title)||(0,b.jsx)("span",{className:"text-muted",children:"(ad yok)"})}),(0,b.jsxs)("div",{className:"text-muted small mt-2",children:["Güncelleme: ",k(a.updated_at)]})]}),(0,b.jsxs)("div",{className:"d-flex flex-column gap-2",style:{width:180},children:[(0,b.jsx)(h.default,{href:`/admin/resources/${encodeURIComponent(String(a.id))}`,className:"btn btn-outline-primary btn-sm",children:"Düzenle"}),(0,b.jsx)(h.default,{href:`/admin/availability/${encodeURIComponent(String(a.id))}`,className:"btn btn-outline-secondary btn-sm",children:"Müsaitlik"}),(0,b.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-sm",disabled:o,onClick:()=>q(a),children:"Sil"})]})]})})},a.id))}),(0,b.jsx)("div",{className:"pt-3",children:(0,b.jsxs)("span",{className:"text-muted small",children:["Varsayılan görünüm karttır. Tablo görünümü çok büyük ekranlarda (≥ ",1700,"px) gösterilir."]})})]}):p()})]})]})};function o(){let{copy:a}=(0,d.useAdminUiCopy)();a.pages?.resources;let[f,h]=c.useState({q:"",type:"",status:"all",sort:"updated_at",order:"desc"}),i=c.useMemo(()=>({q:f.q||void 0,type:f.type||void 0,status:"all"===f.status?void 0:f.status,sort:f.sort,order:f.order,limit:200}),[f]),{data:j=[],isLoading:k,refetch:l}=(0,e.useListResourcesAdminQuery)(i);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(g,{filters:f,total:j.length,loading:k,onFiltersChange:h,onRefresh:l}),(0,b.jsx)(n,{items:j,loading:k})]})}a.s(["default",()=>o],33548)}];

//# sourceMappingURL=c80d1_%28main%29_admin_%28admin%29_resources__components_admin-resources-client_tsx_1b5bbb05._.js.map
module.exports=[14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},61495,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(23292),f=a.i(210),g=a.i(14548),h=a.i(81560),i=a.i(96221),j=a.i(99570),k=a.i(66718),l=a.i(70430),m=a.i(63658),n=a.i(86304),o=a.i(91119),p=a.i(86192),q=a.i(42737),r=a.i(28551),s=a.i(1664);a.i(34658);var t=a.i(42969);a.i(58501);var u=a.i(37201);let v={percent:0,image_url:"",image_asset_id:"",is_active:!0,display_order:0,locale:"",title:"",slug:""};function w(a){return a?.data?.error?.message||a?.data?.message||a?.message||"İşlem başarısız"}function x({id:a}){let x=(0,d.useRouter)(),{copy:y}=(0,s.useAdminUiCopy)(),z=y.pages?.skills??{};y.common;let{localeOptions:A,defaultLocaleFromDb:B,loading:C}=(0,r.useAdminLocales)(),D=c.useMemo(()=>Array.isArray(A)?A.map(a=>({value:a.value||"",label:a.label||a.value||""})):[],[A]),E="new"===a,F=!E&&(0,t.isUuidLike)(a),{data:G,isLoading:H,error:I}=(0,u.useListSkillCountersAdminQuery)({limit:200},{skip:!F}),J=c.useMemo(()=>!G||E?null:G.find(b=>b.id===a)||null,[G,a,E]),[K,{isLoading:L}]=(0,u.useCreateSkillCounterAdminMutation)(),[M,{isLoading:N}]=(0,u.useUpdateSkillCounterAdminMutation)(),[O,{isLoading:P}]=(0,u.useRemoveSkillCounterAdminMutation)(),[Q,R]=c.useState(()=>({...v,locale:""})),[S,T]=c.useState(!1);c.useEffect(()=>{!Q.locale&&B&&R(a=>({...a,locale:B}))},[B,Q.locale]),c.useEffect(()=>{!E&&J&&R({id:J.id,percent:J.percent,image_url:J.image_url??"",image_asset_id:J.image_asset_id??"",is_active:J.is_active,display_order:J.display_order,locale:J.locale,title:J.title,slug:J.slug})},[J,E]);let U=L||N||P||H,V=async a=>{if(a.preventDefault(),!Q.title.trim()||!Q.slug.trim())return void e.toast.error(z?.counter_required||"Başlık ve slug gerekli");try{let a={percent:Number(Q.percent),image_url:Q.image_url?.trim()||null,image_asset_id:Q.image_asset_id?.trim()||null,is_active:Q.is_active,display_order:Number(Q.display_order??0),locale:Q.locale||void 0,title:Q.title.trim(),slug:Q.slug.trim()};E?(await K(a).unwrap(),e.toast.success("Kayıt oluşturuldu"),x.push("/admin/skills?tab=counters")):Q.id&&(await M({id:Q.id,patch:a}).unwrap(),e.toast.success("Kayıt güncellendi"))}catch(a){e.toast.error(w(a))}},W=async()=>{if(!E&&Q.id)try{await O({id:Q.id}).unwrap(),e.toast.success("Kayıt silindi"),x.push("/admin/skills?tab=counters")}catch(a){e.toast.error(w(a))}};return I?(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)(o.Card,{children:(0,b.jsxs)(o.CardContent,{className:"py-12 text-center",children:[(0,b.jsxs)("div",{className:"text-destructive",children:["Kayıt yüklenemedi: ",w(I)]}),(0,b.jsxs)(j.Button,{variant:"outline",onClick:()=>x.push("/admin/skills?tab=counters"),className:"mt-4",children:[(0,b.jsx)(f.ArrowLeft,{className:"mr-2 size-4"}),"Listeye Dön"]})]})})}):!E&&H?(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)(o.Card,{children:(0,b.jsx)(o.CardContent,{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Loader2,{className:"size-5 animate-spin"}),(0,b.jsx)("span",{children:"Yükleniyor..."})]})})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("form",{onSubmit:V,className:"space-y-6",children:[(0,b.jsx)(o.Card,{children:(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(o.CardTitle,{children:E?z?.counter_create_title:z?.counter_edit_title}),(0,b.jsx)(o.CardDescription,{children:E?"Yeni skill counter oluşturun":"Mevcut skill counter düzenleyin"})]}),(0,b.jsxs)(j.Button,{type:"button",variant:"outline",onClick:()=>x.push("/admin/skills?tab=counters"),disabled:U,className:"gap-2",children:[(0,b.jsx)(f.ArrowLeft,{className:"size-4"}),"Geri"]})]})})}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsx)(o.CardTitle,{className:"text-base",children:"Genel Bilgiler"})}),(0,b.jsxs)(o.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsx)("div",{children:(0,b.jsx)(q.AdminLocaleSelect,{value:Q.locale||B||"",onChange:a=>R(b=>({...b,locale:a})),options:D,loading:C,disabled:U})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"display_order",className:"text-sm",children:"Sıralama"}),(0,b.jsx)(k.Input,{id:"display_order",type:"number",value:Q.display_order,onChange:a=>R(b=>({...b,display_order:Number(a.target.value)||0})),disabled:U,min:0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"is_active",className:"text-sm",children:"Durum"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-md border px-3 py-2",children:[(0,b.jsx)(m.Switch,{id:"is_active",checked:!!Q.is_active,onCheckedChange:a=>R(b=>({...b,is_active:a})),disabled:U}),(0,b.jsx)(l.Label,{htmlFor:"is_active",className:"cursor-pointer text-sm",children:Q.is_active?(0,b.jsx)(n.Badge,{variant:"default",children:"Aktif"}):(0,b.jsx)(n.Badge,{variant:"secondary",children:"Pasif"})})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(l.Label,{htmlFor:"title",className:"text-sm",children:["Başlık ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(k.Input,{id:"title",value:Q.title,onChange:a=>R(b=>({...b,title:a.target.value})),placeholder:"Örn: React Development",disabled:U,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(l.Label,{htmlFor:"slug",className:"text-sm",children:["Slug ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(k.Input,{id:"slug",value:Q.slug,onChange:a=>R(b=>({...b,slug:a.target.value})),placeholder:"Örn: react-development",disabled:U,required:!0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"URL dostu format (küçük harf, tire ile ayrılmış)"})]})]}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"percent",className:"text-sm",children:"Yüzde (%)"}),(0,b.jsx)(k.Input,{id:"percent",type:"number",value:Q.percent,onChange:a=>R(b=>({...b,percent:Number(a.target.value)||0})),placeholder:"0-100",disabled:U,min:0,max:100})]})}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"image_url",className:"text-sm",children:"Resim URL"}),(0,b.jsx)(k.Input,{id:"image_url",value:Q.image_url??"",onChange:a=>R(b=>({...b,image_url:a.target.value})),placeholder:"https://example.com/image.png",disabled:U})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"image_asset_id",className:"text-sm",children:"Asset ID"}),(0,b.jsx)(k.Input,{id:"image_asset_id",value:Q.image_asset_id??"",onChange:a=>R(b=>({...b,image_asset_id:a.target.value})),placeholder:"asset-id-123",disabled:U})]})]})]})]}),(0,b.jsx)(o.Card,{children:(0,b.jsxs)(o.CardContent,{className:"flex flex-col gap-3 pt-6 sm:flex-row sm:justify-between",children:[(0,b.jsx)("div",{children:!E&&(0,b.jsx)(j.Button,{type:"button",variant:"destructive",onClick:()=>{T(!0)},disabled:U,className:"gap-2",children:P?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{className:"size-4 animate-spin"}),"Siliniyor..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Trash2,{className:"size-4"}),"Sil"]})})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>x.push("/admin/skills?tab=counters"),disabled:U,children:"İptal"}),(0,b.jsx)(j.Button,{type:"submit",disabled:U,className:"gap-2",children:L||N?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{className:"size-4 animate-spin"}),"Kaydediliyor..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Save,{className:"size-4"}),"Kaydet"]})})]})]})})]}),(0,b.jsx)(p.AlertDialog,{open:S,onOpenChange:T,children:(0,b.jsxs)(p.AlertDialogContent,{children:[(0,b.jsxs)(p.AlertDialogHeader,{children:[(0,b.jsx)(p.AlertDialogTitle,{children:"Silmek istediğinizden emin misiniz?"}),(0,b.jsxs)(p.AlertDialogDescription,{children:[(0,b.jsx)("strong",{children:Q.title||"Bu kayıt"})," silinecek. Bu işlem geri alınamaz."]})]}),(0,b.jsxs)(p.AlertDialogFooter,{children:[(0,b.jsx)(p.AlertDialogCancel,{children:"İptal"}),(0,b.jsx)(p.AlertDialogAction,{onClick:W,children:"Sil"})]})]})})]})}a.s(["default",()=>x])}];

//# sourceMappingURL=_b920eee5._.js.map
{"version":3,"sources":["../../../../src/integrations/endpoints/users/auth_public.endpoints.ts","../../../../src/integrations/shared/utils/helpers.ts","../../../../src/integrations/shared/common.ts","../../../../src/integrations/shared/customPages.ts","../../../../src/integrations/shared/contacts.ts","../../../../src/integrations/shared/email.ts","../../../../src/integrations/shared/faqs.ts","../../../../src/integrations/shared/footer.ts","../../../../src/integrations/shared/siteSettings.ts","../../../../src/integrations/shared/slider.ts","../../../../src/integrations/shared/storage.ts","../../../../src/integrations/shared/services.types.ts","../../../../src/integrations/shared/seo.types.ts","../../../../src/integrations/shared/users/auth.public.ts","../../../../src/integrations/shared/users/roles.admin.normalize.ts","../../../../src/integrations/shared/users/adminUsers.normalize.ts","../../../../src/integrations/shared/users/profiles.normalize.ts","../../../../src/integrations/shared/bookings.ts","../../../../src/integrations/shared/emailTemplates.ts","../../../../src/integrations/shared/newsletter.ts","../../../../src/integrations/shared/notifications.ts","../../../../src/integrations/shared/normalizers.ts","../../../../src/integrations/shared/offers.types.ts","../../../../src/integrations/shared/popups.ts","../../../../src/integrations/shared/locales.ts","../../../../src/integrations/shared/menu_items.types.ts","../../../../src/i18n/localeUtils.ts","../../../../src/integrations/shared/menu.runtime.ts","../../../../src/integrations/shared/dashboard.types.ts","../../../../src/integrations/shared/review.types.ts","../../../../src/integrations/shared/projects.ts","../../../../src/integrations/shared/blog.helpers.ts","../../../../src/integrations/shared/pricing.ts","../../../../src/integrations/shared/resume.ts","../../../../src/integrations/shared/skill.ts","../../../../src/integrations/shared/brand.ts","../../../../src/integrations/shared/pageCopies.ts","../../../../src/integrations/shared/footer_sections.types.ts","../../../../src/integrations/shared/home.ts","../../../../src/integrations/shared/adminUi.ts","../../../../src/integrations/shared/audit.types.ts","../../../../src/integrations/shared/availability.types.ts","../../../../src/integrations/shared/resources.types.ts","../../../../src/integrations/hooks.ts","../../../../src/integrations/endpoints/users/profiles.endpoints.ts","../../../../src/integrations/endpoints/users/user_roles.endpoints.ts","../../../../src/integrations/endpoints/public/site_settings_public.endpoints.ts","../../../../src/integrations/endpoints/admin/users/auth_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/users/roles_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/dashboard_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/db_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/custom_pages_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/contacts_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/reviews_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/faqs_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/sliders_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/services_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/audit_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/site_settings_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/storage_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/email_templates_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/mail_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/newsletter_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/notifications_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/offers_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/reports_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/bookings_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/popups_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/menu_items_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/projects_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/pricing_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/resume.admin.endpoints.ts","../../../../src/integrations/endpoints/admin/skill.admin.endpoints.ts","../../../../src/integrations/endpoints/admin/brands.admin.endpoints.ts","../../../../src/integrations/endpoints/admin/footer_sections_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/resources_admin.endpoints.ts","../../../../src/integrations/endpoints/admin/availability_admin.endpoints.ts"],"sourcesContent":["// =============================================================\n// FILE: src/integrations/endpoints/auth_public.endpoints.ts\n// FINAL — Public Auth RTK endpoints (tokenStore sync)\n// - /auth/* endpoints\n// - tokenStore set/clear on login/signup/refresh/logout\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport { tokenStore } from '@/integrations/core/token';\n\nimport type {\n  AuthTokenResponse,\n  AuthStatusResponse,\n  AuthMeResponse,\n  PasswordResetRequestResponse,\n  PasswordResetConfirmResponse,\n  AuthTokenRefreshResponse,\n  AuthSignupBody,\n  AuthTokenBody,\n  AuthUpdateBody,\n  PasswordResetRequestBody,\n  PasswordResetConfirmBody,\n} from '@/integrations/shared';\n\nconst setAccessTokenSafely = (token?: string | null) => {\n  try {\n    tokenStore.set(token);\n  } catch {\n    // localStorage kapalı olabilir; sessiz geç\n  }\n};\n\nexport const authPublicApi = baseApi.injectEndpoints({\n  endpoints: (build) => ({\n    /** POST /auth/signup */\n    authSignup: build.mutation<AuthTokenResponse, AuthSignupBody>({\n      query: (body) => ({ url: '/auth/signup', method: 'POST', body }),\n      invalidatesTags: ['User', 'Auth'],\n      async onQueryStarted(_arg, { queryFulfilled }) {\n        try {\n          const { data } = await queryFulfilled;\n          setAccessTokenSafely(data?.access_token);\n        } catch {\n          setAccessTokenSafely('');\n        }\n      },\n    }),\n\n    /** POST /auth/token */\n    authToken: build.mutation<AuthTokenResponse, AuthTokenBody>({\n      query: (body) => ({\n        url: '/auth/token',\n        method: 'POST',\n        body: {\n          ...body,\n          grant_type: body?.grant_type ?? 'password',\n        },\n      }),\n      invalidatesTags: ['User', 'Auth'],\n      async onQueryStarted(_arg, { queryFulfilled }) {\n        try {\n          const { data } = await queryFulfilled;\n          setAccessTokenSafely(data?.access_token);\n        } catch {\n          setAccessTokenSafely('');\n        }\n      },\n    }),\n\n    /** POST /auth/token/refresh */\n    authRefresh: build.mutation<AuthTokenRefreshResponse, void>({\n      query: () => ({ url: '/auth/token/refresh', method: 'POST' }),\n      invalidatesTags: ['Auth'],\n      async onQueryStarted(_arg, { queryFulfilled }) {\n        try {\n          const { data } = await queryFulfilled;\n          setAccessTokenSafely(data?.access_token);\n        } catch {\n          setAccessTokenSafely('');\n        }\n      },\n    }),\n\n    /** GET /auth/user */\n    authMe: build.query<AuthMeResponse, void>({\n      query: () => ({ url: '/auth/user', method: 'GET' }),\n      providesTags: ['User', 'Auth'],\n    }),\n\n    /** GET /auth/status */\n    authStatus: build.query<AuthStatusResponse, void>({\n      query: () => ({ url: '/auth/status', method: 'GET' }),\n      providesTags: ['User', 'Auth'],\n    }),\n\n    /** PUT /auth/user */\n    authUpdate: build.mutation<AuthMeResponse, AuthUpdateBody>({\n      query: (body) => ({ url: '/auth/user', method: 'PUT', body }),\n      invalidatesTags: ['User', 'Auth'],\n    }),\n\n    /** POST /auth/password-reset/request */\n    authPasswordResetRequest: build.mutation<\n      PasswordResetRequestResponse,\n      PasswordResetRequestBody\n    >({\n      query: (body) => ({ url: '/auth/password-reset/request', method: 'POST', body }),\n    }),\n\n    /** POST /auth/password-reset/confirm */\n    authPasswordResetConfirm: build.mutation<\n      PasswordResetConfirmResponse,\n      PasswordResetConfirmBody\n    >({\n      query: (body) => ({ url: '/auth/password-reset/confirm', method: 'POST', body }),\n      invalidatesTags: ['User', 'Auth'],\n    }),\n\n    /** POST /auth/logout */\n    authLogout: build.mutation<{ ok: true }, void>({\n      query: () => ({ url: '/auth/logout', method: 'POST' }),\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: ['User', 'Auth', 'AdminUsers', 'UserRoles'],\n      async onQueryStarted(_arg, { queryFulfilled }) {\n        try {\n          await queryFulfilled;\n        } finally {\n          setAccessTokenSafely('');\n        }\n      },\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useAuthSignupMutation,\n  useAuthTokenMutation,\n  useAuthRefreshMutation,\n  useAuthMeQuery,\n  useAuthStatusQuery,\n  useAuthUpdateMutation,\n  useAuthPasswordResetRequestMutation,\n  useAuthPasswordResetConfirmMutation,\n  useAuthLogoutMutation,\n} = authPublicApi;\n\n// Kısa alias\nexport const useLoginMutation = useAuthTokenMutation;\nexport const useSignupMutation = useAuthSignupMutation;\nexport const useAuthRegisterMutation = useAuthSignupMutation;\nexport const useStatusQuery = useAuthStatusQuery;\nexport const useLogoutMutation = useAuthLogoutMutation;\n","// =============================================================\n// FILE: src/integrations/shared/utils/helpers.ts\n// Unified helper functions - Single source of truth\n// =============================================================\n\nexport type BoolLike = boolean | 0 | 1 | '0' | '1' | 'true' | 'false' | null | undefined | unknown;\n\n// -------------------- Type Guards --------------------\n\nexport function isObject(v: unknown): v is Record<string, unknown> {\n  return typeof v === 'object' && v !== null && !Array.isArray(v);\n}\n\nexport function isPlainObject(v: unknown): v is Record<string, unknown> {\n  return !!v && typeof v === 'object' && !Array.isArray(v);\n}\n\nexport function assertIsObject(v: unknown, name = 'data'): asserts v is Record<string, unknown> {\n  if (!isObject(v)) {\n    throw new Error(`Invalid ${name}: expected object, got ${typeof v}`);\n  }\n}\n\nexport function assertIsArray(v: unknown, name = 'data'): asserts v is unknown[] {\n  if (!Array.isArray(v)) {\n    throw new Error(`Invalid ${name}: expected array, got ${typeof v}`);\n  }\n}\n\n// -------------------- String Helpers --------------------\n\nexport function toStr(v: unknown): string {\n  if (typeof v === 'string') return v;\n  if (typeof v === 'number' || typeof v === 'boolean') return String(v);\n  return v == null ? '' : String(v);\n}\n\nexport function trimStr(v: unknown): string {\n  return toStr(v).trim();\n}\n\nexport function toNullStr(v: unknown): string | null {\n  const s = trimStr(v);\n  return s ? s : null;\n}\n\nexport function trimOrUndef(v: unknown): string | undefined {\n  if (typeof v !== 'string') return undefined;\n  const s = v.trim();\n  return s.length ? s : undefined;\n}\n\nexport const text = (v: unknown): string =>\n  typeof v === 'string' ? v : v == null ? '' : String(v);\n\nexport const nonEmpty = (v: unknown): string => {\n  const s = text(v).trim();\n  return s ? s : '';\n};\n\n// -------------------- Number Helpers --------------------\n\nexport function toNumber(v: unknown, fallback = 0): number {\n  if (typeof v === 'number') return Number.isFinite(v) ? v : fallback;\n  if (typeof v === 'string') {\n    const n = Number(v.replace(',', '.'));\n    return Number.isFinite(n) ? n : fallback;\n  }\n  const n = Number(v);\n  return Number.isFinite(n) ? n : fallback;\n}\n\nexport function toNumOrNull(v: unknown): number | null {\n  if (v === null || v === undefined || v === '') return null;\n  const n = Number(String(v).replace(',', '.'));\n  return Number.isFinite(n) ? n : null;\n}\n\nexport function toInt(v: unknown): number {\n  const n = toNumber(v);\n  return Number.isFinite(n) ? Math.trunc(n) : n;\n}\n\nexport type NullableNumber = number | null | undefined;\nexport function numOrNullish(v: unknown): NullableNumber {\n  return v == null ? (v as null | undefined) : toNumber(v);\n}\n\nexport const clamp = (n: number, min = 1, max = 200): number =>\n  Math.max(min, Math.min(max, n));\n\n// -------------------- Boolean Helpers --------------------\n\n/**\n * Unified boolean converter - handles backend 0/1 and BoolLike\n * @param v - Value to convert (boolean | 0 | 1 | '0' | '1' | 'true' | 'false' etc.)\n * @param fallback - Default if conversion fails\n */\nexport function toBool(v: BoolLike, fallback = false): boolean {\n  if (typeof v === 'boolean') return v;\n  if (typeof v === 'number') return v !== 0;\n  if (v == null) return fallback;\n\n  const s = toStr(v).trim().toLowerCase();\n  if (s === '1' || s === 'true' || s === 'yes' || s === 'on') return true;\n  if (s === '0' || s === 'false' || s === 'no' || s === 'off') return false;\n\n  return fallback;\n}\n\n/**\n * Backend-specific: Converts 0/1 to boolean\n */\nexport function toBool01(v: unknown): boolean {\n  if (v === true) return true;\n  if (v === false) return false;\n  const n = Number(v ?? 0);\n  return n === 1;\n}\n\n/**\n * Converts boolean to 0/1 for backend\n */\nexport function boolTo01(v: unknown): 0 | 1 | undefined {\n  const b = toBool(v);\n  return b === undefined ? undefined : (b ? 1 : 0);\n}\n\n// -------------------- Date/ISO Helpers --------------------\n\nexport function toIso(v: unknown): string {\n  if (!v) return '';\n  if (typeof v === 'string') return v;\n  if (v instanceof Date) return v.toISOString();\n\n  // Try date conversion\n  if (typeof v === 'number' || typeof v === 'string') {\n    const d = new Date(v as string | number);\n    if (!Number.isNaN(d.getTime())) return d.toISOString();\n  }\n\n  return String(v ?? '');\n}\n\nexport function toNullIso(v: unknown): string | null {\n  const s = toIso(v);\n  return s ? s : null;\n}\n\n// -------------------- JSON Parsing Helpers --------------------\n\nexport function isJsonishString(v: unknown): boolean {\n  if (typeof v !== 'string') return false;\n  const t = v.trim();\n  return (t.startsWith('{') && t.endsWith('}')) || (t.startsWith('[') && t.endsWith(']'));\n}\n\nexport function tryParseJson<T = unknown>(val: unknown): T | null {\n  if (val == null) return null;\n  if (typeof val === 'object') return val as T;\n\n  if (typeof val === 'string') {\n    const s = val.trim();\n    if (!s || !isJsonishString(s)) return null;\n\n    try {\n      return JSON.parse(s) as T;\n    } catch {\n      return null;\n    }\n  }\n\n  return null;\n}\n\nexport function parseJsonArray<T = unknown>(val: unknown): T[] {\n  const arr = tryParseJson<T[]>(val);\n  return Array.isArray(arr) ? arr : [];\n}\n\nexport function parseJsonObject(val: unknown): Record<string, unknown> {\n  const obj = tryParseJson<Record<string, unknown>>(val);\n  return obj && typeof obj === 'object' && !Array.isArray(obj) ? obj : {};\n}\n\nexport const safeJsonLd = (raw: string): object | null => {\n  const s = (raw || '').trim();\n  if (!s) return null;\n  try {\n    return JSON.parse(s) as object;\n  } catch {\n    return null;\n  }\n};\n\n// -------------------- Array Helpers --------------------\n\nexport function ensureArray<T>(x: T | T[] | null | undefined): T[] {\n  if (x == null) return [];\n  return Array.isArray(x) ? x : [x];\n}\n\n// -------------------- Object Helpers --------------------\n\nexport const pickFirst = (src: Record<string, unknown>, keys: readonly string[]): unknown => {\n  for (const k of keys) {\n    const v = src[k];\n    if (v != null) return v;\n  }\n  return undefined;\n};\n\nexport const pickStr = (\n  src: Record<string, unknown>,\n  keys: readonly string[],\n  fallback = '',\n): string => {\n  const v = pickFirst(src, keys);\n  const s = trimStr(v);\n  return s ? s : fallback;\n};\n\nexport const pickOptStr = (\n  src: Record<string, unknown>,\n  keys: readonly string[],\n): string | null => {\n  const v = pickFirst(src, keys);\n  const s = trimStr(v);\n  return s ? s : null;\n};\n\n// -------------------- Cleanup Utilities --------------------\n\n/**\n * Remove undefined/null values from query params\n */\nexport function cleanParams(params: Record<string, unknown>): Record<string, unknown> {\n  const result: Record<string, unknown> = {};\n  for (const [key, value] of Object.entries(params)) {\n    if (value !== undefined && value !== null) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Generic unwrap utility for API responses that may be wrapped in { data: ... }\n */\nexport function unwrap<T>(raw: unknown): T {\n  if (!isObject(raw)) return raw as T;\n\n  // If response has a 'data' property, unwrap it\n  if ('data' in raw) {\n    return raw.data as T;\n  }\n\n  return raw as T;\n}\n","// =============================================================\n// FILE: src/integrations/shared/common.ts\n// =============================================================\n\nexport type OffsetLimit = {\n  limit?: number;\n  offset?: number;\n};\n\nexport type ApiOk = { ok: true };\n\nexport const text = (v: unknown): string =>\n  typeof v === 'string' ? v : v == null ? '' : String(v);\n\nexport const nonEmpty = (v: unknown): string => {\n  const s = text(v).trim();\n  return s ? s : '';\n};\n\nexport type SortOrder = 'asc' | 'desc';\nexport type BoolLike = boolean | 0 | 1 | '0' | '1' | 'true' | 'false' | null | undefined | unknown;\n\nexport const safeJsonLd = (raw: string): object | null => {\n  const s = (raw || '').trim();\n  if (!s) return null;\n  try {\n    return JSON.parse(s) as object;\n  } catch {\n    return null;\n  }\n};\n\nexport const toStr = (v: unknown): string => {\n  if (typeof v === 'string') return v;\n  if (typeof v === 'number' || typeof v === 'boolean') return String(v);\n  return v == null ? '' : String(v);\n};\n\nexport type ImgSrc = string | any; // Next Image: string | StaticImport (StaticImageData)\n\nexport function normSrc(v: unknown): string {\n  const s = trimStr(v);\n  if (!s) return '';\n  // parseMediaUrl boş dönerse string'i aynen kullan (absolute url vb. için)\n  return parseMediaUrl(s) || s;\n}\n\n/**\n * Local toBool: BoolLike union'una %100 uyumlu.\n * BoolLike = boolean | 0 | 1 | '0' | '1' | 'true' | 'false' | null | undefined\n */\nexport function toBool(v: BoolLike, fallback = false): boolean {\n  if (typeof v === 'boolean') return v;\n  if (typeof v === 'number') return v !== 0;\n  if (v == null) return fallback;\n\n  const s = toStr(v).trim().toLowerCase();\n  if (s === '1' || s === 'true') return true;\n  if (s === '0' || s === 'false') return false;\n\n  return fallback;\n}\n\nexport const clamp = (n: number, min = 1, max = 200): number => Math.max(min, Math.min(max, n));\n\nexport const isPlainObject = (x: unknown): x is Record<string, unknown> =>\n  !!x && typeof x === 'object' && !Array.isArray(x);\n\nexport const toTrimStr = (v: unknown): string => toStr(v).trim();\n\nexport const toNum = (v: unknown, d = 0): number => {\n  if (typeof v === 'number') return Number.isFinite(v) ? v : d;\n  const n = Number(String(v ?? '').replace(',', '.'));\n  return Number.isFinite(n) ? n : d;\n};\n\nexport const pickFirst = (src: Record<string, unknown>, keys: readonly string[]): unknown => {\n  for (const k of keys) {\n    const v = src[k];\n    if (v != null) return v;\n  }\n  return undefined;\n};\n\nexport const pickStr = (\n  src: Record<string, unknown>,\n  keys: readonly string[],\n  fallback = '',\n): string => {\n  const v = pickFirst(src, keys);\n  const s = toTrimStr(v);\n  return s ? s : fallback;\n};\n\nexport const pickOptStr = (\n  src: Record<string, unknown>,\n  keys: readonly string[],\n): string | null => {\n  const v = pickFirst(src, keys);\n  const s = toTrimStr(v);\n  return s ? s : null;\n};\n\nexport const pickIsoOrNull = (\n  src: Record<string, unknown>,\n  keys: readonly string[],\n): string | null => {\n  const s = pickOptStr(src, keys);\n  return s ? s : null;\n};\n\nexport const toNumber = (v: unknown, fallback = 0): number => {\n  if (typeof v === 'number') return Number.isFinite(v) ? v : fallback;\n  if (typeof v === 'string') {\n    const n = Number(v.replace(',', '.'));\n    return Number.isFinite(n) ? n : fallback;\n  }\n  const n = Number(v);\n  return Number.isFinite(n) ? n : fallback;\n};\n\nexport function safeText(v: unknown, fb = ''): string {\n  const s = String(v ?? '').trim();\n  return s ? s : fb;\n}\n\nexport function isRemoteUrl(v: string): boolean {\n  const s = v.trim();\n  return s.startsWith('http://') || s.startsWith('https://');\n}\n\n/* -------------------- shared query param types -------------------- */\n\nexport type QueryParamPrimitive = string | number | boolean;\nexport type QueryParamValue = QueryParamPrimitive | QueryParamPrimitive[];\nexport type QueryParams = Record<string, QueryParamValue>;\n\n/* -------------------- core value types -------------------- */\n\nexport type ValueType = 'string' | 'number' | 'boolean' | 'json';\n\nexport type JsonLike = string | number | boolean | null | { [k: string]: JsonLike } | JsonLike[];\n\nexport type JsonObject = Record<string, unknown>;\n\n/** Genel satır tipi (object) */\nexport type UnknownRow = Record<string, unknown>;\n\n/** unknown → object daraltma */\nexport function isUnknownRow(v: unknown): v is UnknownRow {\n  return typeof v === 'object' && v !== null && !Array.isArray(v);\n}\n\n/** unknown → object (array dahil değil) */\nexport function isObject(v: unknown): v is UnknownRow {\n  return typeof v === 'object' && v !== null;\n}\n\n/** Object üzerinde güvenli property okuma (key string) */\nexport function getProp(obj: unknown, key: string): unknown {\n  if (!isUnknownRow(obj)) return undefined;\n  return obj[key];\n}\n\n/** String property okuma (trim’li) */\nexport function getStringProp(obj: unknown, key: string): string | undefined {\n  const v = getProp(obj, key);\n  if (typeof v !== 'string') return undefined;\n  const s = v.trim();\n  return s ? s : undefined;\n}\n\n/** Number property okuma */\nexport function getNumberProp(obj: unknown, key: string): number | undefined {\n  const v = getProp(obj, key);\n  return typeof v === 'number' ? v : undefined;\n}\n\n/** Boolean property okuma */\nexport function getBoolProp(obj: unknown, key: string): boolean | undefined {\n  const v = getProp(obj, key);\n  return typeof v === 'boolean' ? v : undefined;\n}\n\nexport function jsonLikeToBoolLike(v: JsonLike | undefined): BoolLike {\n  // BoolLike union: boolean | 0 | 1 | '0' | '1' | 'true' | 'false' | null | undefined\n  if (v === null || typeof v === 'undefined') return v;\n\n  if (typeof v === 'boolean') return v;\n  if (v === 0 || v === 1) return v;\n\n  if (typeof v === 'number') return v !== 0 ? 1 : 0;\n\n  if (typeof v === 'string') {\n    const s = v.trim().toLowerCase();\n    if (s === 'true' || s === '1') return 'true';\n    if (s === 'false' || s === '0') return 'false';\n\n    // common aliases -> BoolLike\n    if (['yes', 'y', 'on', 'enabled', 'active'].includes(s)) return 'true';\n    if (['no', 'n', 'off', 'disabled', 'inactive'].includes(s)) return 'false';\n\n    return undefined;\n  }\n\n  return undefined;\n}\n\nexport function toHtml(v: JsonLike | undefined, fallbackHtml: string): string {\n  return typeof v === 'string' && v.trim() ? v : fallbackHtml;\n}\n\nexport function isValidEmail(email: string): boolean {\n  const s = email.trim();\n  if (!s) return false;\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(s);\n}\n\n/**\n * unknown -> BoolLike daraltma\n * (common.ts'deki BoolLike union'una %100 uyumlu)\n */\nexport const asBoolLike = (v: unknown): BoolLike => {\n  if (v === null || typeof v === 'undefined') return v; // null | undefined\n  if (typeof v === 'boolean') return v;\n  if (v === 0 || v === 1) return v;\n\n  if (typeof v === 'string') {\n    const s = v.trim().toLowerCase();\n    if (s === '0' || s === '1' || s === 'true' || s === 'false') return s as BoolLike;\n  }\n\n  return undefined;\n};\n\nexport const trimStr = (v: unknown): string => toStr(v).trim();\n\nexport const nullify = (v: unknown): string | null => {\n  const s = trimStr(v);\n  return s ? s : null;\n};\n\nexport function toNumOrNull(v: unknown): number | null {\n  if (v === null || v === undefined || v === '') return null;\n  const n = Number(String(v).replace(',', '.'));\n  return Number.isFinite(n) ? n : null;\n}\n\n/**\n * unknown -> string[] | null\n * - array => string[]\n * - string => JSON array parse OR csv split\n */\nexport function toStrArrayOrNull(v: unknown): string[] | null {\n  if (v == null) return null;\n\n  if (Array.isArray(v)) {\n    const out = v.map((x) => trimStr(x)).filter(Boolean);\n    return out.length ? out : null;\n  }\n\n  if (typeof v === 'string') {\n    const s = v.trim();\n    if (!s) return null;\n\n    // JSON array\n    try {\n      const parsed: unknown = JSON.parse(s);\n      if (Array.isArray(parsed)) {\n        const out = parsed.map((x) => trimStr(x)).filter(Boolean);\n        return out.length ? out : null;\n      }\n    } catch {\n      // ignore\n    }\n\n    // CSV fallback\n    const out = s\n      .split(',')\n      .map((x) => x.trim())\n      .filter(Boolean);\n    return out.length ? out : null;\n  }\n\n  return null;\n}\n\n/** list meta total extractor */\nexport function extractTotal(res: unknown): number | null {\n  if (!isObject(res)) return null;\n  const raw =\n    (res as Record<string, unknown>).total ??\n    (res as Record<string, unknown>).count ??\n    (res as Record<string, unknown>).total_count;\n\n  if (typeof raw === 'number') return Number.isFinite(raw) ? raw : null;\n  if (typeof raw === 'string' && raw.trim()) {\n    const n = Number(raw);\n    return Number.isFinite(n) ? n : null;\n  }\n  return null;\n}\n\ntype UnknownRecord = Record<string, unknown>;\n\nexport function extractArray(\n  res: unknown,\n  keys: readonly string[] = ['data', 'items', 'rows', 'result', 'replies', 'tickets'],\n): unknown[] {\n  if (Array.isArray(res)) return res;\n  if (isObject(res)) {\n    for (const k of keys) {\n      const v = (res as UnknownRecord)[k];\n      if (Array.isArray(v)) return v;\n    }\n  }\n  return [];\n}\n\nexport function safeParseJson<T>(raw: unknown): T | null {\n  const s = nonEmpty(raw);\n  if (!s) return null;\n  try {\n    return JSON.parse(s) as T;\n  } catch {\n    return null;\n  }\n}\n\n// -------------------- text helpers (SEO excerpts etc.) --------------------\n\n/** HTML -> plain text (safe) */\nexport function stripHtmlToText(s: string): string {\n  return (s || '')\n    .replace(/<[^>]*>/g, ' ')\n    .replace(/\\s+/g, ' ')\n    .trim();\n}\n\n/** Text truncate with ellipsis */\nexport function truncateText(s: string, n: number): string {\n  if (!s) return s;\n  return s.length > n ? s.slice(0, Math.max(0, n - 1)) + '…' : s;\n}\n\n/** UI tarafında güvenli trim'li string */\nexport const uiText = (v: unknown): string => trimStr(v);\n\n/** UUID v4-like validation (case-insensitive, 8-4-4-4-12) */\nexport const isUuidLike = (v: unknown): boolean => {\n  const s = typeof v === 'string' ? v.trim() : String(v ?? '').trim();\n  if (!s) return false;\n  return /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(s);\n};\n\n/** unknown -> JSON parse (object/array), yoksa null */\nexport const tryParseJsonVal = <T = unknown>(val: unknown): T | null => {\n  if (val == null) return null;\n  if (typeof val === 'object') return val as T;\n\n  if (typeof val === 'string') {\n    const s = val.trim();\n    if (!s) return null;\n\n    const looksJson =\n      (s.startsWith('{') && s.endsWith('}')) || (s.startsWith('[') && s.endsWith(']'));\n    if (!looksJson) return null;\n\n    try {\n      return JSON.parse(s) as T;\n    } catch {\n      return null;\n    }\n  }\n\n  return null;\n};\n\n/** SiteSetting JSON value'larından array parse (string ise JSON, değilse null) */\nexport const parseJsonArray = <T = unknown>(val: unknown): T[] => {\n  const arr = tryParseJsonVal<T[]>(val);\n  return Array.isArray(arr) ? arr : [];\n};\n\n/** SiteSetting JSON value'larından object parse */\nexport const parseJsonObject = (val: unknown): Record<string, unknown> => {\n  const obj = tryParseJsonVal<Record<string, unknown>>(val);\n  return obj && typeof obj === 'object' && !Array.isArray(obj) ? obj : {};\n};\n\n// -------------------- Header domain types --------------------\n\nexport type HeaderMenuItem = {\n  title?: string;\n  path?: string;\n  pageKey?: string;\n  type?: 'link' | 'dropdown';\n  itemsKey?: string;\n};\n\nexport type HeaderDropdownItem = { title?: string; path?: string; pageKey?: string };\n\nexport type HeaderSocialItem = { url?: string; icon?: string; alt?: string };\n\n// -------------------- Header normalizers --------------------\n\n/** header_menu -> normalized MenuItem[] */\nexport function normalizeHeaderMenu(val: unknown): Array<{\n  title: string;\n  path: string;\n  pageKey: string;\n  type: 'link' | 'dropdown';\n  itemsKey: string;\n}> {\n  const arr = parseJsonArray<HeaderMenuItem>(val);\n  if (!arr.length) return [];\n\n  return arr\n    .map((x) => ({\n      title: uiText(x?.title),\n      path: uiText(x?.path),\n      pageKey: uiText(x?.pageKey),\n      type: (x?.type === 'dropdown' ? 'dropdown' : 'link') as 'link' | 'dropdown',\n      itemsKey: uiText(x?.itemsKey),\n    }))\n    .filter((x) => !!x.title);\n}\n\n/** dropdown itemsKey setting -> normalized dropdown items */\nexport function normalizeHeaderDropdownItems(val: unknown): Array<{ title: string; path: string }> {\n  const arr = parseJsonArray<HeaderDropdownItem>(val);\n  if (!arr.length) return [];\n\n  return arr\n    .map((x) => ({\n      title: uiText(x?.title) || uiText(x?.pageKey),\n      path: uiText(x?.path),\n    }))\n    .filter((x) => !!x.title && !!x.path);\n}\n\n/** social_links -> normalized social items */\nexport function normalizeHeaderSocialLinks(\n  val: unknown,\n): Array<{ url: string; icon: string; alt: string }> {\n  const arr = parseJsonArray<HeaderSocialItem>(val);\n  if (!arr.length) return [];\n\n  return arr\n    .map((x) => ({\n      url: uiText(x?.url),\n      icon: uiText(x?.icon),\n      alt: uiText(x?.alt) || 'Social',\n    }))\n    .filter((x) => !!x.url && !!x.icon);\n}\n\n/** ui_hero içinden cta_href (string) okuma */\nexport function pickHeaderCtaHrefFromUiHero(val: unknown): string {\n  const obj = parseJsonObject(val);\n  return uiText(obj?.cta_href);\n}\n\n/** Menu içindeki dropdown itemsKey'leri unique + maxN */\nexport function pickDropdownKeys(\n  menu: Array<{ type: 'link' | 'dropdown'; itemsKey: string }>,\n  maxN = 8,\n): string[] {\n  const keys = Array.from(\n    new Set(\n      menu\n        .filter((x) => x.type === 'dropdown' && uiText(x.itemsKey))\n        .map((x) => uiText(x.itemsKey))\n        .filter(Boolean),\n    ),\n  );\n  return keys.slice(0, maxN);\n}\n\nexport type MediaValue = {\n  url: string;\n  width?: number;\n  height?: number;\n  alt?: string;\n};\n\nexport type StaticImageLike = { src?: string; width?: number; height?: number } | unknown;\n\n/** string mi + http(s) mi */\nexport const isHttpUrl = (s: string): boolean => /^https?:\\/\\//i.test((s || '').trim());\n\n/** JSON string gibi mi görünüyor */\nexport const isJsonishString = (v: unknown): boolean => {\n  if (typeof v !== 'string') return false;\n  const t = v.trim();\n  return (t.startsWith('{') && t.endsWith('}')) || (t.startsWith('[') && t.endsWith(']'));\n};\n\n/**\n * site_settings media value -> {url,width,height,alt}\n * Accepts:\n * - object: { url, width, height, alt } or { src, w, h } or { image_url, image }\n * - string: plain url OR json-string\n */\nexport function parseSiteLogoMedia(val: unknown): MediaValue {\n  if (val == null) return { url: '' };\n\n  // already parsed object\n  if (isObject(val)) {\n    const obj = val as Record<string, unknown>;\n\n    const url = pickStr(obj, ['url', 'src', 'image_url', 'image'], '');\n    const alt = pickStr(obj, ['alt'], '');\n\n    const widthRaw = pickFirst(obj, ['width', 'w']);\n    const heightRaw = pickFirst(obj, ['height', 'h']);\n\n    const width = typeof widthRaw === 'number' && Number.isFinite(widthRaw) ? widthRaw : undefined;\n    const height =\n      typeof heightRaw === 'number' && Number.isFinite(heightRaw) ? heightRaw : undefined;\n\n    return {\n      url: trimStr(url),\n      ...(width ? { width } : null),\n      ...(height ? { height } : null),\n      ...(alt ? { alt: trimStr(alt) } : null),\n    };\n  }\n\n  // string: plain url OR json-string\n  if (typeof val === 'string') {\n    const s = val.trim();\n    if (!s) return { url: '' };\n\n    if (!isJsonishString(s)) return { url: s };\n\n    const parsed = safeParseJson<Record<string, unknown>>(s);\n    if (parsed && typeof parsed === 'object') {\n      const url = pickStr(parsed, ['url', 'src', 'image_url', 'image'], '');\n      const alt = pickStr(parsed, ['alt'], '');\n\n      const widthRaw = pickFirst(parsed, ['width', 'w']);\n      const heightRaw = pickFirst(parsed, ['height', 'h']);\n\n      const width =\n        typeof widthRaw === 'number' && Number.isFinite(widthRaw) ? widthRaw : undefined;\n      const height =\n        typeof heightRaw === 'number' && Number.isFinite(heightRaw) ? heightRaw : undefined;\n\n      return {\n        url: trimStr(url),\n        ...(width ? { width } : null),\n        ...(height ? { height } : null),\n        ...(alt ? { alt: trimStr(alt) } : null),\n      };\n    }\n\n    // parse fail => treat as plain url\n    return { url: s };\n  }\n\n  return { url: '' };\n}\n\n/**\n * SSR-safe Next/Image unoptimized decision:\n * - src string ise URL hostname bakılır\n * - localhost / 127.0.0.1 image URL’lerinde optimizer bypass edilir\n */\nexport function shouldBypassNextImageOptimizer(src: unknown): boolean {\n  if (typeof src !== 'string') return false;\n  const s = src.trim();\n  if (!isHttpUrl(s)) return false;\n\n  try {\n    const u = new URL(s);\n    return u.hostname === 'localhost' || u.hostname === '127.0.0.1';\n  } catch {\n    return false;\n  }\n}\n\n/** className merge (no inline styles). */\nexport const cx = (...parts: Array<string | undefined | null | false>): string | undefined => {\n  const out = parts\n    .map((x) => trimStr(x))\n    .filter(Boolean)\n    .join(' ');\n  return out ? out : undefined;\n};\n\nexport function toAbsoluteUrlOrNull(base: string, maybeUrl: unknown): string | null {\n  const raw = trimStr(maybeUrl);\n  if (!raw) return null;\n\n  if (isHttpUrl(raw)) return raw;\n\n  const b = trimStr(base).replace(/\\/+$/, '');\n  if (!b) return null;\n\n  const p = raw.startsWith('/') ? raw : `/${raw}`;\n  return `${b}${p}`;\n}\n\n/**\n * strict helper: empty/invalid ise throw\n * (Layout/SEO strict mod için)\n */\nexport function toAbsoluteUrlStrict(\n  base: string,\n  maybeUrl: unknown,\n  errMsg = '[SEO] Expected non-empty url',\n): string {\n  const out = toAbsoluteUrlOrNull(base, maybeUrl);\n  if (!out) throw new Error(errMsg);\n  return out;\n}\n\n// -------------------- media helpers (generic) --------------------\n\n/**\n * unknown -> image url string (best effort)\n * Accepts:\n * - string url\n * - string json: {\"url\": \"...\"} or {\"src\": \"...\"} etc.\n * - object: {url/src/image_url/image}\n * - array: first parsable entry\n */\nexport function parseMediaUrl(val: unknown): string {\n  if (val == null) return '';\n\n  // array => first usable\n  if (Array.isArray(val)) {\n    for (const it of val) {\n      const u = parseMediaUrl(it);\n      if (u) return u;\n    }\n    return '';\n  }\n\n  // object => pick keys\n  if (isObject(val) && !Array.isArray(val)) {\n    const obj = val as Record<string, unknown>;\n    const u = pickStr(obj, ['url', 'src', 'image_url', 'image'], '');\n    return trimStr(u);\n  }\n\n  // string => url OR json-string\n  if (typeof val === 'string') {\n    const s = trimStr(val);\n    if (!s) return '';\n\n    // plain url (absolute or relative)\n    if (isHttpUrl(s) || s.startsWith('/')) return s;\n\n    // json-string\n    if (isJsonishString(s)) {\n      const parsed = safeParseJson<Record<string, unknown>>(s);\n      if (parsed && typeof parsed === 'object') {\n        const u = pickStr(parsed, ['url', 'src', 'image_url', 'image'], '');\n        return trimStr(u);\n      }\n    }\n\n    return '';\n  }\n\n  return '';\n}\n\n/** number safe */\nexport const toNumSafe = (v: unknown, fallback = 0): number => {\n  const n = typeof v === 'number' ? v : Number(String(v ?? '').replace(',', '.'));\n  return Number.isFinite(n) ? n : fallback;\n};\n\n/** Utility type to add locale field to query params */\nexport type WithLocale<T> = T & { locale?: string | null };\n\n/** Re-export cleanParams from helpers */\nexport { cleanParams } from '@/integrations/shared/utils/helpers';\n","// =============================================================\n// FILE: src/integrations/types/custom_pages.types.ts\n// konigsmassage – Custom Pages (Sayfalar) RTK Tipleri (FINAL)\n// Backend: src/modules/customPages/*\n// - ✅ category_id / sub_category_id REMOVED (and related names/slugs)\n// =============================================================\n\nimport { BoolLike, SortOrder } from '@/integrations/shared/common';\n\n/** Sıralama alanları – backend customPageListQuerySchema ile uyumlu */\nexport type CustomPageSortField = 'created_at' | 'updated_at' | 'display_order' | 'order_num';\n\n/* ------------------------------------------------------------------\n * LIST QUERY PARAMS (public + admin)\n * Backend: customPageListQuerySchema\n * ------------------------------------------------------------------ */\nexport interface CustomPageListQueryParams {\n  order?: string;\n  sort?: CustomPageSortField;\n  orderDir?: SortOrder;\n  limit?: number;\n  offset?: number;\n\n  is_published?: BoolLike;\n  q?: string;\n  slug?: string;\n  select?: string;\n\n  module_key?: string;\n\n  /** Liste locale override (örn. \"de\") */\n  locale?: string;\n  /** Backend default_locale override (örn. \"tr\") */\n  default_locale?: string;\n}\n\nexport type CustomPageListAdminQueryParams = CustomPageListQueryParams;\nexport type CustomPageListPublicQueryParams = CustomPageListQueryParams;\n\n/* ------------------------------------------------------------------\n * API DTO – Backend CustomPageMerged ile uyumlu\n * ------------------------------------------------------------------ */\nexport interface ApiCustomPage {\n  id: string;\n\n  /** parent: custom_pages.module_key */\n  module_key: string;\n\n  is_published: 0 | 1;\n\n  featured_image: string | null;\n  featured_image_asset_id: string | null;\n\n  // ✅ parent sıralama + görseller (backend CustomPageMerged)\n  display_order: number;\n  order_num: number;\n\n  image_url: string | null;\n  storage_asset_id: string | null;\n\n  /**\n   * Not: Backend bazı ortamlarda JSON kolonu string döndürebilir.\n   * O yüzden normalizeStringArray hem array hem JSON-string destekler.\n   */\n  images: string[] | string | null;\n  storage_image_ids: string[] | string | null;\n\n  created_at: string;\n  updated_at: string;\n\n  title: string | null;\n  slug: string | null;\n\n  /**\n   * Backend: JSON-string {\"html\":\"...\"}\n   * repo: CustomPageMerged.content\n   */\n  content: string | null;\n\n  summary: string | null;\n\n  featured_image_alt: string | null;\n  meta_title: string | null;\n  meta_description: string | null;\n\n  tags: string | null;\n\n  locale_resolved: string | null;\n}\n\n/* ------------------------------------------------------------------\n * FE DTO – Normalize edilmiş CustomPage\n * ------------------------------------------------------------------ */\nexport interface CustomPageDto {\n  id: string;\n  module_key: string;\n\n  is_published: boolean;\n\n  featured_image: string | null;\n  featured_image_asset_id: string | null;\n\n  display_order: number;\n  order_num: number;\n\n  image_url: string | null;\n  storage_asset_id: string | null;\n  images: string[];\n  storage_image_ids: string[];\n\n  created_at: string;\n  updated_at: string;\n\n  title: string | null;\n  slug: string | null;\n\n  content_raw: string | null;\n  content_html: string;\n  content: string;\n\n  summary: string | null;\n\n  featured_image_alt: string | null;\n  alt?: string | null; // Alias for featured_image_alt\n  meta_title: string | null;\n  meta_description: string | null;\n\n  tags_raw: string | null;\n  tags: string[];\n\n  locale_resolved: string | null;\n\n  // Optional backend-resolved URL fields (may not be present in all responses)\n  featured_image_effective_url?: string | null;\n  image_effective_url?: string | null;\n  images_effective_urls?: string[];\n}\n\n/* ------------------------------------------------------------------\n * Normalizer helper\n * ------------------------------------------------------------------ */\n\ntype ContentJson = { html?: string; [key: string]: unknown };\n\nconst unpackContent = (raw: string | null): string => {\n  if (!raw) return '';\n  try {\n    const parsed = JSON.parse(raw) as ContentJson;\n    if (typeof parsed.html === 'string') return parsed.html;\n    return raw;\n  } catch {\n    return raw;\n  }\n};\n\nconst toBoolFrom01 = (v: 0 | 1): boolean => v === 1;\n\nconst parseTags = (raw: string | null): string[] => {\n  if (!raw) return [];\n  return raw\n    .split(/[;,]/)\n    .map((t) => t.trim())\n    .filter((t, idx, arr) => t.length > 0 && arr.indexOf(t) === idx);\n};\n\n/**\n * API içinden ham content string'ini seç:\n * - Öncelik sırası: content → content_raw → content_html\n */\nconst pickApiContentRaw = (api: ApiCustomPage): string | null => {\n  const anyApi = api as any;\n  return (api.content ?? anyApi.content_raw ?? anyApi.content_html ?? null) as string | null;\n};\n\nconst normalizeStringArray = (v: unknown): string[] => {\n  if (Array.isArray(v)) {\n    return v.map((x) => String(x ?? '').trim()).filter((s) => s.length > 0);\n  }\n\n  if (typeof v === 'string') {\n    const s = v.trim();\n    if (!s) return [];\n\n    if (s.startsWith('[') && s.endsWith(']')) {\n      try {\n        const parsed = JSON.parse(s);\n        if (Array.isArray(parsed)) {\n          return parsed.map((x) => String(x ?? '').trim()).filter((t) => t.length > 0);\n        }\n      } catch {\n        // ignore\n      }\n    }\n\n    if (s.includes(',') || s.includes(';')) {\n      return s\n        .split(/[;,]/)\n        .map((x) => x.trim())\n        .filter((t) => t.length > 0);\n    }\n\n    return [s];\n  }\n\n  return [];\n};\n\nexport const normalizeCustomPage = (api: ApiCustomPage): CustomPageDto => {\n  const rawContent = pickApiContentRaw(api);\n  const html = unpackContent(rawContent);\n\n  const images = normalizeStringArray(api.images);\n  const storageImageIds = normalizeStringArray(api.storage_image_ids);\n\n  const tagsArray = parseTags(api.tags);\n\n  return {\n    id: api.id,\n    module_key: String((api as any).module_key ?? (api as any).moduleKey ?? ''),\n    is_published: toBoolFrom01(api.is_published),\n\n    featured_image: api.featured_image ?? null,\n    featured_image_asset_id: api.featured_image_asset_id ?? null,\n\n    display_order: Number.isFinite(Number(api.display_order)) ? Number(api.display_order) : 0,\n    order_num: Number.isFinite(Number(api.order_num)) ? Number(api.order_num) : 0,\n\n    image_url: api.image_url ?? null,\n    storage_asset_id: api.storage_asset_id ?? null,\n    images,\n    storage_image_ids: storageImageIds,\n\n    created_at: String(api.created_at),\n    updated_at: String(api.updated_at),\n\n    title: api.title ?? null,\n    slug: api.slug ?? null,\n\n    content_raw: rawContent,\n    content_html: html,\n    content: html,\n\n    summary: api.summary ?? null,\n\n    featured_image_alt: api.featured_image_alt ?? null,\n    meta_title: api.meta_title ?? null,\n    meta_description: api.meta_description ?? null,\n\n    tags_raw: api.tags ?? null,\n    tags: tagsArray,\n\n    locale_resolved: api.locale_resolved ?? null,\n  };\n};\n\nexport const mapApiCustomPageToDto = normalizeCustomPage;\n\n/* ------------------------------------------------------------------\n * PAYLOAD – CREATE / UPDATE\n * Backend: UpsertCustomPageBody, PatchCustomPageBody\n * ------------------------------------------------------------------ */\n\nexport interface CustomPageCreatePayload {\n  // i18n zorunlu alanlar\n  locale?: string;\n  title: string;\n  slug: string;\n  content: string; // düz HTML – backend packContent ile {\"html\":\"...\"} yapar\n\n  summary?: string | null;\n\n  featured_image_alt?: string | null;\n  meta_title?: string | null;\n  meta_description?: string | null;\n\n  tags?: string | null;\n\n  // parent alanları\n  is_published?: BoolLike;\n\n  featured_image?: string | null;\n  featured_image_asset_id?: string | null;\n\n  display_order?: number;\n  order_num?: number;\n\n  image_url?: string | null;\n  storage_asset_id?: string | null;\n  images?: string[] | null;\n  storage_image_ids?: string[] | null;\n}\n\nexport interface CustomPageUpdatePayload {\n  locale?: string;\n\n  // parent\n  is_published?: BoolLike;\n  featured_image?: string | null;\n  featured_image_asset_id?: string | null;\n\n  display_order?: number;\n  order_num?: number;\n\n  image_url?: string | null;\n  storage_asset_id?: string | null;\n  images?: string[] | null;\n  storage_image_ids?: string[] | null;\n\n  // i18n\n  title?: string;\n  slug?: string;\n  content?: string;\n\n  summary?: string | null;\n\n  featured_image_alt?: string | null;\n  meta_title?: string | null;\n  meta_description?: string | null;\n\n  tags?: string | null;\n}\n\n// Type alias for compatibility\nexport type CustomPageView = CustomPageDto;\n","// =============================================================\n// FILE: src/integrations/types/contacts.types.ts\n// =============================================================\n\nexport type ContactStatus = 'new' | 'in_progress' | 'closed';\n\n/**\n * Backend'in döndürdüğü model (ContactView / contact_messages row)\n */\nexport interface ContactDto {\n  id: string;\n  name: string;\n  email: string;\n  phone: string;\n  subject: string;\n  message: string;\n\n  status: ContactStatus;\n  is_resolved: boolean;\n\n  admin_note: string | null;\n\n  ip: string | null;\n  user_agent: string | null;\n  website: string | null;\n\n  created_at: string | Date;\n  updated_at: string | Date;\n}\n\n/**\n * UI tarafında normalize ettiğimiz model\n */\nexport interface Contact {\n  id: string;\n  name: string;\n  email: string;\n  phone: string;\n  subject: string;\n  message: string;\n\n  status: ContactStatus;\n  is_resolved: boolean;\n\n  admin_note: string | null;\n\n  ip: string | null;\n  user_agent: string | null;\n  website: string | null;\n\n  created_at: string; // ISO\n  updated_at: string; // ISO\n}\n\nexport const normalizeContact = (dto: ContactDto): Contact => ({\n  id: dto.id,\n  name: dto.name,\n  email: dto.email,\n  phone: dto.phone,\n  subject: dto.subject,\n  message: dto.message,\n\n  status: dto.status,\n  is_resolved: !!dto.is_resolved,\n\n  admin_note: dto.admin_note ?? null,\n\n  ip: dto.ip ?? null,\n  user_agent: dto.user_agent ?? null,\n  website: dto.website ?? null,\n\n  created_at:\n    typeof dto.created_at === 'string' ? dto.created_at : (dto.created_at?.toISOString?.() ?? ''),\n  updated_at:\n    typeof dto.updated_at === 'string' ? dto.updated_at : (dto.updated_at?.toISOString?.() ?? ''),\n});\n\n/**\n * LIST query params – ContactListParamsSchema ile uyumlu\n */\nexport interface ContactListQueryParams {\n  search?: string;\n  status?: ContactStatus;\n  resolved?: boolean;\n  limit?: number;\n  offset?: number;\n  orderBy?: 'created_at' | 'updated_at' | 'status' | 'name';\n  order?: 'asc' | 'desc';\n}\n\n/**\n * PUBLIC create payload – ContactCreateSchema ile uyumlu\n */\nexport interface ContactCreatePayload {\n  name: string;\n  email: string;\n  phone: string;\n  subject: string;\n  message: string;\n  /**\n   * Honeypot alan – genellikle boş bırakılır.\n   * Bot doldurursa backend sessizce discard ediyor.\n   */\n  website?: string | null;\n}\n\n/**\n * ADMIN update payload – ContactUpdateSchema ile uyumlu\n */\nexport interface ContactUpdatePayload {\n  status?: ContactStatus;\n  is_resolved?: boolean;\n  admin_note?: string | null;\n}\n\n// Type alias for compatibility\nexport type ContactView = ContactDto;\n","// =============================================================\n// FILE: src/integrations/shared/email.ts\n// =============================================================\n\nimport type { BoolLike } from '@/integrations/shared';\nimport { toBool } from '@/integrations/shared';\n\nexport type EmailRow = {\n  id: string;\n  template_key: string; // BE anahtar adı\n  template_name: string; // İnsan-okur adı\n  subject: string;\n  content?: unknown; // HTML string veya farklı form\n  body_html?: string | null; // Bazı BE'ler bu adı kullanabilir\n  variables?: unknown; // string[] | string (comma) | JSON-string | null\n  is_active: BoolLike;\n  locale?: string | null;\n  created_at?: string | null;\n  updated_at?: string | null;\n};\n\nexport type EmailView = {\n  id: string;\n  key: string;\n  name: string;\n  subject: string;\n  content_html: string;\n  variables: string[];\n  is_active: boolean;\n  locale: string | null;\n  created_at: string | null;\n  updated_at: string | null;\n};\n\nexport const isObj = (v: unknown): v is Record<string, unknown> =>\n  typeof v === 'object' && v !== null;\n\nexport const toArrayOfStrings = (v: unknown): string[] => {\n  if (Array.isArray(v)) {\n    return v.filter((x): x is string => typeof x === 'string');\n  }\n  if (typeof v === 'string') {\n    try {\n      const parsed = JSON.parse(v) as unknown;\n      if (Array.isArray(parsed)) {\n        return parsed.filter((x): x is string => typeof x === 'string');\n      }\n    } catch {\n      /* ignored */\n    }\n    return v\n      .split(',')\n      .map((s) => s.trim())\n      .filter(Boolean);\n  }\n  return [];\n};\n\nexport const extractHtml = (raw: unknown): string => {\n  if (typeof raw === 'string') return raw;\n  if (isObj(raw) && typeof raw['html'] === 'string') {\n    return raw['html'] as string;\n  }\n  return '';\n};\n\nexport const toView = (row: unknown): EmailView => {\n  const r = (row ?? {}) as Partial<EmailRow>;\n  const html = r.body_html ?? r.content;\n\n  const created_at = typeof r.created_at === 'string' ? r.created_at : null;\n  const updated_at = typeof r.updated_at === 'string' ? r.updated_at : null;\n\n  const locale = typeof r.locale === 'string' || r.locale === null ? (r.locale ?? null) : null;\n\n  return {\n    id: String(r.id ?? ''),\n    key: String(r.template_key ?? ''),\n    name: String(r.template_name ?? ''),\n    subject: String(r.subject ?? ''),\n    content_html: extractHtml(html),\n    variables: toArrayOfStrings(r.variables),\n    is_active: toBool(r.is_active),\n    locale,\n    created_at,\n    updated_at,\n  };\n};\n","// =============================================================\n// FILE: src/integrations/types/faqs.types.ts\n// FINAL — Backend faqs modülü ile uyumlu tipler\n// =============================================================\n\nimport type { BoolLike } from '@/integrations/shared';\n\nexport type FaqSortable = 'created_at' | 'updated_at' | 'display_order';\n\nexport interface FaqDto {\n  id: string;\n  is_active: BoolLike;\n  display_order: number;\n\n  created_at: string;\n  updated_at: string;\n\n  question: string | null;\n  answer: string | null;\n  slug: string | null;\n\n  locale_resolved: string | null;\n}\n\nexport interface ApiFaqAdmin {\n  id: string | number;\n\n  is_active: BoolLike;\n  display_order?: number | null;\n\n  created_at: string | Date;\n  updated_at: string | Date;\n\n  question?: string | null;\n  answer?: string | null;\n  slug?: string | null;\n\n  locale_resolved?: string | null;\n}\n\nconst toIsoString = (v: unknown): string => {\n  if (!v) return '';\n  if (typeof v === 'string') return v;\n  if (v instanceof Date) return v.toISOString();\n  const d = new Date(String(v));\n  return Number.isNaN(d.getTime()) ? '' : d.toISOString();\n};\n\nconst toNumber = (v: unknown, fallback = 0): number => {\n  const n =\n    typeof v === 'number'\n      ? v\n      : typeof v === 'string'\n      ? Number(v)\n      : v == null\n      ? NaN\n      : Number(String(v));\n  return Number.isFinite(n) ? n : fallback;\n};\n\nexport const normalizeFaqAdmin = (row: ApiFaqAdmin): FaqDto => ({\n  id: String(row?.id ?? ''),\n  is_active: (row?.is_active ?? 0) as BoolLike,\n  display_order: toNumber(row?.display_order, 0),\n\n  created_at: toIsoString(row?.created_at),\n  updated_at: toIsoString(row?.updated_at),\n\n  question: row?.question ?? null,\n  answer: row?.answer ?? null,\n  slug: row?.slug ?? null,\n  locale_resolved: row?.locale_resolved ?? null,\n});\n\n/**\n * LIST query params – backend faqListQuerySchema uyumlu\n * ✅ Tek format: sort + orderDir\n * ✅ locale: RTK seviyesinde desteklenir (header/query)\n */\nexport interface FaqListQueryParams {\n  sort?: FaqSortable;\n  orderDir?: 'asc' | 'desc';\n\n  limit?: number;\n  offset?: number;\n\n  is_active?: BoolLike;\n  q?: string;\n  slug?: string;\n\n  select?: string;\n\n  locale?: string;\n}\n\ninterface FaqBasePayload {\n  is_active?: BoolLike;\n  display_order?: number;\n}\n\nexport interface FaqCreatePayload extends FaqBasePayload {\n  question: string;\n  answer: string;\n  slug: string;\n  locale?: string;\n}\n\nexport interface FaqUpdatePayload extends FaqBasePayload {\n  question?: string;\n  answer?: string;\n  slug?: string;\n  locale?: string;\n}\n","// ----------------------------------------------------------------------\n// FILE: src/integrations/shared/footer.ts\n// ----------------------------------------------------------------------\n\nimport {\n  SiteSettingLike,\n  nonEmpty,\n  parseJsonArray,\n  isActiveFooterSection,\n  sortFooterSections,\n} from '@/integrations/shared';\nimport type { FooterSectionDto, PublicMenuItemDto } from '@/integrations/shared';\n\nexport type FooterLink = {\n  label: string;\n  href: string;\n  external?: boolean;\n};\n\nexport type FooterSectionListParams = {\n  q?: string;\n  is_active?: boolean;\n  limit?: number;\n  offset?: number;\n  /** Admin backend'e uygun sort alanları */\n  sort?: 'display_order' | 'created_at' | 'title';\n  order?: 'asc' | 'desc';\n};\n\nexport type FooterPublicListParams = {\n  q?: string;\n  is_active?: boolean;\n  limit?: number;\n  offset?: number;\n  order?: 'asc' | 'desc'; // public'te sort alanı yok; order_num yönü\n};\n\nexport type ReorderFooterSectionItem = {\n  id: string;\n  display_order: number;\n};\n\n/** BE’den gelen ham kayıt (links string olabilir) */\nexport type ApiFooterSection = {\n  id: string;\n  title: string | null;\n  links?: string | FooterLink[] | null;\n  display_order?: number | null;\n  is_active?: boolean | number | '0' | '1' | 'true' | 'false' | null;\n  created_at?: string | null;\n  updated_at?: string | null;\n};\n\n/** FE’de kullanılan normalize edilmiş model */\nexport type FooterSection = {\n  id: string;\n  title: string;\n  links: FooterLink[];\n  display_order: number;\n  is_active: boolean;\n  created_at?: string | null;\n  updated_at?: string | null;\n};\n\n/** Create/Update body (admin/public upsert) */\nexport type UpsertFooterSectionBody = {\n  title: string;\n  links?: FooterLink[];\n  display_order?: number;\n  is_active?: boolean;\n};\n\nexport type FooterQuickLink = { title?: string; path?: string; pageKey?: string };\nexport type FooterSocialLink = { url?: string; icon?: string; alt?: string };\n\nexport function normalizeQuickLinks(x: unknown): Array<{ name: string; url: string }> {\n  const arr = parseJsonArray<FooterQuickLink>(x);\n  if (!arr.length) return [];\n  return arr\n    .map((it) => ({\n      name: nonEmpty(it?.title) || nonEmpty(it?.pageKey),\n      url: nonEmpty(it?.path),\n    }))\n    .filter((it) => !!it.name && !!it.url);\n}\n\nexport function normalizeSocialLinks(\n  x: unknown,\n): Array<{ url: string; icon: string; alt: string }> {\n  const arr = parseJsonArray<FooterSocialLink>(x);\n  if (!arr.length) return [];\n  return arr\n    .map((it) => ({\n      url: nonEmpty(it?.url),\n      icon: nonEmpty(it?.icon),\n      alt: nonEmpty(it?.alt) || 'Social',\n    }))\n    .filter((it) => !!it.url && !!it.icon);\n}\n\nexport type LinkItem = { title?: string; path?: string; pageKey?: string };\n\nexport function normalizeLinkItems(x: unknown): Array<{ name: string; url: string }> {\n  const arr = parseJsonArray<LinkItem>(x);\n  if (!arr.length) return [];\n  return arr\n    .map((it) => ({\n      name: nonEmpty(it?.title) || nonEmpty(it?.pageKey),\n      url: nonEmpty(it?.path),\n    }))\n    .filter((it) => !!it.name && !!it.url);\n}\n\nexport function pickSettingValue(data?: SiteSettingLike): unknown {\n  // RTK response formatı projede değişebiliyor; en güvenlisi:\n  // - data.value\n  // - data.data.value\n  // - data.items[0].value\n  const d: any = data as any;\n  return d?.value ?? d?.data?.value ?? (Array.isArray(d?.items) ? d.items[0]?.value : undefined);\n}\n\nexport function pickTextFromSettingValue(v: unknown, fallback = ''): string {\n  if (typeof v === 'string') return v.trim() || fallback;\n\n  if (v && typeof v === 'object') {\n    const o: any = v;\n    // company_brand JSON: { name, shortName, website, ... }\n    const name =\n      typeof o?.shortName === 'string' ? o.shortName : typeof o?.name === 'string' ? o.name : '';\n    return name.trim() || fallback;\n  }\n\n  return fallback;\n}\n\nexport function pickBrandName(v: unknown, fallback = 'guezelwebdesign'): string {\n  if (typeof v === 'string') return v.trim() || fallback;\n  if (v && typeof v === 'object') {\n    const o: any = v;\n    const s =\n      (typeof o?.shortName === 'string' ? o.shortName : '') ||\n      (typeof o?.name === 'string' ? o.name : '');\n    return (s || '').trim() || fallback;\n  }\n  return fallback;\n}\n\nexport function pickSocialUrl(v: unknown, key: string): string {\n  if (!v || typeof v !== 'object') return '';\n  const o: any = v;\n  const s = typeof o?.[key] === 'string' ? o[key].trim() : '';\n  return s;\n}\n\n// =============================================================\n// Footer menu helpers (sections + menu items)\n// =============================================================\n\nexport type FooterMenuGroup = {\n  section: FooterSectionDto;\n  items: PublicMenuItemDto[];\n};\n\nexport function flattenMenuItems(\n  items: PublicMenuItemDto[] | undefined,\n  parentSectionId?: string | null,\n): PublicMenuItemDto[] {\n  const out: PublicMenuItemDto[] = [];\n\n  const walk = (arr: PublicMenuItemDto[] | undefined, sectionId?: string | null) => {\n    if (!arr || !arr.length) return;\n    for (const item of arr) {\n      if (!item) continue;\n      const resolvedSectionId = item.section_id || sectionId || null;\n      out.push({ ...item, section_id: resolvedSectionId });\n      if (item.children && item.children.length) {\n        walk(item.children, resolvedSectionId);\n      }\n    }\n  };\n\n  walk(items, parentSectionId);\n  return out;\n}\n\nexport function groupFooterMenuSections(\n  sections: FooterSectionDto[] | undefined,\n  items: PublicMenuItemDto[] | undefined,\n): { groups: FooterMenuGroup[]; ungrouped: PublicMenuItemDto[] } {\n  const activeSections = sortFooterSections((sections || []).filter(isActiveFooterSection));\n  const flatItems = flattenMenuItems(items).filter((x) => x && x.is_active !== false);\n\n  const bySection = new Map<string, PublicMenuItemDto[]>();\n  const ungrouped: PublicMenuItemDto[] = [];\n\n  for (const item of flatItems) {\n    const sid = item.section_id;\n    if (sid) {\n      const arr = bySection.get(sid) || [];\n      arr.push(item);\n      bySection.set(sid, arr);\n    } else {\n      ungrouped.push(item);\n    }\n  }\n\n  const groups: FooterMenuGroup[] = activeSections\n    .map((section) => {\n      const list = (bySection.get(section.id) || []).slice();\n      list.sort((a, b) => (a.order_num ?? 0) - (b.order_num ?? 0));\n      return { section, items: list };\n    })\n    .filter((g) => g.items.length > 0);\n\n  ungrouped.sort((a, b) => (a.order_num ?? 0) - (b.order_num ?? 0));\n\n  return { groups, ungrouped };\n}\n","// =============================================================\n// FILE: src/integrations/shared/siteSettings.ts\n// FINAL — Site Settings types + shared normalizers/parsers\n// - RTK endpoints içinde helper yok\n// - Public parse: tryParsePublicValue\n// - Admin normalize: normalizeSettingValue\n// - Param builders: buildPublicSiteSettingsListParams / buildAdminSiteSettingsListParams\n// - Key arg resolver: resolveSiteSettingKeyArg (string | object)\n// =============================================================\n\nimport { toNum, toBool, parseJsonObject, uiText } from '@/integrations/shared';\nimport type { ValueType, JsonLike } from '@/integrations/shared';\n\n/** FE/BE arasında ayakta kalacak JSON-benzeri tip */\nexport type SettingValue =\n  | string\n  | number\n  | boolean\n  | null\n  | { [k: string]: SettingValue }\n  | SettingValue[];\n\nexport type SiteSettingRow = {\n  id?: string;\n  key: string;\n  value: unknown; // normalize edilip SettingValue'a dönüştürülecek\n  value_type?: ValueType | null;\n  group?: string | null;\n  description?: string | null;\n  created_at?: string;\n  updated_at?: string;\n};\n\nexport type SiteSetting = {\n  key: string;\n  value: JsonLike;\n  locale?: string | null;\n  updated_at?: string;\n};\n\nexport type SiteSettingLike = SiteSettingRow | SiteSetting | null | undefined;\n\n/** PUBLIC list arg (GET /site_settings) */\nexport type PublicSiteSettingsListArg =\n  | {\n      prefix?: string;\n      keys?: string[];\n      order?:\n        | 'key.asc'\n        | 'key.desc'\n        | 'updated_at.asc'\n        | 'updated_at.desc'\n        | 'created_at.asc'\n        | 'created_at.desc';\n      limit?: number;\n      offset?: number;\n    }\n  | undefined;\n\n/** PUBLIC get arg (GET /site_settings/:key) — string veya object kabul eder */\nexport type PublicSiteSettingGetArg =\n  | string\n  | {\n      key: string;\n      locale?: string;\n      default_locale?: string;\n    };\n\n/** ADMIN list params */\nexport type AdminSiteSettingsListParams = {\n  q?: string;\n  group?: string;\n  keys?: string[];\n  prefix?: string;\n  locale?: string; // ✅ locale parameter\n  limit?: number;\n  offset?: number;\n  sort?: 'key' | 'updated_at' | 'created_at';\n  order?: 'asc' | 'desc';\n};\n\nexport type UpsertSettingBody = {\n  key: string;\n  value: SettingValue;\n  value_type?: ValueType | null;\n  group?: string | null;\n  description?: string | null;\n};\n\nexport type BulkUpsertBody = { items: UpsertSettingBody[] };\n\n// -----------------------------\n// low-level primitives\n// -----------------------------\n\nfunction tryParseJsonString<T = unknown>(s: string): T | string {\n  try {\n    return JSON.parse(s) as T;\n  } catch {\n    return s;\n  }\n}\n\n/** Public taraf: string value ise json/bool/num parse etmeye çalışır */\nexport function tryParsePublicValue<T = unknown>(x: unknown): T {\n  if (typeof x === 'string') {\n    const s = x.trim();\n\n    // JSON\n    if ((s.startsWith('{') && s.endsWith('}')) || (s.startsWith('[') && s.endsWith(']'))) {\n      try {\n        return JSON.parse(s) as T;\n      } catch {\n        // swallow\n      }\n    }\n\n    // bool\n    if (s === 'true') return true as unknown as T;\n    if (s === 'false') return false as unknown as T;\n\n    // number\n    if (s !== '' && !Number.isNaN(Number(s))) {\n      return Number(s) as unknown as T;\n    }\n  }\n\n  return x as T;\n}\n\n/** Admin taraf: value_type'a göre normalize eder */\nexport function normalizeSettingValue(value: unknown, value_type?: ValueType | null): SettingValue {\n  if (value_type === 'boolean') return toBool(value);\n  if (value_type === 'number') return value == null ? null : toNum(value);\n\n  if (value_type === 'json') {\n    if (typeof value === 'string') return tryParseJsonString<SettingValue>(value) as SettingValue;\n    if (value && typeof value === 'object') return value as SettingValue;\n    return null;\n  }\n\n  // value_type yoksa “akıllı” normalize:\n  if (typeof value === 'string') {\n    const s = value.trim();\n\n    if (s === 'true' || s === 'false' || s === '1' || s === '0' || s === 'yes' || s === 'no') {\n      return toBool(s);\n    }\n\n    if (s !== '' && !Number.isNaN(Number(s))) return toNum(s);\n\n    if ((s.startsWith('{') && s.endsWith('}')) || (s.startsWith('[') && s.endsWith(']'))) {\n      return tryParseJsonString<SettingValue>(s) as SettingValue;\n    }\n\n    return s;\n  }\n\n  if (typeof value === 'number' || typeof value === 'boolean') return value;\n  if (value == null) return null;\n\n  return value as SettingValue;\n}\n\n/** PUBLIC response normalize (list item) */\nexport function normalizePublicSiteSettingItem(r: {\n  key: string;\n  value: unknown;\n  updated_at?: string;\n}): SiteSetting {\n  return {\n    key: String(r.key ?? '').trim(),\n    value: tryParsePublicValue<JsonLike>(r.value),\n    ...(r.updated_at ? { updated_at: r.updated_at } : {}),\n  };\n}\n\n/** PUBLIC response normalize (single) */\nexport function normalizePublicSiteSetting(res: unknown): SiteSetting | null {\n  if (!res || typeof res !== 'object') return null;\n  const r = res as { key?: string; value?: unknown; updated_at?: string };\n  const key = String(r.key ?? '').trim();\n  if (!key) return null;\n\n  return {\n    key,\n    value: tryParsePublicValue<JsonLike>(r.value),\n    ...(r.updated_at ? { updated_at: r.updated_at } : {}),\n  };\n}\n\n/** ADMIN row normalize */\nexport function normalizeAdminSiteSettingRow(r: SiteSettingRow): SiteSettingRow {\n  return {\n    ...r,\n    value: normalizeSettingValue(r.value, r.value_type ?? null),\n  };\n}\n\n/** PUBLIC list params builder */\nexport function buildPublicSiteSettingsListParams(\n  arg?: PublicSiteSettingsListArg,\n): Record<string, string | number> | undefined {\n  if (!arg) return undefined;\n  const params: Record<string, string | number> = {};\n\n  if (arg.prefix) params.prefix = arg.prefix;\n  if (arg.keys?.length) params.keys = arg.keys.join(',');\n  if (arg.order) params.order = arg.order;\n  if (typeof arg.limit === 'number') params.limit = arg.limit;\n  if (typeof arg.offset === 'number') params.offset = arg.offset;\n\n  return Object.keys(params).length ? params : undefined;\n}\n\n/** ADMIN list params builder (order => \"col.dir\") */\nexport function buildAdminSiteSettingsListParams(\n  p?: AdminSiteSettingsListParams,\n): Record<string, string | number> | undefined {\n  if (!p) return undefined;\n  const q: Record<string, string | number> = {};\n\n  if (p.q) q.q = p.q;\n  if (p.group) q.group = p.group;\n  if (p.keys?.length) q.keys = p.keys.join(',');\n  if (p.prefix) q.prefix = p.prefix;\n\n  const col = p.sort ?? 'key';\n  const dir = p.order ?? 'asc';\n  q.order = `${col}.${dir}`;\n\n  if (typeof p.limit === 'number') q.limit = p.limit;\n  if (typeof p.offset === 'number') q.offset = p.offset;\n\n  return q;\n}\n\n/** get-by-key arg resolver (string | object) */\nexport function resolveSiteSettingKeyArg(arg: PublicSiteSettingGetArg): {\n  key: string;\n  locale?: string;\n  default_locale?: string;\n} {\n  if (typeof arg === 'string') return { key: arg };\n\n  return {\n    key: arg.key,\n    ...(arg.locale ? { locale: arg.locale } : {}),\n    ...(arg.default_locale ? { default_locale: arg.default_locale } : {}),\n  };\n}\n\n/** key guard */\nexport function normalizeSiteSettingKey(key: unknown): string {\n  return String(key ?? '').trim();\n}\n\nexport type AppLocaleMeta = {\n  code?: unknown;\n  label?: unknown;\n  is_default?: unknown;\n  is_active?: unknown;\n};\n\n// Legacy alias used in older admin pages\nexport type AppLocaleItem = AppLocaleMeta;\n\n// =============================================================\n// UI SERVICES (site_settings.ui_services)\n// =============================================================\n\nexport type UiServicesCopy = {\n  page: {\n    badge: string;\n    title_html: string;\n    intro_html: string;\n    tagline_fallback: string;\n    card_fallback_title: string;\n    loading: string;\n    error: string;\n    empty: string;\n    highlight_label: string;\n    details_label: string;\n  };\n  section1: {\n    heading: string;\n    intro_html: string;\n    error: string;\n    cta_label: string;\n    empty: string;\n    loading_title: string;\n    loading_text: string;\n    card_fallback_title: string;\n  };\n  section2: {\n    badge: string;\n    title_html: string;\n    error: string;\n    learn_more: string;\n    empty: string;\n    loading_title: string;\n    loading_text: string;\n    card_fallback_title: string;\n    footer_text_html: string;\n    footer_link_label: string;\n  };\n  detail: {\n    back_label: string;\n    loading: string;\n    error: string;\n    highlight_label: string;\n    details_label: string;\n    description_label: string;\n    gallery_label: string;\n    gallery_loading: string;\n    gallery_empty: string;\n    not_found: string;\n    title_fallback: string;\n    tagline_fallback: string;\n  };\n};\n\nfunction pickFromRoot(root: Record<string, unknown>, key: string): string {\n  return uiText((root as any)?.[key]);\n}\n\nexport function normalizeUiServicesSettingValue(value: unknown): UiServicesCopy {\n  const root = parseJsonObject(value);\n\n  const page = parseJsonObject((root as any).page);\n  const section1 = parseJsonObject((root as any).section1);\n  const section2 = parseJsonObject((root as any).section2);\n  const detail = parseJsonObject((root as any).detail);\n\n  const pick = (obj: Record<string, unknown>, key: string, fallback: string, rootKey?: string) =>\n    uiText(obj?.[key]) || pickFromRoot(root, rootKey || key) || fallback;\n\n  return {\n    page: {\n      badge: pick(page, 'badge', 'My Services', 'page_badge'),\n      title_html: pick(\n        page,\n        'title_html',\n        'Transforming Ideas <span class=\"text-300\">into Intuitive Designs for</span> Engaging User <span class=\"text-300\">Experiences</span>',\n        'page_title_html',\n      ),\n      intro_html: pick(\n        page,\n        'intro_html',\n        'With expertise in mobile app and web design, I transform ideas into visually <br /> stunning and user-friendly interfaces that captivate and retain users. <br /> Explore my work and see design in action.',\n        'page_intro_html',\n      ),\n      tagline_fallback: pick(\n        page,\n        'tagline_fallback',\n        'Creative. Unique. Reality.',\n        'page_tagline_fallback',\n      ),\n      card_fallback_title: pick(\n        page,\n        'card_fallback_title',\n        'Untitled',\n        'page_card_fallback_title',\n      ),\n      loading: pick(page, 'loading', 'Loading...', 'page_loading'),\n      error: pick(page, 'error', 'Failed to load services.', 'page_error'),\n      empty: pick(page, 'empty', 'No services found.', 'page_empty'),\n      highlight_label: pick(page, 'highlight_label', 'Highlight', 'page_highlight_label'),\n      details_label: pick(page, 'details_label', 'Details', 'page_details_label'),\n    },\n    section1: {\n      heading: pick(section1, 'heading', 'What do I offer?', 'section1_heading'),\n      intro_html: pick(\n        section1,\n        'intro_html',\n        'My journey started with a fascination for design and technology,<br />leading me to specialize in UI/UX design',\n        'section1_intro_html',\n      ),\n      error: pick(section1, 'error', 'Failed to load services.', 'section1_error'),\n      cta_label: pick(section1, 'cta_label', 'Get a Quote', 'section1_cta_label'),\n      empty: pick(section1, 'empty', 'No services found.', 'section1_empty'),\n      loading_title: pick(section1, 'loading_title', 'Loading...', 'section1_loading_title'),\n      loading_text: pick(section1, 'loading_text', 'Please wait', 'section1_loading_text'),\n      card_fallback_title: pick(\n        section1,\n        'card_fallback_title',\n        'Untitled',\n        'section1_card_fallback_title',\n      ),\n    },\n    section2: {\n      badge: pick(section2, 'badge', 'Cooperation', 'section2_badge'),\n      title_html: pick(\n        section2,\n        'title_html',\n        'Designing solutions <span class=\"text-300\">customized<br />to meet your requirements</span>',\n        'section2_title_html',\n      ),\n      error: pick(section2, 'error', 'Failed to load services.', 'section2_error'),\n      learn_more: pick(section2, 'learn_more', 'Learn more', 'section2_learn_more'),\n      empty: pick(section2, 'empty', 'No services found.', 'section2_empty'),\n      loading_title: pick(section2, 'loading_title', 'Loading...', 'section2_loading_title'),\n      loading_text: pick(section2, 'loading_text', 'Please wait', 'section2_loading_text'),\n      card_fallback_title: pick(\n        section2,\n        'card_fallback_title',\n        'Untitled',\n        'section2_card_fallback_title',\n      ),\n      footer_text_html: pick(\n        section2,\n        'footer_text_html',\n        'Excited to take on <span class=\"text-dark\">new projects</span> and collaborate.<br />Let\\'s chat about your ideas.',\n        'section2_footer_text_html',\n      ),\n      footer_link_label: pick(\n        section2,\n        'footer_link_label',\n        'Reach out!',\n        'section2_footer_link_label',\n      ),\n    },\n    detail: {\n      back_label: pick(detail, 'back_label', 'Back to Services', 'detail_back_label'),\n      loading: pick(detail, 'loading', 'Loading...', 'detail_loading'),\n      error: pick(detail, 'error', 'Failed to load service.', 'detail_error'),\n      highlight_label: pick(detail, 'highlight_label', 'Highlight', 'detail_highlight_label'),\n      details_label: pick(detail, 'details_label', 'Details', 'detail_details_label'),\n      description_label: pick(\n        detail,\n        'description_label',\n        'Description',\n        'detail_description_label',\n      ),\n      gallery_label: pick(detail, 'gallery_label', 'Gallery', 'detail_gallery_label'),\n      gallery_loading: pick(detail, 'gallery_loading', 'Loading...', 'detail_gallery_loading'),\n      gallery_empty: pick(detail, 'gallery_empty', 'No gallery images.', 'detail_gallery_empty'),\n      not_found: pick(detail, 'not_found', 'Service not found.', 'detail_not_found'),\n      title_fallback: pick(detail, 'title_fallback', 'Service', 'detail_title_fallback'),\n      tagline_fallback: pick(\n        detail,\n        'tagline_fallback',\n        'Creative. Unique. Reality.',\n        'detail_tagline_fallback',\n      ),\n    },\n  };\n}\n\n// =============================================================\n// UI PROJECTS (site_settings.ui_project)\n// =============================================================\n\nexport type UiProjectCopy = {\n  projects1: {\n    heading: string;\n    intro_html: string;\n    cta_label: string;\n    cta_short_label: string;\n  };\n  projects2: {\n    badge: string;\n    heading: string;\n    slide_title_html: string;\n    slide_description: string;\n    info_label: string;\n    client_label: string;\n    completion_label: string;\n    technologies_label: string;\n    live_demo_label: string;\n    github_label: string;\n    sample_client: string;\n    sample_completion: string;\n    sample_technologies: string;\n  };\n  work: {\n    badge: string;\n    title_html: string;\n    intro_html: string;\n    loading_title: string;\n    label_client: string;\n    label_completion_time: string;\n    label_tools: string;\n    updating: string;\n    empty_title: string;\n    empty_text: string;\n  };\n  detail: {\n    loading: string;\n    not_found: string;\n    slug_prefix: string;\n    slug_missing: string;\n    badge: string;\n    label_client: string;\n    label_start: string;\n    label_complete: string;\n    label_services: string;\n    label_website: string;\n    description_label: string;\n    tools_label: string;\n    key_features_label: string;\n    technologies_used_label: string;\n    design_highlights_label: string;\n    details_label: string;\n    gallery_label: string;\n  };\n};\n\nexport function normalizeUiProjectSettingValue(value: unknown): UiProjectCopy {\n  const root = parseJsonObject(value);\n\n  const projects1 = parseJsonObject((root as any).projects1);\n  const projects2 = parseJsonObject((root as any).projects2);\n  const work = parseJsonObject((root as any).work);\n  const detail = parseJsonObject((root as any).detail);\n\n  const pick = (obj: Record<string, unknown>, key: string, fallback: string, rootKey?: string) =>\n    uiText(obj?.[key]) || pickFromRoot(root, rootKey || key) || fallback;\n\n  return {\n    projects1: {\n      heading: pick(projects1, 'heading', 'My Latest Works', 'projects1_heading'),\n      intro_html: pick(\n        projects1,\n        'intro_html',\n        'I believe that working hard and trying to learn every day will<br />make me improve in satisfying my customers.',\n        'projects1_intro_html',\n      ),\n      cta_label: pick(projects1, 'cta_label', 'View All Projects', 'projects1_cta_label'),\n      cta_short_label: pick(projects1, 'cta_short_label', 'View All', 'projects1_cta_short_label'),\n    },\n    projects2: {\n      badge: pick(projects2, 'badge', 'Projects', 'projects2_badge'),\n      heading: pick(projects2, 'heading', 'My Recent Works', 'projects2_heading'),\n      slide_title_html: pick(\n        projects2,\n        'slide_title_html',\n        'Integrate AI into the <br /> ecommerce system',\n        'projects2_slide_title_html',\n      ),\n      slide_description: pick(\n        projects2,\n        'slide_description',\n        'Developed an online learning platform with course management, quizzes, and progress tracking.',\n        'projects2_slide_description',\n      ),\n      info_label: pick(projects2, 'info_label', 'Project Info', 'projects2_info_label'),\n      client_label: pick(projects2, 'client_label', 'Client', 'projects2_client_label'),\n      completion_label: pick(\n        projects2,\n        'completion_label',\n        'Completion Time',\n        'projects2_completion_label',\n      ),\n      technologies_label: pick(\n        projects2,\n        'technologies_label',\n        'Technologies',\n        'projects2_technologies_label',\n      ),\n      live_demo_label: pick(projects2, 'live_demo_label', 'Live Demo', 'projects2_live_demo_label'),\n      github_label: pick(projects2, 'github_label', 'View on Github', 'projects2_github_label'),\n      sample_client: pick(projects2, 'sample_client', 'Conceptual JSC', 'projects2_sample_client'),\n      sample_completion: pick(\n        projects2,\n        'sample_completion',\n        '6 months',\n        'projects2_sample_completion',\n      ),\n      sample_technologies: pick(\n        projects2,\n        'sample_technologies',\n        'Node.js, React, MongoDB, Stripe',\n        'projects2_sample_technologies',\n      ),\n    },\n    work: {\n      badge: pick(work, 'badge', 'Recent Work', 'work_badge'),\n      title_html: pick(\n        work,\n        'title_html',\n        'Explore <span class=\"text-300\">My Latest Work and Discover the</span> Craftsmanship Behind <span class=\"text-300\">Each Design</span>',\n        'work_title_html',\n      ),\n      intro_html: pick(\n        work,\n        'intro_html',\n        'Explore my latest work and discover the craftsmanship behind each design: <br />a detailed look into how I bring innovation and creativity to life',\n        'work_intro_html',\n      ),\n      loading_title: pick(work, 'loading_title', 'Loading...', 'work_loading_title'),\n      label_client: pick(work, 'label_client', 'Client', 'work_label_client'),\n      label_completion_time: pick(\n        work,\n        'label_completion_time',\n        'Completion Time',\n        'work_label_completion_time',\n      ),\n      label_tools: pick(work, 'label_tools', 'Tools', 'work_label_tools'),\n      updating: pick(work, 'updating', 'Updating...', 'work_updating'),\n      empty_title: pick(work, 'empty_title', 'No projects found', 'work_empty_title'),\n      empty_text: pick(\n        work,\n        'empty_text',\n        'Please add projects from admin panel.',\n        'work_empty_text',\n      ),\n    },\n    detail: {\n      loading: pick(detail, 'loading', 'Loading...', 'detail_loading'),\n      not_found: pick(detail, 'not_found', 'Not found', 'detail_not_found'),\n      slug_prefix: pick(detail, 'slug_prefix', 'slug:', 'detail_slug_prefix'),\n      slug_missing: pick(detail, 'slug_missing', 'slug missing', 'detail_slug_missing'),\n      badge: pick(detail, 'badge', 'work details', 'detail_badge'),\n      label_client: pick(detail, 'label_client', 'Client', 'detail_label_client'),\n      label_start: pick(detail, 'label_start', 'Start', 'detail_label_start'),\n      label_complete: pick(detail, 'label_complete', 'Complete', 'detail_label_complete'),\n      label_services: pick(detail, 'label_services', 'Services', 'detail_label_services'),\n      label_website: pick(detail, 'label_website', 'Website', 'detail_label_website'),\n      description_label: pick(\n        detail,\n        'description_label',\n        'Description',\n        'detail_description_label',\n      ),\n      tools_label: pick(detail, 'tools_label', 'Tools', 'detail_tools_label'),\n      key_features_label: pick(\n        detail,\n        'key_features_label',\n        'Key Features',\n        'detail_key_features_label',\n      ),\n      technologies_used_label: pick(\n        detail,\n        'technologies_used_label',\n        'Technologies Used',\n        'detail_technologies_used_label',\n      ),\n      design_highlights_label: pick(\n        detail,\n        'design_highlights_label',\n        'Design Highlights',\n        'detail_design_highlights_label',\n      ),\n      details_label: pick(detail, 'details_label', 'Details', 'detail_details_label'),\n      gallery_label: pick(detail, 'gallery_label', 'Gallery', 'detail_gallery_label'),\n    },\n  };\n}\n\n// =============================================================\n// UI BLOG (site_settings.ui_blog)\n// =============================================================\n\nexport type UiBlogCopy = {\n  blog1: {\n    heading: string;\n    intro: string;\n    cta_label: string;\n    loading: string;\n    error: string;\n    empty: string;\n    read_time: string;\n    category_fallback: string;\n  };\n  blog2: {\n    badge: string;\n    heading: string;\n    card1_category: string;\n    card1_title: string;\n    card1_description: string;\n    card2_category: string;\n    card2_title: string;\n    card2_description: string;\n    card3_category: string;\n    card3_title: string;\n    card3_description: string;\n    sample_date: string;\n    read_time: string;\n  };\n  list: {\n    badge: string;\n    title_html: string;\n    intro_html: string;\n    loading: string;\n    error: string;\n    read_time: string;\n    default_category: string;\n    empty: string;\n  };\n  post: {\n    loading: string;\n    error: string;\n    empty: string;\n  };\n  detail: {\n    loading_title: string;\n    loading_text: string;\n    not_found_title: string;\n    not_found_text_prefix: string;\n    error_title: string;\n    error_text: string;\n    read_time_label: string;\n    by_label: string;\n    share_label: string;\n    related_title: string;\n    view_more_label: string;\n    related_empty: string;\n    category_fallback: string;\n    read_time: string;\n  };\n};\n\nexport function normalizeUiBlogSettingValue(value: unknown): UiBlogCopy {\n  const root = parseJsonObject(value);\n\n  const blog1 = parseJsonObject((root as any).blog1);\n  const blog2 = parseJsonObject((root as any).blog2);\n  const list = parseJsonObject((root as any).list);\n  const post = parseJsonObject((root as any).post);\n  const detail = parseJsonObject((root as any).detail);\n\n  const pick = (obj: Record<string, unknown>, key: string, fallback: string, rootKey?: string) =>\n    uiText(obj?.[key]) || pickFromRoot(root, rootKey || key) || fallback;\n\n  return {\n    blog1: {\n      heading: pick(blog1, 'heading', 'Recent blog', 'blog1_heading'),\n      intro: pick(\n        blog1,\n        'intro',\n        'Explore the insights and trends shaping our industry',\n        'blog1_intro',\n      ),\n      cta_label: pick(blog1, 'cta_label', 'View more', 'blog1_cta_label'),\n      loading: pick(blog1, 'loading', 'Loading...', 'blog1_loading'),\n      error: pick(blog1, 'error', 'Something went wrong.', 'blog1_error'),\n      empty: pick(blog1, 'empty', 'No posts found.', 'blog1_empty'),\n      read_time: pick(blog1, 'read_time', '3 min read', 'blog1_read_time'),\n      category_fallback: pick(blog1, 'category_fallback', 'Blog', 'blog1_category_fallback'),\n    },\n    blog2: {\n      badge: pick(blog2, 'badge', 'Latest Posts', 'blog2_badge'),\n      heading: pick(blog2, 'heading', 'From Blog', 'blog2_heading'),\n      card1_category: pick(blog2, 'card1_category', 'CEO', 'blog2_card1_category'),\n      card1_title: pick(\n        blog2,\n        'card1_title',\n        'Optimize Your Web Application for Speed',\n        'blog2_card1_title',\n      ),\n      card1_description: pick(\n        blog2,\n        'card1_description',\n        'Stay ahead of the curve with these emerging trends in UI/UX design.',\n        'blog2_card1_description',\n      ),\n      card2_category: pick(blog2, 'card2_category', 'Development', 'blog2_card2_category'),\n      card2_title: pick(\n        blog2,\n        'card2_title',\n        'Best Practices for Secure Web Development',\n        'blog2_card2_title',\n      ),\n      card2_description: pick(\n        blog2,\n        'card2_description',\n        'Stay ahead of the curve with these emerging trends in UI/UX design.',\n        'blog2_card2_description',\n      ),\n      card3_category: pick(blog2, 'card3_category', 'Trending', 'blog2_card3_category'),\n      card3_title: pick(\n        blog2,\n        'card3_title',\n        '10 JavaScript Frameworks for Web Development in 2026',\n        'blog2_card3_title',\n      ),\n      card3_description: pick(\n        blog2,\n        'card3_description',\n        'Stay ahead of the curve with these emerging trends in UI/UX design.',\n        'blog2_card3_description',\n      ),\n      sample_date: pick(blog2, 'sample_date', 'March 28, 2026', 'blog2_sample_date'),\n      read_time: pick(blog2, 'read_time', '3 min read', 'blog2_read_time'),\n    },\n    list: {\n      badge: pick(list, 'badge', 'Recent blog', 'list_badge'),\n      title_html: pick(\n        list,\n        'title_html',\n        'Explore the <span class=\"text-dark\">insights and trends shaping</span> our industry',\n        'list_title_html',\n      ),\n      intro_html: pick(\n        list,\n        'intro_html',\n        'Discover key insights and emerging trends shaping the future of design: a detailed <br /> examination of how these innovations are reshaping our industry',\n        'list_intro_html',\n      ),\n      loading: pick(list, 'loading', 'Loading...', 'list_loading'),\n      error: pick(list, 'error', 'Failed to load posts.', 'list_error'),\n      read_time: pick(list, 'read_time', '3 min read', 'list_read_time'),\n      default_category: pick(list, 'default_category', 'Blog', 'list_default_category'),\n      empty: pick(list, 'empty', 'No posts found.', 'list_empty'),\n    },\n    post: {\n      loading: pick(post, 'loading', 'Loading...', 'post_loading'),\n      error: pick(post, 'error', 'Something went wrong', 'post_error'),\n      empty: pick(post, 'empty', 'No Posts Found', 'post_empty'),\n    },\n    detail: {\n      loading_title: pick(detail, 'loading_title', 'Loading...', 'detail_loading_title'),\n      loading_text: pick(detail, 'loading_text', 'Please wait', 'detail_loading_text'),\n      not_found_title: pick(detail, 'not_found_title', 'Post not found', 'detail_not_found_title'),\n      not_found_text_prefix: pick(\n        detail,\n        'not_found_text_prefix',\n        'Invalid slug:',\n        'detail_not_found_text_prefix',\n      ),\n      error_title: pick(detail, 'error_title', 'Something went wrong', 'detail_error_title'),\n      error_text: pick(detail, 'error_text', 'Please try again.', 'detail_error_text'),\n      read_time_label: pick(detail, 'read_time_label', '16 mins to read', 'detail_read_time_label'),\n      by_label: pick(detail, 'by_label', 'By', 'detail_by_label'),\n      share_label: pick(detail, 'share_label', 'Share', 'detail_share_label'),\n      related_title: pick(detail, 'related_title', 'Related posts', 'detail_related_title'),\n      view_more_label: pick(detail, 'view_more_label', 'View more', 'detail_view_more_label'),\n      related_empty: pick(detail, 'related_empty', 'No related posts.', 'detail_related_empty'),\n      category_fallback: pick(detail, 'category_fallback', 'Blog', 'detail_category_fallback'),\n      read_time: pick(detail, 'read_time', '3 min read', 'detail_read_time'),\n    },\n  };\n}\n\n// =============================================================\n// UI RESUME (site_settings.ui_resume)\n// =============================================================\n\nexport type UiResumeResearchItem = {\n  year: string;\n  title: string;\n  description: string;\n};\n\nexport type UiResumeCopy = {\n  resume1: {\n    heading: string;\n    intro_html: string;\n    cta_label: string;\n    education_label: string;\n    experience_label: string;\n    loading: string;\n    error: string;\n    empty_education: string;\n    empty_experience: string;\n    marquee_text: string;\n  };\n  education2: {\n    heading: string;\n    loading_label: string;\n    loading_text: string;\n    error_label: string;\n    error_text: string;\n    empty_label: string;\n    empty_text: string;\n    research_heading: string;\n    research_items: UiResumeResearchItem[];\n  };\n  experience2: {\n    heading: string;\n    loading_label: string;\n    loading_text: string;\n    error_label: string;\n    error_text: string;\n    empty_label: string;\n    empty_text: string;\n    research_heading: string;\n    research_items: UiResumeResearchItem[];\n  };\n};\n\nconst RESUME_RESEARCH_FALLBACK: UiResumeResearchItem[] = [\n  {\n    year: '2023-2024:',\n    title: 'Advanced Data Analytics with Big Data Tools',\n    description: 'Utilized big data tools for advanced analytics and insights.',\n  },\n  {\n    year: '2021-2013:',\n    title: 'Cloud-Native Application Architectures',\n    description: 'Studied best practices for designing cloud-native applications.',\n  },\n  {\n    year: '2019-2020:',\n    title: 'AI-Driven User Experience Personalization',\n    description: 'Leveraged AI to personalize user experiences based on behavior.',\n  },\n];\n\nfunction normalizeResearchItems(\n  raw: unknown,\n  fallback: UiResumeResearchItem[],\n): UiResumeResearchItem[] {\n  if (Array.isArray(raw)) {\n    const items = raw\n      .map((item) => {\n        const o = parseJsonObject(item);\n        const year = uiText(o.year) || '';\n        const title = uiText(o.title) || '';\n        const description = uiText(o.description) || '';\n        return { year, title, description };\n      })\n      .filter((item) => item.year || item.title || item.description);\n    if (items.length > 0) return items;\n  }\n\n  return fallback;\n}\n\nexport function normalizeUiResumeSettingValue(value: unknown): UiResumeCopy {\n  const root = parseJsonObject(value);\n\n  const resume1 = parseJsonObject((root as any).resume1);\n  const education2 = parseJsonObject((root as any).education2);\n  const experience2 = parseJsonObject((root as any).experience2);\n\n  const pick = (obj: Record<string, unknown>, key: string, fallback: string, rootKey?: string) =>\n    uiText(obj?.[key]) || pickFromRoot(root, rootKey || key) || fallback;\n\n  const educationResearch = normalizeResearchItems(\n    (education2 as any)?.research_items,\n    RESUME_RESEARCH_FALLBACK,\n  );\n\n  const experienceResearch = normalizeResearchItems(\n    (experience2 as any)?.research_items,\n    RESUME_RESEARCH_FALLBACK,\n  );\n\n  return {\n    resume1: {\n      heading: pick(resume1, 'heading', 'My Resume', 'resume1_heading'),\n      intro_html: pick(\n        resume1,\n        'intro_html',\n        'I believe that working hard and trying to learn every day will<br />make me improve in satisfying my customers.',\n        'resume1_intro_html',\n      ),\n      cta_label: pick(resume1, 'cta_label', 'Get in touch', 'resume1_cta_label'),\n      education_label: pick(resume1, 'education_label', 'Education', 'resume1_education_label'),\n      experience_label: pick(resume1, 'experience_label', 'Experience', 'resume1_experience_label'),\n      loading: pick(resume1, 'loading', 'Loading...', 'resume1_loading'),\n      error: pick(resume1, 'error', 'Failed to load resume data.', 'resume1_error'),\n      empty_education: pick(\n        resume1,\n        'empty_education',\n        'No education entries found.',\n        'resume1_empty_education',\n      ),\n      empty_experience: pick(\n        resume1,\n        'empty_experience',\n        'No experience entries found.',\n        'resume1_empty_experience',\n      ),\n      marquee_text: pick(\n        resume1,\n        'marquee_text',\n        'Branding . Marketing . User Interface',\n        'resume1_marquee_text',\n      ),\n    },\n    education2: {\n      heading: pick(education2, 'heading', 'Education', 'education2_heading'),\n      loading_label: pick(education2, 'loading_label', 'Loading...', 'education2_loading_label'),\n      loading_text: pick(education2, 'loading_text', 'Please wait', 'education2_loading_text'),\n      error_label: pick(education2, 'error_label', 'Failed', 'education2_error_label'),\n      error_text: pick(\n        education2,\n        'error_text',\n        'Education data could not be loaded.',\n        'education2_error_text',\n      ),\n      empty_label: pick(education2, 'empty_label', 'No entries', 'education2_empty_label'),\n      empty_text: pick(\n        education2,\n        'empty_text',\n        'No education entries found.',\n        'education2_empty_text',\n      ),\n      research_heading: pick(\n        education2,\n        'research_heading',\n        'Researched',\n        'education2_research_heading',\n      ),\n      research_items: educationResearch,\n    },\n    experience2: {\n      heading: pick(experience2, 'heading', 'Education', 'experience2_heading'),\n      loading_label: pick(experience2, 'loading_label', 'Loading...', 'experience2_loading_label'),\n      loading_text: pick(experience2, 'loading_text', 'Please wait', 'experience2_loading_text'),\n      error_label: pick(experience2, 'error_label', 'Failed', 'experience2_error_label'),\n      error_text: pick(\n        experience2,\n        'error_text',\n        'Education data could not be loaded.',\n        'experience2_error_text',\n      ),\n      empty_label: pick(experience2, 'empty_label', 'No entries', 'experience2_empty_label'),\n      empty_text: pick(\n        experience2,\n        'empty_text',\n        'No education entries found.',\n        'experience2_empty_text',\n      ),\n      research_heading: pick(\n        experience2,\n        'research_heading',\n        'Researched',\n        'experience2_research_heading',\n      ),\n      research_items: experienceResearch,\n    },\n  };\n}\n\n// =============================================================\n// UI HOME (site_settings.ui_home)\n// =============================================================\n\nexport type UiHomeCopy = {\n  home1: {\n    greeting: string;\n    title_html: string;\n    description: string;\n    cta_primary: string;\n    cta_secondary: string;\n    experience_label: string;\n    hero_image: string;\n    hero_image_alt: string;\n    decor_image: string;\n    decor_image_alt: string;\n  };\n  home2: {\n    greeting: string;\n    title_html: string;\n    description_html: string;\n    more_label: string;\n    cv_label: string;\n    hero_image: string;\n    hero_image_alt: string;\n    icon_image: string;\n    icon_image_alt: string;\n  };\n};\n\nexport function normalizeUiHomeSettingValue(value: unknown): UiHomeCopy {\n  const root = parseJsonObject(value);\n\n  const home1 = parseJsonObject((root as any).home1);\n  const home2 = parseJsonObject((root as any).home2);\n\n  const pick = (obj: Record<string, unknown>, key: string, fallback: string, rootKey?: string) =>\n    uiText(obj?.[key]) || pickFromRoot(root, rootKey || key) || fallback;\n\n  return {\n    home1: {\n      greeting: pick(home1, 'greeting', \"👋 Hi there, I'm Orhan Guzel\", 'home1_greeting'),\n      title_html: pick(\n        home1,\n        'title_html',\n        'Building <span class=\"text-primary-1\">GWD</span> digital experiences',\n        'home1_title_html',\n      ),\n      description: pick(\n        home1,\n        'description',\n        'Founder of GWD (guezelwebdesign.com). I help individuals and brands create user-focused digital products and interactive experiences.',\n        'home1_description',\n      ),\n      cta_primary: pick(home1, 'cta_primary', 'Download CV', 'home1_cta_primary'),\n      cta_secondary: pick(home1, 'cta_secondary', 'Hire me', 'home1_cta_secondary'),\n      experience_label: pick(\n        home1,\n        'experience_label',\n        '+ 12 years with professional design software',\n        'home1_experience_label',\n      ),\n      hero_image: pick(home1, 'hero_image', '/assets/imgs/hero/hero-1/man.png', 'home1_hero_image'),\n      hero_image_alt: pick(home1, 'hero_image_alt', 'Orhan Guzel', 'home1_hero_image_alt'),\n      decor_image: pick(\n        home1,\n        'decor_image',\n        '/assets/imgs/hero/hero-1/decorate.png',\n        'home1_decor_image',\n      ),\n      decor_image_alt: pick(home1, 'decor_image_alt', 'Decor', 'home1_decor_image_alt'),\n    },\n    home2: {\n      greeting: pick(home2, 'greeting', \"Hey, I'm Orhan Guzel\", 'home2_greeting'),\n      title_html: pick(\n        home2,\n        'title_html',\n        'Founder of <span class=\"text-linear-4\">GWD</span> Web &amp; App Studio<span class=\"flicker\">_</span>',\n        'home2_title_html',\n      ),\n      description_html: pick(\n        home2,\n        'description_html',\n        '&lt;p&gt;<span class=\"text-dark\">At</span> <span class=\"text-secondary-2\">guezelwebdesign.com</span><span class=\"text-dark\">, I build fast, reliable web and app experiences with</span> <span class=\"text-secondary-2\">NodeJS</span>, <span class=\"text-secondary-2\">React</span>, <span class=\"text-secondary-2\">Angular</span>, and <span class=\"text-secondary-2\">Laravel</span><span class=\"text-dark\">.</span>&lt;/p&gt;',\n        'home2_description_html',\n      ),\n      more_label: pick(home2, 'more_label', '...and more', 'home2_more_label'),\n      cv_label: pick(home2, 'cv_label', '[ Download my CV ]', 'home2_cv_label'),\n      hero_image: pick(\n        home2,\n        'hero_image',\n        'assets/imgs/home-page-2/hero-1/people.png',\n        'home2_hero_image',\n      ),\n      hero_image_alt: pick(home2, 'hero_image_alt', 'Orhan Guzel', 'home2_hero_image_alt'),\n      icon_image: pick(\n        home2,\n        'icon_image',\n        'assets/imgs/home-page-2/hero-1/icon.svg',\n        'home2_icon_image',\n      ),\n      icon_image_alt: pick(home2, 'icon_image_alt', 'Decor', 'home2_icon_image_alt'),\n    },\n  };\n}\n\n// =============================================================\n// UI HOME 3 (site_settings.ui_home3)\n// =============================================================\n\nexport type UiHome3Copy = {\n  hero: {\n    badge: string;\n    title_html: string;\n    description: string;\n    cv_label: string;\n    cv_href: string;\n    hire_label: string;\n    hire_href: string;\n    hero_image: string;\n    hero_image_alt: string;\n    signature_image: string;\n    signature_image_alt: string;\n  };\n  typical: {\n    heading: string;\n    empty: string;\n  };\n  services: {\n    heading: string;\n    empty: string;\n  };\n  resume: {\n    education_heading: string;\n    awards_heading: string;\n    empty_education: string;\n    empty_awards: string;\n  };\n  blog: {\n    heading: string;\n    empty: string;\n    default_category: string;\n  };\n  testimonials: {\n    heading: string;\n    empty: string;\n  };\n  contact: {\n    heading: string;\n    form_title: string;\n    phone: string;\n    email: string;\n    skype: string;\n    address: string;\n    map_href: string;\n  };\n};\n\nexport function normalizeUiHome3SettingValue(value: unknown): UiHome3Copy {\n  const root = parseJsonObject(value);\n\n  const hero = parseJsonObject((root as any).hero);\n  const typical = parseJsonObject((root as any).typical);\n  const services = parseJsonObject((root as any).services);\n  const resume = parseJsonObject((root as any).resume);\n  const blog = parseJsonObject((root as any).blog);\n  const testimonials = parseJsonObject((root as any).testimonials);\n  const contact = parseJsonObject((root as any).contact);\n\n  const pick = (obj: Record<string, unknown>, key: string, fallback: string, rootKey?: string) =>\n    uiText(obj?.[key]) || pickFromRoot(root, rootKey || key) || fallback;\n\n  return {\n    hero: {\n      badge: pick(hero, 'badge', 'Designing Experiences, Building Brands', 'hero_badge'),\n      title_html: pick(\n        hero,\n        'title_html',\n        'Crafting Products <span class=\"text-dark\">with Purpose</span> — Orhan',\n        'hero_title_html',\n      ),\n      description: pick(\n        hero,\n        'description',\n        'Welcome to GWD. I design and build modern web experiences that are fast, elegant, and conversion-focused.',\n        'hero_description',\n      ),\n      cv_label: pick(hero, 'cv_label', 'Download CV', 'hero_cv_label'),\n      cv_href: pick(hero, 'cv_href', '/assets/resume.pdf', 'hero_cv_href'),\n      hire_label: pick(hero, 'hire_label', 'Hire me', 'hero_hire_label'),\n      hire_href: pick(hero, 'hire_href', '#contact', 'hero_hire_href'),\n      hero_image: pick(hero, 'hero_image', '/assets/imgs/home-page-3/hero/img-1.png', 'hero_image'),\n      hero_image_alt: pick(hero, 'hero_image_alt', 'Orhan Guzel', 'hero_image_alt'),\n      signature_image: pick(\n        hero,\n        'signature_image',\n        '/assets/imgs/home-page-3/hero/signature.png',\n        'signature_image',\n      ),\n      signature_image_alt: pick(hero, 'signature_image_alt', 'Signature', 'signature_image_alt'),\n    },\n    typical: {\n      heading: pick(typical, 'heading', 'Typical Works', 'typical_heading'),\n      empty: pick(typical, 'empty', 'No projects yet.', 'typical_empty'),\n    },\n    services: {\n      heading: pick(services, 'heading', 'My Services', 'services_heading'),\n      empty: pick(services, 'empty', 'No services yet.', 'services_empty'),\n    },\n    resume: {\n      education_heading: pick(resume, 'education_heading', 'Education', 'resume_education_heading'),\n      awards_heading: pick(resume, 'awards_heading', 'Awards', 'resume_awards_heading'),\n      empty_education: pick(\n        resume,\n        'empty_education',\n        'No education entries.',\n        'resume_empty_education',\n      ),\n      empty_awards: pick(resume, 'empty_awards', 'No awards yet.', 'resume_empty_awards'),\n    },\n    blog: {\n      heading: pick(blog, 'heading', 'From Blog', 'blog_heading'),\n      empty: pick(blog, 'empty', 'No posts yet.', 'blog_empty'),\n      default_category: pick(blog, 'default_category', 'Inspiration', 'blog_default_category'),\n    },\n    testimonials: {\n      heading: pick(testimonials, 'heading', 'Testimonials', 'testimonials_heading'),\n      empty: pick(testimonials, 'empty', 'No testimonials yet.', 'testimonials_empty'),\n    },\n    contact: {\n      heading: pick(contact, 'heading', 'Contact me', 'contact_heading'),\n      form_title: pick(contact, 'form_title', \"Let's connect\", 'contact_form_title'),\n      phone: pick(contact, 'phone', '+49 000 000 00 00', 'contact_phone'),\n      email: pick(contact, 'email', 'contact@guezelwebdesign.com', 'contact_email'),\n      skype: pick(contact, 'skype', 'GuezelWebDesign', 'contact_skype'),\n      address: pick(contact, 'address', 'Berlin, Germany', 'contact_address'),\n      map_href: pick(\n        contact,\n        'map_href',\n        'https://www.google.com/maps?q=Berlin',\n        'contact_map_href',\n      ),\n    },\n  };\n}\n\n// =============================================================\n// UI STATIC (site_settings.ui_static)\n// =============================================================\n\nexport type UiStaticItem = {\n  value: number;\n  prefix?: string;\n  suffix?: string;\n  label_top?: string;\n  label_bottom?: string;\n  label?: string;\n  icon?: string;\n};\n\nexport type UiStaticCopy = {\n  static1: {\n    items: UiStaticItem[];\n  };\n  static2: {\n    items: UiStaticItem[];\n    background_image: string;\n  };\n};\n\nconst STATIC1_FALLBACK: UiStaticItem[] = [\n  {\n    value: 12,\n    prefix: '+',\n    label_top: 'Year of',\n    label_bottom: 'Experience',\n  },\n  {\n    value: 250,\n    prefix: '+',\n    label_top: 'Projects',\n    label_bottom: 'Completed',\n  },\n  {\n    value: 680,\n    prefix: '+',\n    label_top: 'Satisfied',\n    label_bottom: 'Happy Clients',\n  },\n  {\n    value: 18,\n    prefix: '+',\n    label_top: 'Awards',\n    label_bottom: 'Won Received',\n  },\n];\n\nconst STATIC2_FALLBACK: UiStaticItem[] = [\n  {\n    value: 12,\n    suffix: '+',\n    label: 'Year Experience',\n    icon: 'ri-shape-line',\n  },\n  {\n    value: 250,\n    suffix: '+',\n    label: 'Projects Completed',\n    icon: 'ri-computer-line',\n  },\n  {\n    value: 680,\n    suffix: '+',\n    label: 'Satisfied Clients',\n    icon: 'ri-service-line',\n  },\n  {\n    value: 18,\n    suffix: '+',\n    label: 'Awards Winner',\n    icon: 'ri-award-line',\n  },\n];\n\nfunction normalizeStaticItems(raw: unknown, fallback: UiStaticItem[]): UiStaticItem[] {\n  if (Array.isArray(raw)) {\n    const items = raw\n      .map((item) => {\n        const o = parseJsonObject(item);\n        const rawValue = (o as any).value ?? (o as any).count ?? (o as any).number;\n        const value = toNum(rawValue);\n        const hasValue = rawValue !== undefined && rawValue !== null && rawValue !== '';\n        const prefix = uiText((o as any).prefix);\n        const suffix = uiText((o as any).suffix);\n        const label_top =\n          uiText((o as any).label_top) || uiText((o as any).labelTop) || uiText((o as any).top);\n        const label_bottom =\n          uiText((o as any).label_bottom) ||\n          uiText((o as any).labelBottom) ||\n          uiText((o as any).bottom);\n        const label = uiText((o as any).label);\n        const icon = uiText((o as any).icon);\n\n        if (!hasValue && !prefix && !suffix && !label_top && !label_bottom && !label && !icon) {\n          return null;\n        }\n\n        return {\n          value: Number.isFinite(value as any) ? Number(value) : 0,\n          ...(prefix ? { prefix } : {}),\n          ...(suffix ? { suffix } : {}),\n          ...(label_top ? { label_top } : {}),\n          ...(label_bottom ? { label_bottom } : {}),\n          ...(label ? { label } : {}),\n          ...(icon ? { icon } : {}),\n        } as UiStaticItem;\n      })\n      .filter(Boolean) as UiStaticItem[];\n\n    if (items.length > 0) return items;\n  }\n\n  return fallback;\n}\n\nexport function normalizeUiStaticSettingValue(value: unknown): UiStaticCopy {\n  const root = parseJsonObject(value);\n  const static1 = parseJsonObject((root as any).static1);\n  const static2 = parseJsonObject((root as any).static2);\n\n  const items1 = normalizeStaticItems(\n    (static1 as any).items ?? (root as any).static1_items,\n    STATIC1_FALLBACK,\n  );\n  const items2 = normalizeStaticItems(\n    (static2 as any).items ?? (root as any).static2_items,\n    STATIC2_FALLBACK,\n  );\n\n  const background_image =\n    uiText((static2 as any).background_image) ||\n    uiText((root as any).static2_background_image) ||\n    'assets/imgs/home-page-2/static/bg.png';\n\n  return {\n    static1: { items: items1 },\n    static2: { items: items2, background_image },\n  };\n}\n\n// =============================================================\n// UI COPORATION (site_settings.ui_coporation)\n// =============================================================\n\nexport type UiCoporationJournalItem = {\n  date: string;\n  title: string;\n};\n\nexport type UiCoporationCopy = {\n  badge: string;\n  heading_html: string;\n  contact: {\n    avatar: string;\n    avatar_alt: string;\n    skype_label: string;\n    skype_value: string;\n    skype_href: string;\n    phone_label: string;\n    phone_value: string;\n    phone_href: string;\n    email_label: string;\n    email_value: string;\n    email_href: string;\n  };\n  journal: {\n    badge: string;\n    items: UiCoporationJournalItem[];\n  };\n};\n\nconst COPORATION_JOURNAL_FALLBACK: UiCoporationJournalItem[] = [\n  { date: '15 Jul:', title: 'Muzzilla-streaming-API-services-for-Python' },\n  { date: '30 Jun:', title: 'ChatHub-Chat-application-VueJs-Mongodb' },\n  { date: '26 May:', title: 'DineEasy-coffee-tea-reservation-system' },\n  { date: '17 Apr:', title: 'FinanceBuddy-Personal-finance-tracker' },\n  { date: '05 Mar:', title: 'TuneStream-Music-streaming-service-API' },\n];\n\nfunction normalizeCoporationJournalItems(\n  raw: unknown,\n  fallback: UiCoporationJournalItem[],\n): UiCoporationJournalItem[] {\n  if (Array.isArray(raw)) {\n    const items = raw\n      .map((item) => {\n        const o = parseJsonObject(item);\n        const date = uiText((o as any).date);\n        const title = uiText((o as any).title);\n        if (!date && !title) return null;\n        return { date, title };\n      })\n      .filter(Boolean) as UiCoporationJournalItem[];\n\n    if (items.length > 0) return items;\n  }\n\n  return fallback;\n}\n\nexport function normalizeUiCoporationSettingValue(value: unknown): UiCoporationCopy {\n  const root = parseJsonObject(value);\n  const contact = parseJsonObject((root as any).contact);\n  const journal = parseJsonObject((root as any).journal);\n\n  const pick = (obj: Record<string, unknown>, key: string, fallback: string, rootKey?: string) =>\n    uiText(obj?.[key]) || uiText((root as any)?.[rootKey || key]) || fallback;\n\n  const badge = pick(root, 'badge', 'Cooperation');\n  const heading_html =\n    uiText((root as any).heading_html) ||\n    'More than +168 <span class=\"text-300\">companies <br /></span> trusted <span class=\"text-300\">worldwide_</span>';\n\n  const avatar = pick(contact, 'avatar', 'assets/imgs/coporation/avatar.png', 'contact_avatar');\n  const avatar_alt = pick(contact, 'avatar_alt', 'Orhan Guzel', 'contact_avatar_alt');\n\n  const skype_label = pick(contact, 'skype_label', '[skype]', 'contact_skype_label');\n  const skype_value = pick(contact, 'skype_value', 'GuezelWebDesign', 'contact_skype_value');\n  const skype_href = pick(contact, 'skype_href', '#', 'contact_skype_href');\n\n  const phone_label = pick(contact, 'phone_label', '[phone]', 'contact_phone_label');\n  const phone_value = pick(contact, 'phone_value', '+49 000 000 00 00', 'contact_phone_value');\n  const phone_href = pick(contact, 'phone_href', 'tel:+490000000000', 'contact_phone_href');\n\n  const email_label = pick(contact, 'email_label', '[email]', 'contact_email_label');\n  const email_value = pick(\n    contact,\n    'email_value',\n    'contact@guezelwebdesign.com',\n    'contact_email_value',\n  );\n  const email_href = pick(\n    contact,\n    'email_href',\n    'mailto:contact@guezelwebdesign.com',\n    'contact_email_href',\n  );\n\n  const journalBadge = pick(journal, 'badge', 'Git Journaling', 'journal_badge');\n  const journalItems = normalizeCoporationJournalItems(\n    (journal as any).items ?? (root as any).journal_items,\n    COPORATION_JOURNAL_FALLBACK,\n  );\n\n  return {\n    badge,\n    heading_html,\n    contact: {\n      avatar,\n      avatar_alt,\n      skype_label,\n      skype_value,\n      skype_href,\n      phone_label,\n      phone_value,\n      phone_href,\n      email_label,\n      email_value,\n      email_href,\n    },\n    journal: {\n      badge: journalBadge,\n      items: journalItems,\n    },\n  };\n}\n\n// =============================================================\n// UI BRANDS (site_settings.ui_brands)\n// =============================================================\n\nexport type UiBrandsCopy = {\n  heading: string;\n  intro_html: string;\n  track: 'right' | 'left' | 'all';\n  loading: string;\n  error: string;\n  empty: string;\n};\n\nfunction normalizeBrandsTrack(raw: unknown): 'right' | 'left' | 'all' {\n  const s = uiText(raw).toLowerCase();\n  if (s === 'left') return 'left';\n  if (s === 'all') return 'all';\n  return 'right';\n}\n\nexport function normalizeUiBrandsSettingValue(val: unknown): UiBrandsCopy {\n  const o = parseJsonObject(val);\n\n  const heading = uiText(o.heading) || 'Trusted by industry leaders';\n  const intro_html =\n    uiText(o.intro_html) ||\n    'I have collaborated with many large corporations, companies, and agencies around<br />the world in many fields of design and consulting';\n  const track = normalizeBrandsTrack(o.track);\n\n  const loading = uiText(o.loading) || 'Loading...';\n  const error = uiText(o.error) || 'Failed to load brands.';\n  const empty = uiText(o.empty) || 'No brands found.';\n\n  return {\n    heading,\n    intro_html,\n    track,\n    loading,\n    error,\n    empty,\n  };\n}\n\n// =============================================================\n// UI SKILLS (site_settings.ui_skills)\n// =============================================================\n\nexport type UiSkillsListItem = {\n  label: string;\n  value: string;\n};\n\nexport type UiSkillsCopy = {\n  skills1: {\n    heading: string;\n    intro_html: string;\n    loading: string;\n    error: string;\n    empty: string;\n    extra_intro: string;\n    extra_items: string[];\n  };\n  skills2: {\n    badge: string;\n    heading: string;\n    loading: string;\n    error: string;\n    list_items: UiSkillsListItem[];\n  };\n};\n\nconst SKILLS_LIST_FALLBACK: UiSkillsListItem[] = [\n  {\n    label: 'Front-End:',\n    value: 'HTML, CSS, JavaScript, React, Angular',\n  },\n  {\n    label: 'Back-End:',\n    value: 'Node.js, Express, Python, Django',\n  },\n  {\n    label: 'Databases:',\n    value: 'MySQL, PostgreSQL, MongoDB',\n  },\n  {\n    label: 'Tools & Platforms:',\n    value: 'Git, Docker, AWS, Heroku',\n  },\n  {\n    label: 'Others:',\n    value: 'RESTful APIs, GraphQL, Agile Methodologies',\n  },\n];\n\nfunction normalizeSkillsItems(raw: unknown, fallback: UiSkillsListItem[]): UiSkillsListItem[] {\n  if (Array.isArray(raw)) {\n    const items = raw\n      .map((item) => {\n        const o = parseJsonObject(item);\n        const label = uiText(o.label) || '';\n        const value = uiText(o.value) || '';\n        return { label, value };\n      })\n      .filter((item) => item.label || item.value);\n\n    if (items.length > 0) return items;\n  }\n\n  return fallback;\n}\n\nfunction normalizeSkillsExtraItems(raw: unknown, fallback: string[]): string[] {\n  if (Array.isArray(raw)) {\n    const items = raw.map((x) => uiText(x)).filter((x) => !!x) as string[];\n    if (items.length > 0) return items;\n  }\n\n  if (typeof raw === 'string' && raw.trim()) {\n    const items = raw\n      .split(',')\n      .map((x) => x.trim())\n      .filter(Boolean);\n    if (items.length > 0) return items;\n  }\n\n  return fallback;\n}\n\nexport function normalizeUiSkillsSettingValue(value: unknown): UiSkillsCopy {\n  const root = parseJsonObject(value);\n\n  const skills1 = parseJsonObject((root as any).skills1);\n  const skills2 = parseJsonObject((root as any).skills2);\n\n  const pick = (obj: Record<string, unknown>, key: string, fallback: string, rootKey?: string) =>\n    uiText(obj?.[key]) || pickFromRoot(root, rootKey || key) || fallback;\n\n  const extraItemsFallback = ['HTML', 'CSS', 'Javascript', 'Bootstrap', 'TailwindCSS'];\n\n  return {\n    skills1: {\n      heading: pick(skills1, 'heading', 'My Skills', 'skills1_heading'),\n      intro_html: pick(\n        skills1,\n        'intro_html',\n        'I thrive on turning complex problems into simple, beautiful<br />solutions that enhance user satisfaction.',\n        'skills1_intro_html',\n      ),\n      loading: pick(skills1, 'loading', 'Loading...', 'skills1_loading'),\n      error: pick(skills1, 'error', 'Failed to load skills.', 'skills1_error'),\n      empty: pick(skills1, 'empty', 'No skills found.', 'skills1_empty'),\n      extra_intro: pick(\n        skills1,\n        'extra_intro',\n        'In addition, I have some programming knowledge such as:',\n        'skills1_extra_intro',\n      ),\n      extra_items: normalizeSkillsExtraItems((skills1 as any)?.extra_items, extraItemsFallback),\n    },\n    skills2: {\n      badge: pick(skills2, 'badge', 'Skills', 'skills2_badge'),\n      heading: pick(skills2, 'heading', 'My Skills', 'skills2_heading'),\n      loading: pick(skills2, 'loading', 'Loading...', 'skills2_loading'),\n      error: pick(skills2, 'error', 'Failed to load.', 'skills2_error'),\n      list_items: normalizeSkillsItems((skills2 as any)?.list_items, SKILLS_LIST_FALLBACK),\n    },\n  };\n}\n\nfunction unwrapMaybeData(x: any): any {\n  if (x && typeof x === 'object' && 'data' in x) return (x as any).data;\n  return x;\n}\n\n/**\n * /site_settings/app-locales normalize\n * Tolerates API returning:\n * - AppLocaleMeta[]\n * - {data: AppLocaleMeta[]}\n * - SiteSetting-like: {key, value}\n * - {data: {key,value}} etc.\n */\nexport function normalizeAppLocalesPublic(res: unknown): AppLocaleMeta[] {\n  const v0 = unwrapMaybeData(res as any);\n\n  // direct array\n  if (Array.isArray(v0)) return v0 as AppLocaleMeta[];\n\n  // SiteSetting-like object => read value\n  if (v0 && typeof v0 === 'object') {\n    const maybeValue = unwrapMaybeData((v0 as any).value);\n    const parsed = tryParsePublicValue<any>(maybeValue);\n\n    if (Array.isArray(parsed)) return parsed as AppLocaleMeta[];\n\n    // sometimes API might return {locales:[...]}\n    if (parsed && typeof parsed === 'object' && Array.isArray((parsed as any).locales)) {\n      return (parsed as any).locales as AppLocaleMeta[];\n    }\n  }\n\n  return [];\n}\n\n/**\n * /site_settings/default-locale normalize\n * Tolerates API returning:\n * - \"de\"\n * - {data:\"de\"}\n * - SiteSetting-like: {key, value:\"de\"}\n */\nexport function normalizeDefaultLocalePublic(res: unknown): string {\n  const v0 = unwrapMaybeData(res as any);\n\n  if (typeof v0 === 'string') return v0.trim();\n\n  if (v0 && typeof v0 === 'object') {\n    const maybeValue = unwrapMaybeData((v0 as any).value);\n    const parsed = tryParsePublicValue<any>(maybeValue);\n\n    if (typeof parsed === 'string') return parsed.trim();\n  }\n\n  return '';\n}\n","// =============================================================\n// FILE: src/integrations/types/slider.types.ts\n// konigsmassage – Slider tipleri + normalizer'lar\n// Parent + i18n (slider + slider_i18n) backend ile uyumlu\n// =============================================================\n\n/* -------------------- Helper'lar -------------------- */\n\nconst asStr = (v: unknown): string => (typeof v === 'string' ? v : String(v ?? ''));\n\nconst asBool = (v: unknown): boolean => v === true || v === 1 || v === '1' || v === 'true';\n\nconst asNum = (v: unknown): number => {\n  if (typeof v === 'number' && Number.isFinite(v)) return v;\n  const n = Number(v);\n  return Number.isFinite(n) ? n : 0;\n};\n\n/* -------------------- API tipleri (RAW) -------------------- */\n\n/**\n * Admin controller'ın döndürdüğü şekil\n * toAdminView() ile oluşan obje (parent + i18n join edilmiş)\n */\nexport interface ApiSliderAdmin {\n  /** Parent slider.id */\n  id: number;\n  /** Parent slider.uuid */\n  uuid: string;\n\n  /** i18n.locale */\n  locale: string;\n  /** i18n.name */\n  name: string;\n  /** i18n.slug */\n  slug: string;\n  /** i18n.description */\n  description: string | null;\n\n  /** Parent image_url (veya publicUrlOf ile hesaplanmış) */\n  image_url: string | null;\n  /** Parent image_asset_id (storage_assets.id) */\n  image_asset_id: string | null;\n  /** storage üzerinden efektif URL (asset_url || image_url) */\n  image_effective_url: string | null;\n\n  /** i18n.alt */\n  alt: string | null;\n  /** i18n.button_text */\n  buttonText: string | null;\n  /** i18n.button_link */\n  buttonLink: string | null;\n\n  /** Parent featured / is_active / order */\n  featured: boolean | 0 | 1;\n  is_active: boolean | 0 | 1;\n  display_order: number;\n\n  created_at: string;\n  updated_at: string;\n\n  /** Esnek JSON alan (çok dilli ayarlar, flags vs.) */\n  meta?: Record<string, unknown> | null;\n}\n\n/**\n * Public controller'daki SlideData tipi\n * rowToPublic() ile dönen obje (i18n + parent)\n */\nexport interface ApiSliderPublic {\n  /** Parent slider.id (string'e çevrilmiş) */\n  id: string;\n  title: string;\n  description: string;\n  image: string;\n  alt?: string;\n  buttonText: string;\n  buttonLink: string;\n  isActive: boolean;\n  order: number;\n  priority?: 'low' | 'medium' | 'high';\n  showOnMobile?: boolean;\n  showOnDesktop?: boolean;\n  locale: string;\n}\n\n/* -------------------- FE DTO tipleri -------------------- */\n\n/**\n * Admin tarafında kullanılacak normalize DTO\n * (id'yi string'e çeviriyoruz, diğer alanlar korunuyor)\n */\nexport interface SliderAdminDto {\n  id: string;\n  uuid: string;\n\n  locale: string;\n  name: string;\n  slug: string;\n  description: string | null;\n\n  image_url: string | null;\n  image_asset_id: string | null;\n  image_effective_url: string | null;\n\n  alt: string | null;\n  buttonText: string | null;\n  buttonLink: string | null;\n\n  featured: boolean;\n  is_active: boolean;\n  display_order: number;\n\n  created_at: string;\n  updated_at: string;\n\n  /** Esnek JSON alan – FE & BE ortak (şu an zorunlu değil) */\n  meta: Record<string, unknown> | null;\n}\n\n/**\n * Public tarafında (Hero slider vs) kullanılacak DTO\n * API ile neredeyse aynı, sadece type safety için normalize ediyoruz.\n */\nexport interface SliderPublicDto {\n  id: string;\n  title: string;\n  description: string;\n  image: string;\n  alt?: string;\n  buttonText: string;\n  buttonLink: string;\n  isActive: boolean;\n  order: number;\n  priority?: 'low' | 'medium' | 'high';\n  showOnMobile?: boolean;\n  showOnDesktop?: boolean;\n  locale: string;\n}\n\n/* -------------------- Query param tipleri -------------------- */\n\nexport type SliderSortField = 'display_order' | 'name' | 'created_at' | 'updated_at';\n\nexport type SliderSortOrder = 'asc' | 'desc';\n\n/**\n * Admin list query (adminListQuerySchema ile uyumlu)\n * - locale opsiyonel (verilmezse tüm diller)\n */\nexport interface SliderAdminListQueryParams {\n  q?: string;\n  locale?: string;\n  is_active?: boolean;\n  limit?: number;\n  offset?: number;\n  sort?: SliderSortField;\n  order?: SliderSortOrder;\n}\n\n/**\n * Public list query (publicListQuerySchema ile uyumlu)\n * - locale verilmezse backend default 'de'\n */\nexport interface SliderPublicListQueryParams {\n  locale?: string;\n  q?: string;\n  limit?: number;\n  offset?: number;\n  sort?: SliderSortField;\n  order?: SliderSortOrder;\n}\n\n/**\n * Public detail – slug + locale\n * GET /sliders/:slug?locale=tr\n */\nexport interface SliderPublicDetailQuery {\n  slug: string;\n  locale?: string;\n}\n\n/* -------------------- Create / Update payload'ları -------------------- */\n\n/**\n * CreateBody (createSchema) ile uyumlu payload\n * - Hem parent hem i18n alanlarını içerir\n */\nexport interface SliderCreatePayload {\n  /** i18n.locale; verilmezse backend default 'de' kullanır */\n  locale?: string;\n\n  /** i18n alanları */\n  name: string;\n  slug?: string;\n  description?: string | null;\n  alt?: string | null;\n  buttonText?: string | null;\n  buttonLink?: string | null;\n\n  /** Parent alanları */\n  image_url?: string | null;\n  image_asset_id?: string | null;\n  featured?: boolean;\n  is_active?: boolean;\n  display_order?: number;\n\n  /** Esnek JSON meta – backend şu an ignore edebilir */\n  meta?: Record<string, unknown> | null;\n}\n\n/**\n * UpdateBody (updateSchema.partial) ile uyumlu payload\n * - Hem parent hem i18n alanlarını opsiyonel olarak günceller\n */\nexport interface SliderUpdatePayload {\n  locale?: string;\n\n  name?: string;\n  slug?: string;\n  description?: string | null;\n  alt?: string | null;\n  buttonText?: string | null;\n  buttonLink?: string | null;\n\n  image_url?: string | null;\n  image_asset_id?: string | null;\n  featured?: boolean;\n  is_active?: boolean;\n  display_order?: number;\n\n  meta?: Record<string, unknown> | null;\n}\n\n/**\n * Reorder body – reorderSchema (ids: number[])\n * - ids: parent slider.id listesi\n */\nexport interface SliderReorderPayload {\n  ids: number[];\n}\n\n/**\n * Status set – setStatusSchema\n * - Parent is_active toggling\n */\nexport interface SliderSetStatusPayload {\n  is_active: boolean;\n}\n\n/**\n * Image set – setImageSchema (asset_id null ise image temizlenir)\n * - Parent image_url / image_asset_id ayarlanır\n */\nexport interface SliderSetImagePayload {\n  asset_id: string | null;\n}\n\n/* -------------------- Normalizer'lar -------------------- */\n\nexport const normalizeSliderAdmin = (api: ApiSliderAdmin): SliderAdminDto => ({\n  id: asStr(api.id),\n  uuid: asStr(api.uuid),\n  locale: asStr(api.locale || 'tr'),\n  name: asStr(api.name),\n  slug: asStr(api.slug),\n  description: api.description ?? null,\n\n  image_url: api.image_url ?? null,\n  image_asset_id: api.image_asset_id ?? null,\n  image_effective_url: api.image_effective_url ?? api.image_url ?? null,\n\n  alt: api.alt ?? null,\n  buttonText: api.buttonText ?? null,\n  buttonLink: api.buttonLink ?? null,\n\n  featured: asBool(api.featured),\n  is_active: asBool(api.is_active),\n  display_order: asNum(api.display_order),\n\n  created_at: asStr(api.created_at),\n  updated_at: asStr(api.updated_at),\n\n  meta: api.meta ?? null,\n});\n\nexport const normalizeSliderPublic = (api: ApiSliderPublic): SliderPublicDto => ({\n  id: asStr(api.id),\n  title: asStr(api.title),\n  description: asStr(api.description ?? ''),\n  image: asStr(api.image ?? ''),\n  alt: api.alt ?? undefined,\n  buttonText: asStr(api.buttonText ?? 'İncele'),\n  buttonLink: asStr(api.buttonLink ?? ''),\n\n  isActive: asBool(api.isActive),\n  order: asNum(api.order),\n  priority: api.priority,\n  showOnMobile: api.showOnMobile,\n  showOnDesktop: api.showOnDesktop,\n  locale: asStr(api.locale || 'tr'),\n});\n\n/* -------------------- Helper fonksiyonlar (endpoint'ler için) -------------------- */\n\n// Type aliases for compatibility\nexport type SliderAdminView = SliderAdminDto;\nexport type SliderAdminRow = ApiSliderAdmin;\nexport type SliderRow = ApiSliderAdmin;\n\n/**\n * Admin list query parametrelerini temizle\n */\nexport function buildSliderParams(params?: SliderAdminListQueryParams): Record<string, unknown> | undefined {\n  if (!params) return undefined;\n  const result: Record<string, unknown> = {};\n  for (const [key, value] of Object.entries(params)) {\n    if (value !== undefined && value !== null && value !== '') {\n      result[key] = value;\n    }\n  }\n  return Object.keys(result).length > 0 ? result : undefined;\n}\n\n/**\n * Admin row'u view'a çevir (normalizeSliderAdmin alias)\n */\nexport function toAdminSliderView(row: SliderAdminRow): SliderAdminView {\n  return normalizeSliderAdmin(row);\n}\n","// =============================================================\n// FILE: src/integrations/shared/storage.ts\n// =============================================================\nimport type { FetchBaseQueryError } from '@reduxjs/toolkit/query';\nexport type StorageMeta = Record<string, string> | null;\n\nexport type StorageAsset = {\n  id: string;\n  name: string;\n  bucket: string;\n  path: string;\n  folder: string | null;\n  mime: string;\n  size: number;\n  width?: number | null;\n  height?: number | null;\n  url?: string | null;\n  metadata: StorageMeta;\n  created_at: string;\n  updated_at: string;\n};\n\nexport type ApiStorageAsset = Omit<\n  StorageAsset,\n  'size' | 'width' | 'height' | 'metadata' | 'created_at' | 'updated_at'\n> & {\n  size: number | string;\n  width?: number | string | null;\n  height?: number | string | null;\n  metadata: string | StorageMeta;\n  created_at: string | number | Date;\n  updated_at: string | number | Date;\n};\n\nexport type StorageListParams = {\n  q?: string;\n  bucket?: string;\n  folder?: string | null;\n  mime?: string;\n  limit?: number;\n  offset?: number;\n  sort?: 'created_at' | 'name' | 'size';\n  order?: 'asc' | 'desc';\n};\n\n/** ---- Public endpoints tipleri ---- */\n\n/** POST /storage/uploads/sign-multipart */\nexport type StorageSignMultipartBody = {\n  filename: string;\n  folder?: string;\n};\n\nexport type StorageSignMultipartResponse = {\n  upload_url: string;\n  fields: Record<string, string>;\n};\n\n/** POST /storage/:bucket/upload?path=&upsert= */\nexport type StoragePublicUploadResponse = {\n  path: string;\n  url: string;\n};\n\nexport type StorageServerUploadArgs = {\n  bucket: string;\n  file: File;\n  path?: string; // \"folder/name.ext\" gibi\n  upsert?: boolean;\n};\n\nexport type StorageListQuery = {\n  q?: string;\n  bucket?: string;\n  folder?: string | null;\n  mime?: string;\n  limit?: number;\n  offset?: number;\n  sort?: 'created_at' | 'name' | 'size';\n  order?: 'asc' | 'desc';\n};\nexport type StorageUpdateInput = {\n  name?: string;\n  folder?: string | null;\n  metadata?: Record<string, string> | null;\n};\n\nexport const sanitize = (name: string) => name.replace(/[^\\w.\\-]+/g, '_');\n\nexport type UploadManyResponse = { items: StoragePublicUploadResponse[] };\n\n/** File[]’a kesin daraltma: undefined/null/yanlış tipleri atar */\nexport function compactFiles(list: unknown[]): File[] {\n  const out: File[] = [];\n  for (const f of list) {\n    if (!f) continue;\n    if (typeof File !== 'undefined' && f instanceof File) {\n      out.push(f);\n      continue;\n    }\n    if (typeof Blob !== 'undefined' && f instanceof Blob) {\n      try {\n        const name = (f as any)?.name || 'blob';\n        out.push(\n          new File([f], name, {\n            type: (f as any).type || 'application/octet-stream',\n          }),\n        );\n      } catch {\n        out.push(f as unknown as File);\n      }\n    }\n  }\n  return out;\n}\n\nexport type ListResponse = { items: StorageAsset[]; total: number };\n\nexport type BulkCreateErrorItem = {\n  file: string;\n  error: {\n    where?: string;\n    message?: string;\n    http?: number | null;\n  };\n};\n\nexport type BulkCreateResponse = {\n  count: number;\n  items: Array<StorageAsset | BulkCreateErrorItem>;\n};\n\n// NULL-güvenli tag helper\nexport const StorageListTags = (items?: StorageAsset[]) =>\n  items && items.length\n    ? [\n        { type: 'Storage' as const, id: 'LIST' as const },\n        ...items.map((r) => ({ type: 'Storage' as const, id: r.id })),\n      ]\n    : [{ type: 'Storage' as const, id: 'LIST' as const }];\n\n// Backend query tipini Record<string, string | number>’e çevir\nexport const toQueryParams = (q?: Partial<StorageListQuery>): Record<string, string | number> => {\n  if (!q) return {};\n\n  const params: Record<string, string | number> = {};\n\n  if (q.q) params.q = q.q;\n  if (q.bucket) params.bucket = q.bucket;\n  if (q.folder != null) params.folder = q.folder;\n  if (q.mime) params.mime = q.mime;\n  if (typeof q.limit === 'number') params.limit = q.limit;\n  if (typeof q.offset === 'number') params.offset = q.offset;\n  if (q.sort) params.sort = q.sort;\n  if (q.order) params.order = q.order;\n\n  return params;\n};\n\n// Hata helper (eslint no-explicit-any için: FetchBaseQueryError union'ı kullan)\nexport const makeCustomError = (message: string, data?: unknown): FetchBaseQueryError => ({\n  status: 'CUSTOM_ERROR',\n  error: message,\n  data,\n});\n","// =============================================================\n// FILE: src/integrations/shared/services.types.ts\n// FINAL — Services (Hizmetler) RTK Tipleri (FE Services page protocol)\n// Backend: src/modules/services/schema.ts + repository ServiceMerged\n// - NO category/sub_category\n// - i18n: slug, name, summary, content, image_alt, meta_*\n// - parent: type, featured, is_active, display_order, cover fields\n// - cover_url: backend resolved (asset/url/legacy)\n// =============================================================\n\nimport type { BoolLike, SortOrder } from '@/integrations/shared';\n\n/** Backend ServiceTypeEnum ile uyumlu */\nexport type ServiceType =\n  | 'maintenance_repair'\n  | 'modernization'\n  | 'spare_parts_components'\n  | 'applications_references'\n  | 'engineering_support'\n  | 'production'\n  | 'other';\n\n/** Sıralama alanları (serviceListQuerySchema.sort ile uyumlu) */\nexport type ServiceSortField = 'created_at' | 'updated_at' | 'display_order';\n\n/* ------------------------------------------------------------------\n * LIST QUERY PARAMS (public + admin)\n * Backend: serviceListQuerySchema (validation.ts)\n * ------------------------------------------------------------------ */\n\nexport interface ServiceListQueryParams {\n  /** Ör: \"created_at.desc\" – backend parseOrder ile çözüyor */\n  order?: string;\n  sort?: ServiceSortField;\n  orderDir?: SortOrder;\n\n  limit?: number;\n  offset?: number;\n\n  q?: string;\n  type?: ServiceType;\n\n  featured?: BoolLike;\n  is_active?: BoolLike;\n\n  locale?: string;\n  default_locale?: string;\n}\n\nexport type ServiceListAdminQueryParams = ServiceListQueryParams;\nexport type ServiceListPublicQueryParams = Omit<ServiceListQueryParams, 'is_active'>;\n\n/* ------------------------------------------------------------------\n * API DTO – Service (backend repository ServiceMerged ile uyumlu)\n * ------------------------------------------------------------------ */\n\nexport interface ApiServiceBase {\n  id: string;\n  type: ServiceType | string;\n\n  featured: 0 | 1;\n  is_active: 0 | 1;\n  display_order: number;\n\n  // cover (legacy + storage)\n  featured_image: string | null;\n  image_url: string | null;\n  image_asset_id: string | null;\n\n  /** backend resolved cover url (asset/url/legacy) */\n  cover_url: string | null;\n\n  created_at: string;\n  updated_at: string;\n\n  // i18n coalesced\n  slug: string | null;\n  name: string | null;\n  summary: string | null;\n  content: string | null; // json-string OR html string\n  image_alt: string | null;\n\n  // SEO\n  meta_title: string | null;\n  meta_description: string | null;\n  meta_keywords: string | null;\n\n  locale_resolved: string | null;\n}\n\nexport type ApiServiceAdmin = ApiServiceBase;\nexport type ApiServicePublic = ApiServiceBase;\n\n/** FE normalize edilmiş DTO */\nexport interface ServiceDto {\n  id: string;\n  type: ServiceType | string;\n\n  featured: boolean;\n  is_active: boolean;\n  display_order: number;\n\n  featured_image: string | null;\n  image_url: string | null;\n  image_asset_id: string | null;\n\n  cover_url: string | null;\n\n  created_at: string;\n  updated_at: string;\n\n  slug: string | null;\n  name: string | null;\n  summary: string | null;\n  content: string | null;\n  description?: string | null;\n  image_alt: string | null;\n\n  // Service-specific fields (optional, may not be in all responses)\n  price?: string | number | null;\n  material?: string | null;\n  includes?: string | null;\n  warranty?: string | null;\n  tags?: string | string[] | null;\n  area?: string | null;\n  duration?: string | null;\n  maintenance?: string | null;\n  season?: string | null;\n  equipment?: string | null;\n\n  meta_title: string | null;\n  meta_description: string | null;\n  meta_keywords: string | null;\n\n  locale_resolved: string | null;\n}\n\nexport interface ServiceListResult {\n  items: ServiceDto[];\n  total: number;\n}\n\n/* ------------------------------------------------------------------\n * API DTO – Service Images (backend repository ServiceImageMerged ile uyumlu)\n * ------------------------------------------------------------------ */\n\nexport interface ApiServiceImage {\n  id: string;\n  service_id: string;\n\n  image_asset_id: string | null;\n  image_url: string | null;\n\n  is_active: 0 | 1;\n  display_order: number;\n\n  created_at: string;\n  updated_at: string;\n\n  title: string | null;\n  alt: string | null;\n  caption: string | null;\n  locale_resolved: string | null;\n}\n\nexport interface ServiceImageDto {\n  id: string;\n  service_id: string;\n\n  image_asset_id: string | null;\n  image_url: string | null;\n\n  is_active: boolean;\n  display_order: number;\n\n  created_at: string;\n  updated_at: string;\n\n  title: string | null;\n  alt: string | null;\n  caption: string | null;\n  locale_resolved: string | null;\n}\n\n/* ------------------------------------------------------------------\n * PAYLOAD – CREATE / UPDATE (service)\n * Backend: UpsertServiceBody, PatchServiceBody (validation.ts)\n * ------------------------------------------------------------------ */\n\nexport interface ServiceCreatePayload {\n  // parent (non-i18n)\n  type?: ServiceType;\n\n  featured?: BoolLike;\n  is_active?: BoolLike;\n  display_order?: number;\n\n  featured_image?: string | null;\n  image_url?: string | null;\n  image_asset_id?: string | null;\n\n  // i18n\n  locale?: string;\n  name?: string;\n  slug?: string;\n  summary?: string | null;\n  content?: string; // required by backend create flow\n  image_alt?: string | null;\n\n  meta_title?: string | null;\n  meta_description?: string | null;\n  meta_keywords?: string | null;\n\n  replicate_all_locales?: boolean;\n}\n\nexport interface ServiceUpdatePayload {\n  type?: ServiceType;\n\n  featured?: BoolLike;\n  is_active?: BoolLike;\n  display_order?: number;\n\n  featured_image?: string | null;\n  image_url?: string | null;\n  image_asset_id?: string | null;\n\n  locale?: string;\n  name?: string;\n  slug?: string;\n  summary?: string | null;\n  content?: string;\n  image_alt?: string | null;\n\n  meta_title?: string | null;\n  meta_description?: string | null;\n  meta_keywords?: string | null;\n\n  apply_all_locales?: boolean;\n}\n\n/* ------------------------------------------------------------------\n * PAYLOAD – CREATE / UPDATE (service images – gallery)\n * Backend: UpsertServiceImageBody, PatchServiceImageBody\n * ------------------------------------------------------------------ */\n\nexport interface ServiceImageCreatePayload {\n  image_asset_id?: string | null;\n  image_url?: string | null;\n\n  is_active?: BoolLike;\n  display_order?: number;\n\n  title?: string | null;\n  alt?: string | null;\n  caption?: string | null;\n  locale?: string;\n\n  replicate_all_locales?: boolean;\n}\n\nexport interface ServiceImageUpdatePayload {\n  image_asset_id?: string | null;\n  image_url?: string | null;\n\n  is_active?: BoolLike;\n  display_order?: number;\n\n  title?: string | null;\n  alt?: string | null;\n  caption?: string | null;\n  locale?: string;\n\n  apply_all_locales?: boolean;\n}\n\n/* ------------------------------------------------------------------\n * UI FORM TYPES (admin)\n * - backend'in yeni alan setine göre sadeleştirildi\n * ------------------------------------------------------------------ */\n\nexport type ServiceFormValues = {\n  id?: string;\n  locale: string;\n\n  // i18n\n  name: string;\n  slug: string;\n  summary: string;\n  content: string; // json-string OR html\n  description?: string;\n  image_alt: string;\n\n  // Service-specific form fields (optional)\n  price?: string;\n  material?: string;\n  includes?: string;\n  warranty?: string;\n  tags?: string;\n  area?: string;\n  duration?: string;\n  maintenance?: string;\n  season?: string;\n  equipment?: string;\n\n  meta_title: string;\n  meta_description: string;\n  meta_keywords: string;\n\n  // parent\n  is_active: boolean;\n  featured: boolean;\n  display_order: string;\n  type: ServiceType | string;\n\n  // cover\n  featured_image: string;\n  image_url: string;\n  image_asset_id: string;\n\n  // i18n ops\n  replicate_all_locales: boolean;\n  apply_all_locales: boolean;\n};\n\nexport type AdminServiceListItem = {\n  id: string;\n  name: string;\n  slug: string;\n  is_active: boolean;\n  featured: boolean;\n  display_order: number;\n  locale: string;\n};\n\n/* ------------------------------------------------------------------\n * NORMALIZERS\n * ------------------------------------------------------------------ */\n\nexport const normalizeService = (row: ApiServiceBase): ServiceDto => ({\n  id: row.id,\n  type: row.type,\n\n  featured: row.featured === 1,\n  is_active: row.is_active === 1,\n  display_order: row.display_order,\n\n  featured_image: row.featured_image,\n  image_url: row.image_url,\n  image_asset_id: row.image_asset_id,\n\n  cover_url: row.cover_url,\n\n  created_at: row.created_at,\n  updated_at: row.updated_at,\n\n  slug: row.slug,\n  name: row.name,\n  summary: row.summary,\n  content: row.content,\n  image_alt: row.image_alt,\n\n  meta_title: row.meta_title,\n  meta_description: row.meta_description,\n  meta_keywords: row.meta_keywords,\n\n  locale_resolved: row.locale_resolved,\n});\n\nexport const normalizeServiceImage = (row: ApiServiceImage): ServiceImageDto => ({\n  id: row.id,\n  service_id: row.service_id,\n\n  image_asset_id: row.image_asset_id,\n  image_url: row.image_url,\n\n  is_active: row.is_active === 1,\n  display_order: row.display_order,\n\n  created_at: row.created_at,\n  updated_at: row.updated_at,\n\n  title: row.title,\n  alt: row.alt,\n  caption: row.caption,\n  locale_resolved: row.locale_resolved,\n});\n\nexport type ServiceContentShape = {\n  tagline?: string;\n  highlights?: { title?: string; description?: string }[];\n  html?: string;\n};\n\nexport function safeParseServiceContent(raw: string | null): ServiceContentShape | null {\n  if (!raw) return null;\n  const s = String(raw).trim();\n  if (!s) return null;\n\n  // JSON-string mi?\n  if (s.startsWith('{') || s.startsWith('[')) {\n    try {\n      const obj = JSON.parse(s);\n      if (obj && typeof obj === 'object') return obj as ServiceContentShape;\n    } catch {\n      // ignore\n    }\n  }\n\n  // HTML veya plain text; bu sayfada highlights beklediğimiz için null dönüyoruz\n  return null;\n}\n\nexport function pickCardImageUrl(svc: ServiceDto, fallbackIndex: number): string {\n  // backend cover_url varsa o\n  const resolved = svc.cover_url || svc.image_url || svc.featured_image;\n  if (resolved) return resolved;\n\n  // FE asset fallback (orijinal template görselleri)\n  const idx = ((fallbackIndex % 4) + 1) as 1 | 2 | 3 | 4;\n  return `/assets/imgs/services-list/img-${idx}.png`;\n}\n\n// Form component props\nexport interface ServiceFormProps {\n  initialData?: ServiceDto;\n  onSubmit: (data: ServiceFormValues) => void | Promise<void>;\n  isLoading?: boolean;\n\n  // Form mode\n  mode?: 'create' | 'edit';\n  loading?: boolean;\n  saving?: boolean;\n\n  // Locale management\n  locales?: { value: string; label: string }[];\n  localesLoading?: boolean;\n  defaultLocale?: string;\n\n  // Callbacks\n  onCancel?: () => void;\n  onLocaleChange?: (locale: string) => void;\n}\n","import type { Metadata } from 'next';\n\nimport { safeText } from '@/integrations/shared';\n\n// =============================================================\n// FILE: src/seo/seo.types.ts\n// FINAL — SiteSettings tabanlı SEO + Analytics tipleri\n// - seo_local_business desteği var\n// - NEW: SeoPage.ogType (website|article) optional\n// =============================================================\n\nexport type SeoDefaults = {\n  canonicalBase: string; // https://example.com\n  siteName: string; // \"GZL Temizlik\"\n  ogLocale?: string; // \"tr_TR\"\n  author?: string;\n  themeColor?: string; // \"#0f172a\"\n  twitterCard?: 'summary' | 'summary_large_image';\n  robots?: string;\n  googlebot?: string;\n\n  // RootLayout html lang\n  htmlLang?: string; // \"tr\"\n};\n\nexport type SeoAppIcons = {\n  appleTouchIcon?: string;\n  favicon32?: string;\n  favicon16?: string;\n};\n\nexport type SeoPage = {\n  title?: string;\n  description?: string;\n  keywords?: string;\n\n  ogImage?: string; // \"/og/home.jpg\" veya absolute\n  ogType?: 'website' | 'article'; // ✅ optional override\n\n  noindex?: boolean;\n  canonicalPath?: string; // \"/contact-us\" gibi override\n\n  titleTemplate?: string; // \"{{title}} | SiteName\"\n  descriptionTemplate?: string;\n  keywordsTemplate?: string;\n};\n\nexport type AnalyticsConfig = {\n  gaId?: string;\n  gtmId?: string;\n  metaPixelId?: string;\n};\n\nexport type LocalBusinessJsonLd = Record<string, unknown>;\n\nexport type SeoAll = {\n  defaults: SeoDefaults;\n  icons?: SeoAppIcons;\n  sameAs?: string[];\n  pages?: Record<string, SeoPage>;\n  localBusiness?: LocalBusinessJsonLd;\n};\n\n// ---------------------------\n// Strings / parsing\n// ---------------------------\n\nexport function asText(v: unknown): string | null {\n  if (v === null || v === undefined) return null;\n  if (typeof v === 'string') {\n    const s = v.trim();\n    return s ? s : null;\n  }\n  if (typeof v === 'number') return String(v);\n  if (typeof v === 'boolean') return v ? 'true' : 'false';\n  return null;\n}\n\nexport function requireText(v: unknown, keyName: string): string {\n  const t = asText(v);\n  if (!t) throw new Error(`[SEO] Missing or empty required setting: ${keyName}`);\n  return t;\n}\n\nexport function normalizeSlug(raw: unknown): string {\n  return Array.isArray(raw) ? safeText(raw[0]) : safeText(raw);\n}\n\nexport function tryParse(v: unknown): unknown {\n  if (typeof v !== 'string') return v;\n  const s = v.trim();\n  if (!s) return v;\n\n  if ((s.startsWith('{') && s.endsWith('}')) || (s.startsWith('[') && s.endsWith(']'))) {\n    try {\n      return JSON.parse(s);\n    } catch {\n      return v;\n    }\n  }\n\n  if (s === 'true') return true;\n  if (s === 'false') return false;\n\n  if (!Number.isNaN(Number(s)) && s !== '') return Number(s);\n  return v;\n}\n\nexport function safeObj<T extends object>(v: unknown): T | null {\n  const x = tryParse(v);\n  if (x && typeof x === 'object' && !Array.isArray(x)) return x as T;\n  return null;\n}\n\n// ---------------------------\n// SEO content helpers\n// ---------------------------\n\nexport type SeoContentInput = {\n  title?: unknown;\n  meta_title?: unknown;\n  meta_description?: unknown;\n  description?: unknown;\n  keywords?: unknown;\n\n  og_image?: unknown;\n  image_effective_url?: unknown;\n  image_url?: unknown;\n\n  canonical_path?: unknown;\n  noindex?: unknown;\n  og_type?: unknown;\n};\n\nexport type SeoImagePick = {\n  image_effective_url: string | null;\n  image_url: string | null;\n  og_image: string | null;\n};\n\nexport function pickSeoImages(j: Record<string, unknown>): SeoImagePick {\n  const image_effective_url =\n    asText(j.image_effective_url) ||\n    asText(j.featured_image_effective_url) ||\n    asText(j.og_image) ||\n    asText(j.featured_image) ||\n    null;\n\n  const image_url = asText(j.image_url) || asText(j.featured_image) || null;\n\n  const og_image = asText(j.og_image) || image_effective_url || image_url || null;\n\n  return { image_effective_url, image_url, og_image };\n}\n\nfunction toBoolLoose(v: unknown): boolean | undefined {\n  if (typeof v === 'boolean') return v;\n  if (typeof v === 'number') return v !== 0;\n  if (typeof v === 'string') {\n    const s = v.trim().toLowerCase();\n    if (!s) return undefined;\n    if (['true', '1', 'yes', 'y', 'on'].includes(s)) return true;\n    if (['false', '0', 'no', 'n', 'off'].includes(s)) return false;\n  }\n  return undefined;\n}\n\nexport function buildSeoPageFromMeta(input: SeoContentInput): SeoPage | null {\n  const title = asText(input.meta_title) || asText(input.title) || undefined;\n  const description = asText(input.meta_description) || asText(input.description) || undefined;\n  const keywords = asText(input.keywords) || undefined;\n\n  const ogImage =\n    asText(input.og_image) ||\n    asText(input.image_effective_url) ||\n    asText(input.image_url) ||\n    undefined;\n\n  const canonicalPath = asText(input.canonical_path) || undefined;\n  const noindex = toBoolLoose(input.noindex);\n  const ogTypeRaw = asText(input.og_type);\n  const ogType = ogTypeRaw === 'article' || ogTypeRaw === 'website' ? ogTypeRaw : undefined;\n\n  if (\n    !title &&\n    !description &&\n    !keywords &&\n    !ogImage &&\n    !canonicalPath &&\n    typeof noindex === 'undefined' &&\n    !ogType\n  ) {\n    return null;\n  }\n\n  return {\n    ...(title ? { title } : {}),\n    ...(description ? { description } : {}),\n    ...(keywords ? { keywords } : {}),\n    ...(ogImage ? { ogImage } : {}),\n    ...(canonicalPath ? { canonicalPath } : {}),\n    ...(typeof noindex === 'boolean' ? { noindex } : {}),\n    ...(ogType ? { ogType } : {}),\n  };\n}\n\nexport function mergeSeoPage(base?: SeoPage | null, override?: SeoPage | null): SeoPage | null {\n  if (!base && !override) return null;\n  const a = base || {};\n  const b = override || {};\n\n  return {\n    ...(a.title ? { title: a.title } : {}),\n    ...(a.description ? { description: a.description } : {}),\n    ...(a.keywords ? { keywords: a.keywords } : {}),\n    ...(a.ogImage ? { ogImage: a.ogImage } : {}),\n    ...(a.ogType ? { ogType: a.ogType } : {}),\n    ...(a.canonicalPath ? { canonicalPath: a.canonicalPath } : {}),\n    ...(typeof a.noindex === 'boolean' ? { noindex: a.noindex } : {}),\n    ...(a.titleTemplate ? { titleTemplate: a.titleTemplate } : {}),\n    ...(a.descriptionTemplate ? { descriptionTemplate: a.descriptionTemplate } : {}),\n    ...(a.keywordsTemplate ? { keywordsTemplate: a.keywordsTemplate } : {}),\n\n    ...(b.title ? { title: b.title } : {}),\n    ...(b.description ? { description: b.description } : {}),\n    ...(b.keywords ? { keywords: b.keywords } : {}),\n    ...(b.ogImage ? { ogImage: b.ogImage } : {}),\n    ...(b.ogType ? { ogType: b.ogType } : {}),\n    ...(b.canonicalPath ? { canonicalPath: b.canonicalPath } : {}),\n    ...(typeof b.noindex === 'boolean' ? { noindex: b.noindex } : {}),\n    ...(b.titleTemplate ? { titleTemplate: b.titleTemplate } : {}),\n    ...(b.descriptionTemplate ? { descriptionTemplate: b.descriptionTemplate } : {}),\n    ...(b.keywordsTemplate ? { keywordsTemplate: b.keywordsTemplate } : {}),\n  };\n}\nfunction isRecord(v: unknown): v is Record<string, unknown> {\n  return !!v && typeof v === 'object' && !Array.isArray(v);\n}\n\n// ---------------------------\n// URL helpers\n// ---------------------------\n\nexport function trimSlash(x: string) {\n  return String(x || '').replace(/\\/+$/, '');\n}\n\nexport function ensureLeadingSlash(x: string) {\n  const s = String(x || '');\n  return s.startsWith('/') ? s : `/${s}`;\n}\n\nexport function joinUrl(base: string, path: string): string {\n  const b = trimSlash(base);\n  const p = ensureLeadingSlash(path);\n  return `${b}${p}`;\n}\n\nexport function isAbsUrl(x: string): boolean {\n  return /^https?:\\/\\//i.test(String(x || '').trim());\n}\n\nexport function toAbsUrl(canonicalBase: string, maybeRel?: string | null): string | undefined {\n  const s = String(maybeRel ?? '').trim();\n  if (!s) return undefined;\n  return isAbsUrl(s) ? s : joinUrl(canonicalBase, s);\n}\n\nexport function joinApi(baseUrl: string, path: string): string {\n  return joinUrl(trimSlash(baseUrl), ensureLeadingSlash(path));\n}\n\n// ---------------------------\n// Client/server site base helpers (optional usage)\n// ---------------------------\n\nconst stripTrailingSlash = (u: string) =>\n  String(u || '')\n    .trim()\n    .replace(/\\/+$/, '');\n\nconst normalizeLocalhostOrigin = (origin: string): string => {\n  const o = stripTrailingSlash(origin);\n  if (/^https?:\\/\\/localhost:\\d+$/i.test(o)) return o.replace(/:\\d+$/i, '');\n  return o;\n};\n\nexport function siteUrlBase(): string {\n  const envUrl = stripTrailingSlash(process.env.NEXT_PUBLIC_SITE_URL || '');\n  if (envUrl) return normalizeLocalhostOrigin(envUrl);\n\n  if (typeof window !== 'undefined') {\n    return normalizeLocalhostOrigin(stripTrailingSlash(window.location.origin));\n  }\n\n  return 'http://localhost';\n}\n\nexport function absoluteUrl(pathOrUrl: string): string {\n  const base = siteUrlBase();\n  const v = String(pathOrUrl || '').trim();\n  if (!v) return base;\n  if (/^https?:\\/\\//i.test(v)) return v;\n  return joinUrl(base, v);\n}\n\n// ---------------------------\n// JSON helpers\n// ---------------------------\n\nexport function compact<T extends Record<string, any>>(obj: T): T {\n  const out: Record<string, any> = {};\n\n  for (const [key, value] of Object.entries(obj)) {\n    if (value === undefined || value === null) continue;\n\n    if (typeof value === 'string' && value.trim() === '') continue;\n    if (Array.isArray(value) && value.length === 0) continue;\n    if (typeof value === 'object' && !Array.isArray(value) && Object.keys(value).length === 0) {\n      continue;\n    }\n\n    out[key] = value;\n  }\n\n  return out as T;\n}\n\nexport function stripContext<T extends Record<string, unknown>>(x: T): T {\n  const copy = { ...x } as any;\n  delete copy['@context'];\n  return copy as T;\n}\n\n// ---------------------------\n// Fetch helpers\n// ---------------------------\n\nexport async function fetchJsonNoStore(url: string): Promise<Record<string, unknown> | null> {\n  const res = await fetch(url, {\n    method: 'GET',\n    headers: { Accept: 'application/json' },\n    cache: 'no-store',\n  });\n\n  if (!res.ok) return null;\n\n  try {\n    return (await res.json()) as Record<string, unknown>;\n  } catch {\n    return null;\n  }\n}\n\nexport function apiBaseStrict(): string {\n  const base = trimSlash(\n    (\n      process.env.NEXT_PUBLIC_API_URL ||\n      process.env.NEXT_PUBLIC_API_BASE ||\n      process.env.API_BASE_URL ||\n      '/api'\n    ).toString(),\n  );\n\n  if (!base) throw new Error('[SEO] Missing API base env (NEXT_PUBLIC_API_URL / API_BASE_URL)');\n  return base;\n}\n\nfunction extractRows(payload: unknown): Array<Record<string, any>> {\n  if (Array.isArray(payload)) return payload as any;\n  if (isRecord(payload) && Array.isArray((payload as any).data)) return (payload as any).data;\n  return [];\n}\n\nfunction rowKey(r: any): string {\n  const k = r?.key ?? r?.setting_key ?? r?.name;\n  return typeof k === 'string' ? k : '';\n}\n\nfunction rowValue(r: any): unknown {\n  if (isRecord(r) && 'value' in r) return (r as any).value;\n  return r;\n}\n\n// ---------------------------\n// Locale resolution\n// - IMPORTANT: do NOT force \"de\" except absolute last resort\n// ---------------------------\n\ntype LocaleResolveInput = {\n  routeLocale?: string | null;\n  allowed?: string[];\n};\n\nfunction normLocale(v: unknown): string {\n  return typeof v === 'string' ? v.trim().toLowerCase() : '';\n}\n\nfunction envDefaultLocale(): string {\n  return (\n    normLocale(process.env.NEXT_PUBLIC_DEFAULT_LOCALE) ||\n    normLocale(process.env.DEFAULT_LOCALE) ||\n    ''\n  );\n}\n\nasync function resolveRequestLocale(input?: LocaleResolveInput): Promise<string> {\n  const allowed = (input?.allowed?.length ? input.allowed : ['tr', 'en', 'de']).map((x) =>\n    normLocale(x),\n  );\n  const ALLOWED = new Set(allowed);\n\n  const fromRoute = normLocale(input?.routeLocale);\n  if (fromRoute && ALLOWED.has(fromRoute)) return fromRoute;\n\n  // client: can't read next/headers\n  if (typeof window !== 'undefined') {\n    const env = envDefaultLocale();\n    if (env && ALLOWED.has(env)) return env;\n    // absolute last resort\n    return allowed[0] || 'de';\n  }\n\n  const { cookies, headers } = await import('next/headers');\n\n  const c = await cookies();\n  const fromCookie =\n    normLocale(c.get('NEXT_LOCALE')?.value) ||\n    normLocale(c.get('locale')?.value) ||\n    normLocale(c.get('i18n_locale')?.value);\n\n  if (fromCookie && ALLOWED.has(fromCookie)) return fromCookie;\n\n  const h = await headers();\n  const al = String(h.get('accept-language') || '');\n  const first = (al.split(',')[0] || '').trim();\n  const code = normLocale(first.split(';')[0]?.split('-')[0]);\n  if (code && ALLOWED.has(code)) return code;\n\n  const env = envDefaultLocale();\n  if (env && ALLOWED.has(env)) return env;\n\n  // absolute last resort\n  return allowed[0] || 'de';\n}\n\n// ---------------------------\n// DB compatibility layer (ALIASES + VIRTUAL KEYS)\n// ---------------------------\n\n// Callers expect these keys (from your frontend SEO code):\n// analytics_ga_id, analytics_gtm_id, analytics_meta_pixel_id\n// seo_defaults, seo_app_icons, seo_social_same_as, seo_amp_google_client_id_api\nconst KEY_ALIASES: Record<string, string> = {\n  analytics_ga_id: 'ga4_measurement_id',\n  analytics_gtm_id: 'gtm_container_id',\n  analytics_meta_pixel_id: 'meta_pixel_id', // if you don't have it, it stays optional\n  seo_amp_google_client_id_api: 'google_client_id',\n  // NOTE: seo_defaults and seo_app_icons are VIRTUAL (built below)\n  // NOTE: seo_social_same_as is VIRTUAL (built below)\n};\n\n// Some keys are global-only in your DB (locale='*')\n// We fetch ONLY these with '*' (per-key), NOT \"seo merge\".\nconst GLOBAL_ONLY_KEYS = new Set<string>([\n  'public_base_url',\n  'ga4_measurement_id',\n  'gtm_container_id',\n  'meta_pixel_id',\n  'google_client_id',\n  'site_favicon',\n  'site_apple_touch_icon',\n  'site_app_icon_512',\n  'site_og_default_image',\n]);\n\n// Prefer locale value, but allow fallback to '*' if only global exists\nconst LOCAL_OR_GLOBAL_KEYS = new Set<string>([\n  'seo_defaults',\n  'seo_app_icons',\n  'seo_social_same_as',\n]);\n\n// Treat these as optional so missing keys don't crash your pages.\nfunction isOptionalKey(k: string): boolean {\n  if (k.startsWith('seo_pages_')) return true;\n  if (k.startsWith('analytics_')) return true;\n  if (k === 'seo_local_business') return true;\n  if (k === 'seo_social_same_as') return true;\n  if (k === 'seo_amp_google_client_id_api') return true;\n  return false;\n}\n\nasync function fetchSiteSettingsLocaleRaw(\n  keys: string[],\n  locale: string,\n): Promise<Record<string, unknown>> {\n  if (!keys.length) return {};\n\n  const url =\n    `${apiBaseStrict()}/site_settings` +\n    `?keys=${encodeURIComponent(keys.join(','))}` +\n    `&limit=${keys.length}` +\n    `&locale=${encodeURIComponent(locale)}`;\n\n  const res = await fetch(url, {\n    method: 'GET',\n    headers: { Accept: 'application/json' },\n    cache: 'no-store',\n  });\n\n  if (!res.ok) {\n    throw new Error(`[SEO] site_settings fetch failed (${res.status}) locale='${locale}': ${url}`);\n  }\n\n  let json: unknown;\n  try {\n    json = await res.json();\n  } catch {\n    throw new Error(`[SEO] site_settings invalid JSON response (locale='${locale}')`);\n  }\n\n  const rows = extractRows(json);\n\n  const map: Record<string, unknown> = {};\n  for (const r of rows) {\n    const k = rowKey(r);\n    if (!k) continue;\n    map[k] = rowValue(r);\n  }\n  return map;\n}\n\nfunction pickMediaUrl(v: unknown): string | null {\n  // supports JSON {url:...} or plain string\n  const o = safeObj<{ url?: unknown }>(v);\n  if (o) {\n    const u = asText(o.url);\n    return u ? u : null;\n  }\n  const s = asText(v);\n  return s ? s : null;\n}\n\nfunction buildSeoAppIconsFromSiteMedia(globalMap: Record<string, unknown>): SeoAppIcons | null {\n  const apple = pickMediaUrl(globalMap['site_apple_touch_icon']);\n  const fav = pickMediaUrl(globalMap['site_favicon']);\n\n  // minimal required set for your seo.server.ts checks\n  const icons: SeoAppIcons = {\n    ...(apple ? { appleTouchIcon: apple } : {}),\n    ...(fav ? { favicon32: fav, favicon16: fav } : {}),\n  };\n\n  const hasAny = Boolean(icons.appleTouchIcon || icons.favicon32 || icons.favicon16);\n  return hasAny ? icons : null;\n}\n\nfunction buildSeoDefaults(\n  globalMap: Record<string, unknown>,\n  localMap: Record<string, unknown>,\n): Record<string, unknown> | null {\n  const canonicalBase = asText(globalMap['public_base_url']);\n  const siteName = asText(localMap['site_title']) || asText(localMap['company_brand']); // company_brand is JSON; asText may null\n\n  // if company_brand is JSON, try shortName/name\n  const brandObj = safeObj<any>(localMap['company_brand']);\n  const brandName =\n    siteName ||\n    asText(brandObj?.shortName) ||\n    asText(brandObj?.name) ||\n    asText(localMap['site_title']);\n\n  if (!canonicalBase || !brandName) return null;\n\n  // optionally enrich from site_meta_default / seo / site_seo if present\n  const metaObj = safeObj<any>(localMap['site_meta_default']);\n  const seoObj = safeObj<any>(localMap['seo']) || safeObj<any>(localMap['site_seo']);\n\n  return compact({\n    canonicalBase: trimSlash(canonicalBase),\n    siteName: brandName,\n    // optional\n    titleTemplate: asText(seoObj?.title_template) || asText(seoObj?.titleTemplate) || undefined,\n    defaultDescription: asText(seoObj?.description) || asText(metaObj?.description) || undefined,\n    defaultTitle: asText(seoObj?.title_default) || asText(metaObj?.title) || undefined,\n    robots: seoObj?.robots ?? undefined,\n  });\n}\n\nfunction buildSameAsFromSocials(localMap: Record<string, unknown>): string[] | null {\n  const socials = safeObj<any>(localMap['socials']);\n  if (!socials) return null;\n\n  const vals: string[] = [];\n  for (const v of Object.values(socials)) {\n    const s = asText(v);\n    if (s && /^https?:\\/\\//i.test(s)) vals.push(s);\n  }\n  return vals.length ? vals : null;\n}\n\n// ---------------------------\n// PUBLIC API: fetchSiteSettingsStrict (DB compatible)\n// ---------------------------\n\n/**\n * fetchSiteSettingsStrict:\n * - resolves locale (route/cookie/header/env)\n * - fetches requested keys from that locale\n * - for GLOBAL_ONLY_KEYS fetches from locale='*' (per-key) because DB stores them only globally\n * - applies aliases (analytics_ga_id -> ga4_measurement_id etc.)\n * - builds virtual keys: seo_defaults, seo_app_icons, seo_social_same_as\n * - strict only for NON-optional keys\n */\nexport async function fetchSiteSettingsStrict(\n  keys: string[],\n  opts?: { routeLocale?: string | null; allowedLocales?: string[] },\n): Promise<Record<string, unknown>> {\n  if (!keys.length) return {};\n\n  const locale = await resolveRequestLocale({\n    routeLocale: opts?.routeLocale ?? null,\n    allowed: opts?.allowedLocales ?? ['tr', 'en', 'de'],\n  });\n\n  // 1) Split keys into: virtual, normal (with alias), and figure global/local fetch lists\n  const requested = Array.from(new Set(keys));\n\n  const wantsSeoDefaults = requested.includes('seo_defaults');\n  const wantsSeoAppIcons = requested.includes('seo_app_icons');\n  const wantsSameAs = requested.includes('seo_social_same_as');\n\n  // Keys we will actually fetch from DB\n  const actualLocal: string[] = [];\n  const actualGlobal: string[] = [];\n\n  const pushActual = (actualKey: string, requestedKey?: string) => {\n    const prefersBoth = LOCAL_OR_GLOBAL_KEYS.has(requestedKey || actualKey);\n    if (prefersBoth) {\n      actualLocal.push(actualKey);\n      actualGlobal.push(actualKey);\n      return;\n    }\n    if (GLOBAL_ONLY_KEYS.has(actualKey)) actualGlobal.push(actualKey);\n    else actualLocal.push(actualKey);\n  };\n\n  for (const k of requested) {\n    const actual = KEY_ALIASES[k] ?? k;\n    pushActual(actual, k);\n  }\n\n  // Virtual builders need these underlying keys:\n  if (wantsSeoDefaults) {\n    pushActual('public_base_url'); // global\n    pushActual('site_title'); // local\n    pushActual('company_brand'); // local (optional enrich)\n    pushActual('site_meta_default'); // local (optional enrich)\n    pushActual('seo'); // local (optional enrich)\n    pushActual('site_seo'); // local (optional enrich)\n  }\n\n  if (wantsSeoAppIcons) {\n    pushActual('site_apple_touch_icon'); // global\n    pushActual('site_favicon'); // global\n  }\n\n  if (wantsSameAs) {\n    pushActual('socials'); // local\n  }\n\n  const uniqLocal = Array.from(new Set(actualLocal));\n  const uniqGlobal = Array.from(new Set(actualGlobal));\n\n  // 2) Fetch\n  const [localMap, globalMap] = await Promise.all([\n    fetchSiteSettingsLocaleRaw(uniqLocal, locale),\n    fetchSiteSettingsLocaleRaw(uniqGlobal, '*'),\n  ]);\n\n  // 3) Build output map with requested keys (reverse alias)\n  const out: Record<string, unknown> = {};\n\n  for (const k of requested) {\n    if (k === 'seo_defaults' || k === 'seo_app_icons' || k === 'seo_social_same_as') continue;\n\n    const actual = KEY_ALIASES[k] ?? k;\n\n    if (LOCAL_OR_GLOBAL_KEYS.has(k)) {\n      if (localMap[actual] !== undefined) out[k] = localMap[actual];\n      else if (globalMap[actual] !== undefined) out[k] = globalMap[actual];\n      continue;\n    }\n\n    const src = GLOBAL_ONLY_KEYS.has(actual) ? globalMap : localMap;\n    if (src[actual] !== undefined) out[k] = src[actual];\n  }\n\n  // 4) Virtual keys\n  if (wantsSeoAppIcons && out['seo_app_icons'] === undefined) {\n    const icons = buildSeoAppIconsFromSiteMedia(globalMap);\n    if (icons) out['seo_app_icons'] = icons;\n  }\n\n  if (wantsSeoDefaults && out['seo_defaults'] === undefined) {\n    const defaults = buildSeoDefaults(globalMap, localMap);\n    if (defaults) out['seo_defaults'] = defaults;\n  }\n\n  if (wantsSameAs && out['seo_social_same_as'] === undefined) {\n    const sameAs = buildSameAsFromSocials(localMap);\n    if (sameAs) out['seo_social_same_as'] = sameAs;\n  }\n\n  // 5) Strict check (only for non-optional)\n  const missing = requested.filter((k) => out[k] === undefined && !isOptionalKey(k));\n\n  if (missing.length) {\n    // better diagnostic with locale + notes\n    throw new Error(\n      `[SEO] Missing REQUIRED site_settings keys for locale='${locale}': ${missing.join(', ')}`,\n    );\n  }\n\n  return out;\n}\n\n// ---------------------------\n// Metadata helpers\n// ---------------------------\n\nexport function applyTemplate(tpl: string, vars: Record<string, string>): string {\n  return String(tpl || '').replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (_, k) => vars[k] ?? '');\n}\n\nexport function asKeywords(v?: string | null): string | undefined {\n  const s = String(v ?? '').trim();\n  return s ? s : undefined;\n}\n\nexport function buildRobots(\n  pageNoindex: boolean,\n  defaultsRobots?: string | null,\n): Metadata['robots'] | undefined {\n  if (pageNoindex) return { index: false, follow: false };\n\n  const raw = String(defaultsRobots ?? '').trim();\n  if (!raw) return undefined;\n\n  const s = raw.toLowerCase().replace(/\\s+/g, '');\n  const noindex = s.includes('noindex');\n  const nofollow = s.includes('nofollow');\n\n  return { index: !noindex, follow: !nofollow };\n}\n\nexport function buildIconsFromSeo(seoIcons?: SeoAppIcons | null): Metadata['icons'] | undefined {\n  const appleTouchIcon = String(seoIcons?.appleTouchIcon ?? '').trim();\n  const favicon32 = String(seoIcons?.favicon32 ?? '').trim();\n  const favicon16 = String(seoIcons?.favicon16 ?? '').trim();\n\n  const apple = appleTouchIcon ? [{ url: appleTouchIcon }] : undefined;\n\n  const icon: Array<{ url: string; sizes?: string }> = [];\n  if (favicon32) icon.push({ url: favicon32, sizes: '32x32' });\n  if (favicon16) icon.push({ url: favicon16, sizes: '16x16' });\n\n  if (!apple && icon.length === 0) return undefined;\n  return { ...(apple ? { apple } : {}), ...(icon.length ? { icon } : {}) };\n}\n\nexport function safeJsonLdStringify(value: unknown): string {\n  return JSON.stringify(value).replace(/</g, '\\\\u003c');\n}\n\nexport type ProjectSeoPick = {\n  title?: string | null;\n  slug?: string | null;\n\n  meta_title?: string | null;\n  meta_description?: string | null;\n\n  image_effective_url?: string | null;\n  image_url?: string | null;\n};\n\nexport type ServiceSeoPick = {\n  name?: string | null;\n  slug?: string | null;\n\n  meta_title?: string | null;\n  meta_description?: string | null;\n\n  image_effective_url?: string | null;\n  image_url?: string | null;\n};\n\nexport function rowsToMap(payload: unknown): Record<string, unknown> {\n  const rows = Array.isArray(payload)\n    ? (payload as Array<Record<string, any>>)\n    : Array.isArray((payload as any)?.data)\n      ? ((payload as any).data as Array<Record<string, any>>)\n      : [];\n\n  const map: Record<string, unknown> = {};\n  for (const r of rows) {\n    const key =\n      typeof r?.key === 'string' ? r.key : typeof r?.setting_key === 'string' ? r.setting_key : '';\n    if (!key) continue;\n    map[key] = r?.value ?? r;\n  }\n  return map;\n}\n","// src/integrations/shared/auth.public.ts\nimport type { UserRoleName } from './users';\n\nexport interface AuthUser {\n  id: string;\n  email: string | null;\n  full_name: string | null;\n  phone: string | null;\n  email_verified: number | boolean;\n  is_active: number | boolean;\n  role: UserRoleName;\n}\n\nexport interface AuthTokenResponse {\n  access_token: string;\n  token_type: string;\n  user: AuthUser;\n}\n\nexport interface AuthStatusResponse {\n  authenticated: boolean;\n  is_admin: boolean;\n  user?: {\n    id: string;\n    email: string | null;\n    role: UserRoleName;\n  };\n}\n\nexport interface AuthMeResponse {\n  user: {\n    id: string;\n    email: string | null;\n    role: UserRoleName;\n  };\n}\n\nexport type AuthMeNormalized = {\n  id: string;\n  email: string | null;\n  role: UserRoleName;\n  isAdmin: boolean;\n  authenticated: boolean;\n};\n\nexport interface PasswordResetRequestResponse {\n  success: boolean;\n  message?: string;\n  token?: string;\n}\n\nexport interface PasswordResetConfirmResponse {\n  success: boolean;\n  message: string;\n}\n\nexport interface AuthTokenRefreshResponse {\n  access_token: string;\n  token_type: string;\n}\n\nexport interface AuthSignupBody {\n  email: string;\n  password: string;\n  full_name?: string;\n  phone?: string;\n  options?: {\n    data?: Record<string, unknown>;\n  };\n}\n\nexport interface AuthTokenBody {\n  email: string;\n  password: string;\n  grant_type?: 'password';\n}\n\nexport interface AuthUpdateBody {\n  email?: string;\n  password?: string;\n}\n\nexport interface PasswordResetRequestBody {\n  email: string;\n}\n\nexport interface PasswordResetConfirmBody {\n  token: string;\n  password: string;\n}\n\nconst roleList: UserRoleName[] = ['admin', 'moderator', 'user'];\n\nconst coerceRole = (v: unknown): UserRoleName => {\n  const s = String(v ?? '').trim().toLowerCase();\n  return (roleList as string[]).includes(s) ? (s as UserRoleName) : 'user';\n};\n\nexport function normalizeMeFromStatus(res?: AuthStatusResponse | null): AuthMeNormalized | null {\n  if (!res || res.authenticated !== true) return null;\n  const user = (res as any).user ?? {};\n  const id = String(user.id ?? '').trim();\n  if (!id) return null;\n  const role = coerceRole(user.role);\n  const isAdmin = (res as any).is_admin === true || role === 'admin';\n  return {\n    id,\n    email: user.email ?? null,\n    role,\n    isAdmin,\n    authenticated: true,\n  };\n}\n","// src/integrations/shared/roles.admin.normalize.ts\nimport type { ApiRole, Role } from './roles.admin';\n\nconst toIso = (x: unknown): string => new Date(x as any).toISOString();\n\nconst tryParse = <T>(x: unknown): T => {\n  if (typeof x === 'string') {\n    try {\n      return JSON.parse(x) as T;\n    } catch {\n      return x as any as T;\n    }\n  }\n  return x as T;\n};\n\nexport const normalizeRole = (r: ApiRole): Role => ({\n  ...r,\n  permissions: Array.isArray(r.permissions)\n    ? r.permissions.map(String)\n    : tryParse<string[]>(r.permissions),\n  created_at: toIso(r.created_at),\n  updated_at: toIso(r.updated_at),\n});\n","// src/integrations/shared/adminUsers.normalize.ts\nimport type { AdminUserRaw, AdminUserView, UserRoleName } from './users';\n\nconst asRole = (v: unknown): UserRoleName | null => {\n  const s = String(v ?? '').toLowerCase();\n  return s === 'admin' || s === 'moderator' || s === 'user' ? (s as UserRoleName) : null;\n};\n\nconst toBool = (v: unknown): boolean => (typeof v === 'boolean' ? v : Number(v ?? 0) === 1);\n\nconst coerceRoles = (raw: AdminUserRaw): UserRoleName[] => {\n  if ((raw as any).role != null) {\n    const r = asRole((raw as any).role);\n    return r ? [r] : [];\n  }\n\n  const src = (raw as any).roles;\n\n  if (Array.isArray(src)) return src.map(asRole).filter(Boolean) as UserRoleName[];\n\n  if (typeof src === 'string' && src.trim()) {\n    try {\n      const parsed = JSON.parse(src);\n      if (Array.isArray(parsed)) return parsed.map(asRole).filter(Boolean) as UserRoleName[];\n      const single = asRole(parsed);\n      return single ? [single] : [];\n    } catch {\n      const single = asRole(src);\n      return single ? [single] : [];\n    }\n  }\n\n  return [];\n};\n\nconst pickLastSignIn = (u: AdminUserRaw): string | null => {\n  const a = (u as any).last_sign_in_at;\n  const b = (u as any).last_login_at;\n  return (a ?? b ?? null) as any;\n};\n\nexport const normalizeAdminUser = (u: AdminUserRaw): AdminUserView => ({\n  id: String((u as any).id),\n  email: (u as any).email ?? null,\n\n  full_name: (u as any).full_name ?? null,\n  phone: (u as any).phone ?? null,\n\n  is_active: toBool((u as any).is_active),\n  email_verified: toBool((u as any).email_verified),\n\n  created_at: (u as any).created_at ?? null,\n  last_sign_in_at: pickLastSignIn(u),\n\n  roles: coerceRoles(u),\n});\n","// src/integrations/shared/profiles.normalize.ts\nimport type { Profile } from './profiles';\n\nexport const normalizeProfile = (x: any): Profile => ({\n  id: String(x?.id ?? ''),\n\n  full_name: x?.full_name ?? null,\n  phone: x?.phone ?? null,\n  avatar_url: x?.avatar_url ?? null,\n\n  address_line1: x?.address_line1 ?? null,\n  address_line2: x?.address_line2 ?? null,\n  city: x?.city ?? null,\n  country: x?.country ?? null,\n  postal_code: x?.postal_code ?? null,\n\n  website_url: x?.website_url ?? null,\n  instagram_url: x?.instagram_url ?? null,\n  facebook_url: x?.facebook_url ?? null,\n  x_url: x?.x_url ?? null,\n  linkedin_url: x?.linkedin_url ?? null,\n  youtube_url: x?.youtube_url ?? null,\n  tiktok_url: x?.tiktok_url ?? null,\n\n  created_at: String(x?.created_at ?? new Date().toISOString()),\n  updated_at: String(x?.updated_at ?? new Date().toISOString()),\n});\n","// =============================================================\n// FILE: src/integrations/types/bookings.types.ts\n// =============================================================\n\nexport type BookingStatus =\n  | 'new'\n  | 'confirmed'\n  | 'rejected'\n  | 'completed'\n  | 'cancelled'\n  | 'expired';\n\n/** API: merged booking shape returned by admin list/get */\nexport interface BookingMergedDto {\n  id: string;\n\n  // customer\n  name: string;\n  email: string;\n  phone: string;\n  locale: string;\n\n  customer_message: string | null;\n\n  // relations\n  service_id: string | null;\n  resource_id: string;\n  slot_id: string | null;\n\n  appointment_date: string; // YYYY-MM-DD\n  appointment_time: string | null; // HH:mm or null\n\n  status: BookingStatus | string;\n  is_read: number | boolean;\n\n  admin_note: string | null;\n  decided_at: string | Date | null;\n  decided_by: string | null;\n  decision_note: string | null;\n\n  email_last_sent_at: string | Date | null;\n  email_last_template_key: string | null;\n  email_last_to: string | null;\n  email_last_subject: string | null;\n  email_last_error: string | null;\n\n  created_at: string | Date;\n  updated_at: string | Date;\n\n  // merged labels\n  resource_title: string | null;\n  service_title: string | null;\n}\n\n/** API: raw booking row (admin create may return this if merged missing) */\nexport interface BookingDto {\n  id: string;\n\n  name: string;\n  email: string;\n  phone: string;\n\n  locale: string;\n\n  customer_message: string | null;\n\n  service_id: string | null;\n  resource_id: string;\n  slot_id: string | null;\n\n  appointment_date: string;\n  appointment_time: string | null;\n\n  status: BookingStatus | string;\n  is_read: number | boolean;\n\n  admin_note: string | null;\n  decided_at: string | Date | null;\n  decided_by: string | null;\n  decision_note: string | null;\n\n  email_last_sent_at: string | Date | null;\n  email_last_template_key: string | null;\n  email_last_to: string | null;\n  email_last_subject: string | null;\n  email_last_error: string | null;\n\n  created_at: string | Date;\n  updated_at: string | Date;\n}\n\n/** UI normalize edilmiş booking (merged) */\nexport interface BookingMerged {\n  id: string;\n\n  name: string;\n  email: string;\n  phone: string;\n  locale: string;\n\n  customer_message: string | null;\n\n  service_id: string | null;\n  resource_id: string;\n  slot_id: string | null;\n\n  appointment_date: string;\n  appointment_time: string | null;\n\n  status: BookingStatus | string;\n  is_read: boolean;\n\n  admin_note: string | null;\n  decided_at: string | null;\n  decided_by: string | null;\n  decision_note: string | null;\n\n  email_last_sent_at: string | null;\n  email_last_template_key: string | null;\n  email_last_to: string | null;\n  email_last_subject: string | null;\n  email_last_error: string | null;\n\n  created_at: string;\n  updated_at: string;\n\n  resource_title: string | null;\n  service_title: string | null;\n}\n\nfunction toIso(v: unknown): string {\n  if (!v) return '';\n  if (typeof v === 'string') return v;\n  // Date-like\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const d = (v as any)?.toISOString?.();\n  return typeof d === 'string' ? d : '';\n}\n\nfunction toNullIso(v: unknown): string | null {\n  const s = toIso(v);\n  return s ? s : null;\n}\n\nfunction toBool01(v: unknown): boolean {\n  if (v === true) return true;\n  if (v === false) return false;\n  const n = Number(v ?? 0);\n  return n === 1;\n}\n\nfunction toStr(v: unknown): string {\n  return String(v ?? '').trim();\n}\n\nfunction toNullStr(v: unknown): string | null {\n  const s = toStr(v);\n  return s ? s : null;\n}\n\n/** BookingMergedDto -> BookingMerged */\nexport const normalizeBookingMerged = (dto: BookingMergedDto): BookingMerged => ({\n  id: toStr(dto.id),\n\n  name: toStr(dto.name),\n  email: toStr(dto.email),\n  phone: toStr(dto.phone),\n  locale: toStr(dto.locale) || 'de',\n\n  customer_message: dto.customer_message ? toStr(dto.customer_message) : null,\n\n  service_id: dto.service_id ? toStr(dto.service_id) : null,\n  resource_id: toStr(dto.resource_id),\n  slot_id: dto.slot_id ? toStr(dto.slot_id) : null,\n\n  appointment_date: toStr(dto.appointment_date),\n  appointment_time: dto.appointment_time ? toStr(dto.appointment_time) : null,\n\n  status: toStr(dto.status),\n  is_read: toBool01(dto.is_read),\n\n  admin_note: dto.admin_note ? toStr(dto.admin_note) : null,\n  decided_at: toNullIso(dto.decided_at),\n  decided_by: toNullStr(dto.decided_by),\n  decision_note: dto.decision_note ? toStr(dto.decision_note) : null,\n\n  email_last_sent_at: toNullIso(dto.email_last_sent_at),\n  email_last_template_key: toNullStr(dto.email_last_template_key),\n  email_last_to: toNullStr(dto.email_last_to),\n  email_last_subject: toNullStr(dto.email_last_subject),\n  email_last_error: dto.email_last_error ? toStr(dto.email_last_error) : null,\n\n  created_at: toIso(dto.created_at),\n  updated_at: toIso(dto.updated_at),\n\n  resource_title: dto.resource_title ? toStr(dto.resource_title) : null,\n  service_title: dto.service_title ? toStr(dto.service_title) : null,\n});\n\n/** BookingDto -> BookingMerged (resource/service titles yoksa null) */\nexport const normalizeBookingRowToMerged = (dto: BookingDto): BookingMerged => ({\n  id: toStr(dto.id),\n\n  name: toStr(dto.name),\n  email: toStr(dto.email),\n  phone: toStr(dto.phone),\n  locale: toStr(dto.locale) || 'de',\n\n  customer_message: dto.customer_message ? toStr(dto.customer_message) : null,\n\n  service_id: dto.service_id ? toStr(dto.service_id) : null,\n  resource_id: toStr(dto.resource_id),\n  slot_id: dto.slot_id ? toStr(dto.slot_id) : null,\n\n  appointment_date: toStr(dto.appointment_date),\n  appointment_time: dto.appointment_time ? toStr(dto.appointment_time) : null,\n\n  status: toStr(dto.status),\n  is_read: toBool01(dto.is_read),\n\n  admin_note: dto.admin_note ? toStr(dto.admin_note) : null,\n  decided_at: toNullIso(dto.decided_at),\n  decided_by: toNullStr(dto.decided_by),\n  decision_note: dto.decision_note ? toStr(dto.decision_note) : null,\n\n  email_last_sent_at: toNullIso(dto.email_last_sent_at),\n  email_last_template_key: toNullStr(dto.email_last_template_key),\n  email_last_to: toNullStr(dto.email_last_to),\n  email_last_subject: toNullStr(dto.email_last_subject),\n  email_last_error: dto.email_last_error ? toStr(dto.email_last_error) : null,\n\n  created_at: toIso(dto.created_at),\n  updated_at: toIso(dto.updated_at),\n\n  resource_title: null,\n  service_title: null,\n});\n\n/** LIST query params — listBookingsQuerySchema ile uyumlu */\nexport interface BookingListQueryParams {\n  q?: string;\n  status?: string;\n  is_read?: boolean;\n\n  appointment_date?: string; // YYYY-MM-DD\n  appointment_time?: string; // HH:mm\n\n  service_id?: string;\n  resource_id?: string;\n\n  locale?: string;\n\n  limit?: number;\n  offset?: number;\n}\n\n/** PUBLIC create payload — publicCreateBookingSchema ile uyumlu */\nexport interface BookingPublicCreatePayload {\n  locale?: string;\n\n  name: string;\n  email: string;\n  phone: string;\n\n  appointment_date: string; // YYYY-MM-DD\n  appointment_time: string; // HH:mm\n\n  resource_id: string;\n  service_id?: string;\n\n  message?: string;\n\n  customer_message?: string;\n}\n\n/** PUBLIC create result — controller { ok, id, status } */\nexport interface BookingPublicCreateResult {\n  ok: boolean;\n  id: string;\n  status: BookingStatus | string;\n}\n\n/** ADMIN create payload — adminCreateBookingSchema ile uyumlu */\nexport interface BookingAdminCreatePayload extends BookingPublicCreatePayload {\n  status?: BookingStatus | string;\n  is_read?: boolean;\n  admin_note?: string;\n}\n\n/** ADMIN update payload — adminUpdateBookingSchema ile uyumlu */\nexport interface BookingAdminUpdatePayload {\n  name?: string;\n  email?: string;\n  phone?: string;\n\n  locale?: string;\n\n  customer_message?: string | null;\n\n  service_id?: string | null;\n  resource_id?: string | null;\n\n  appointment_date?: string;\n  appointment_time?: string | null;\n\n  status?: BookingStatus | string;\n  is_read?: boolean;\n\n  admin_note?: string | null;\n  decision_note?: string | null;\n}\n","// =============================================================\n// FILE: src/integrations/types/email_templates.types.ts\n// Email Templates – Tipler (public + admin)\n// =============================================================\n\nimport { BoolLike } from '@/integrations/shared';\n\n/* -------------------- PUBLIC DTO'lar -------------------- */\n\nexport interface EmailTemplatePublicDto {\n  id: string;\n  key: string;\n  name: string;\n  subject: string;\n  content_html: string;\n  variables: string[];\n  is_active: boolean;\n  locale: string | null;\n  created_at: string | Date;\n  updated_at: string | Date;\n}\n\nexport interface RenderedEmailTemplateDto {\n  id: string;\n  key: string;\n  name: string;\n  subject: string;\n  body: string;\n  required_variables: string[];\n  missing_variables: string[];\n  updated_at: string | Date;\n  locale: string | null;\n}\n\nexport interface EmailTemplatePublicListQueryParams {\n  q?: string;\n  locale?: string | null;\n  is_active?: BoolLike;\n}\n\nexport interface RenderEmailTemplateByKeyPayload {\n  key: string;\n  locale?: string | null;\n  params?: Record<string, unknown>;\n}\n\n/* -------------------- ADMIN DTO'lar -------------------- */\n\nexport interface EmailTemplateAdminListItemDto {\n  id: string;\n  template_key: string;\n  template_name: string | null;\n  subject: string | null;\n  content: string | null;\n  locale: string | null;\n  variables: string[] | null;\n  detected_variables: string[];\n  is_active: boolean;\n  created_at: string | Date;\n  updated_at: string | Date;\n}\n\nexport interface EmailTemplateAdminTranslationDto {\n  id: string;\n  locale: string;\n  template_name: string;\n  subject: string;\n  content: string;\n  detected_variables: string[];\n  created_at: string | Date;\n  updated_at: string | Date;\n}\n\nexport interface EmailTemplateAdminDetailDto {\n  id: string;\n  template_key: string;\n  variables: string[] | null;\n  is_active: boolean;\n  created_at: string | Date;\n  updated_at: string | Date;\n  translations: EmailTemplateAdminTranslationDto[];\n}\n\nexport interface EmailTemplateAdminListQueryParams {\n  q?: string;\n  locale?: string | null;\n  is_active?: BoolLike;\n  template_key?: string;\n  order_by?: string;\n  order_dir?: 'asc' | 'desc';\n}\n\nexport interface EmailTemplateAdminCreatePayload {\n  template_key: string;\n\n  template_name: string;\n  subject: string;\n  content: string;\n\n  variables?: string[] | string | null;\n  is_active?: BoolLike;\n  locale?: string | null;\n}\n\nexport interface EmailTemplateAdminUpdatePayload {\n  template_key?: string;\n  variables?: string[] | string | null;\n  is_active?: BoolLike;\n\n  template_name?: string;\n  subject?: string;\n  content?: string;\n\n  locale?: string | null;\n}\n\nexport interface EmailTemplateAdminUpdateArgs {\n  id: string;\n  patch: EmailTemplateAdminUpdatePayload;\n}\n\nexport type EmailTemplateAdminOrderBy = 'updated_at' | 'created_at' | 'template_key' | 'locale';\n\n/* -------------------- UI FORM STATE (Admin Panel) -------------------- */\n/**\n * EmailTemplateFormPage.tsx içinde kullanılan form state tipi.\n * API kontratı değil, admin UI form değerleri için export edilir.\n */\nexport type EmailTemplateFormValues = {\n  template_key: string;\n  is_active: boolean;\n\n  locale: string;\n  template_name: string;\n  subject: string;\n  content: string;\n\n  variablesValue: unknown;\n  detectedVariables: string[];\n\n  parentCreatedAt?: string | Date;\n  parentUpdatedAt?: string | Date;\n  translationCreatedAt?: string | Date;\n  translationUpdatedAt?: string | Date;\n};\n\n/* -------------------- Helper fonksiyonlar (endpoint'ler için) -------------------- */\n\n/**\n * List query parametrelerini API formatına çevir\n */\nexport function toEmailTemplatesQuery(\n  params: EmailTemplateAdminListQueryParams\n): Record<string, unknown> {\n  const result: Record<string, unknown> = {};\n  if (params.locale) result.locale = params.locale;\n  if (params.is_active !== undefined) result.is_active = params.is_active;\n  if (params.template_key) result.template_key = params.template_key;\n  if (params.order_by) result.order_by = params.order_by;\n  if (params.order_dir) result.order_dir = params.order_dir;\n  return result;\n}\n\n/**\n * Create/Update body hazırla\n */\nexport function toEmailTemplateWriteBody(\n  payload: EmailTemplateAdminCreatePayload | EmailTemplateAdminUpdatePayload\n): Record<string, unknown> {\n  const result: Record<string, unknown> = {};\n  if ('template_key' in payload && payload.template_key) {\n    result.template_key = payload.template_key;\n  }\n  if (payload.is_active !== undefined) result.is_active = payload.is_active;\n  if (payload.locale) result.locale = payload.locale;\n  if (payload.template_name) result.template_name = payload.template_name;\n  if (payload.subject !== undefined) result.subject = payload.subject;\n  if (payload.content !== undefined) result.content = payload.content;\n  return result;\n}\n\n/**\n * List response normalizer\n */\nexport function normalizeEmailTemplateAdminList(res: unknown): EmailTemplateAdminListItemDto[] {\n  if (!Array.isArray(res)) return [];\n  return res.map((item: any) => ({\n    id: String(item.id ?? ''),\n    template_key: String(item.template_key ?? ''),\n    is_active: Boolean(item.is_active),\n    locale: String(item.locale ?? 'tr'),\n    template_name: String(item.template_name ?? ''),\n    subject: String(item.subject ?? ''),\n    content: item.content ?? null,\n    variables: item.variables ?? null,\n    detected_variables: Array.isArray(item.detected_variables) ? item.detected_variables : [],\n    created_at: String(item.created_at ?? ''),\n    updated_at: String(item.updated_at ?? ''),\n  }));\n}\n\n/**\n * Detail response normalizer\n */\nexport function normalizeEmailTemplateAdminDetail(res: unknown): EmailTemplateAdminDetailDto {\n  const item: any = res ?? {};\n  return {\n    id: String(item.id ?? ''),\n    template_key: String(item.template_key ?? ''),\n    is_active: Boolean(item.is_active),\n    variables: item.variables ?? null,\n    created_at: String(item.created_at ?? ''),\n    updated_at: String(item.updated_at ?? ''),\n    translations: Array.isArray(item.translations)\n      ? item.translations.map((t: any) => ({\n          id: String(t.id ?? ''),\n          locale: String(t.locale ?? 'tr'),\n          template_name: String(t.template_name ?? ''),\n          subject: String(t.subject ?? ''),\n          content: String(t.content ?? ''),\n          detected_variables: Array.isArray(t.detected_variables) ? t.detected_variables : [],\n          created_at: String(t.created_at ?? ''),\n          updated_at: String(t.updated_at ?? ''),\n        }))\n      : [],\n  };\n}\n","// ===================================================================\n// FILE: src/integrations/shared/newsletter.ts\n// FINAL — Newsletter types + normalizers (Single Language)\n// Backend aligned with:\n// PUBLIC:\n// - POST /newsletter/subscribe        -> returns mapped row (created/updated)\n// - POST /newsletter/unsubscribe      -> { ok: true }\n// ADMIN:\n// - GET    /admin/newsletter          -> array of admin mapped rows + headers: x-total-count\n// - GET    /admin/newsletter/:id      -> admin mapped row\n// - PATCH  /admin/newsletter/:id      -> admin mapped row\n// - DELETE /admin/newsletter/:id      -> 204\n// Notes:\n// - meta stored as JSON string in DB, backend returns meta parsed (object|null)\n// - is_verified boolean in backend outputs\n// - is_subscribed only exists in admin outputs\n// ===================================================================\n\nimport type { BoolLike } from '@/integrations/shared';\nimport { toBool } from '@/integrations/shared';\n// ----------------------------- Public Types -----------------------------\n\nexport type NewsletterPublicSubscribeBody = {\n  email: string;\n  meta?: Record<string, any>;\n};\n\nexport type NewsletterPublicUnsubscribeBody = {\n  email: string;\n};\n\nexport type NewsletterPublicSubscriber = {\n  id: string;\n  email: string;\n\n  is_verified: boolean;\n  meta: Record<string, any> | null;\n\n  created_at: string;\n  updated_at: string;\n  unsubscribed_at: string | null;\n\n  // legacy-ish aliases (backend sends)\n  subscribeDate?: string;\n  unsubscribeDate?: string | null;\n};\n\nexport type NewsletterUnsubscribeResp = { ok: true };\n\n// ----------------------------- Admin Types -----------------------------\n\nexport type NewsletterAdminListParams = {\n  q?: string; // email search\n  email?: string;\n  verified?: BoolLike; // is_verified\n  subscribed?: BoolLike; // unsubscribed_at NULL / NOT NULL\n\n  limit?: number;\n  offset?: number;\n\n  orderBy?: 'created_at' | 'updated_at' | 'email' | 'verified';\n  order?: 'asc' | 'desc';\n};\n\nexport type NewsletterAdminUpdateBody = {\n  verified?: BoolLike;\n  subscribed?: BoolLike; // true => active (unsubscribed_at null), false => unsubscribed_at now\n  meta?: Record<string, any> | null;\n};\n\nexport type NewsletterAdminSubscriber = {\n  id: string;\n  email: string;\n\n  is_verified: boolean;\n  is_subscribed: boolean;\n\n  meta: Record<string, any> | null;\n\n  created_at: string;\n  updated_at: string;\n  unsubscribed_at: string | null;\n};\n\nexport type NewsletterAdminListResp = {\n  data: NewsletterAdminSubscriber[];\n  meta: { total: number | null; limit: number | null; offset: number | null };\n};\n\n// ----------------------------- Query/Body Mappers -----------------------------\n\n/**\n * Map admin list params to backend query.\n * Backend accepts verified/subscribed as boolLike, but we send 1/0 for stability.\n */\nexport const toNewsletterAdminListQuery = (\n  p: NewsletterAdminListParams = {},\n): Record<string, any> => {\n  const out: Record<string, any> = {};\n\n  if (p.q) out.q = p.q;\n  if (p.email) out.email = p.email;\n\n  if (typeof p.verified !== 'undefined') out.verified = toBool(p.verified) ? '1' : '0';\n  if (typeof p.subscribed !== 'undefined') out.subscribed = toBool(p.subscribed) ? '1' : '0';\n\n  if (typeof p.limit !== 'undefined') out.limit = p.limit;\n  if (typeof p.offset !== 'undefined') out.offset = p.offset;\n\n  if (p.orderBy) out.orderBy = p.orderBy;\n  if (p.order) out.order = p.order;\n\n  return out;\n};\n\n/**\n * Admin update body mapper.\n * Backend accepts boolLike; we send booleans for stability.\n */\nexport const toNewsletterAdminUpdateBody = (b: NewsletterAdminUpdateBody): Record<string, any> => {\n  const out: Record<string, any> = {};\n\n  if (typeof b.verified !== 'undefined') out.verified = toBool(b.verified);\n  if (typeof b.subscribed !== 'undefined') out.subscribed = toBool(b.subscribed);\n  if (typeof b.meta !== 'undefined') out.meta = b.meta;\n\n  return out;\n};\n\n/**\n * Public subscribe body mapper:\n * normalize email on client side is optional; backend already normalizes toLowerCase.\n */\nexport const toNewsletterSubscribeBody = (\n  b: NewsletterPublicSubscribeBody,\n): Record<string, any> => ({\n  email: b.email,\n  ...(typeof b.meta !== 'undefined' ? { meta: b.meta } : {}),\n});\n\nexport const toNewsletterUnsubscribeBody = (\n  b: NewsletterPublicUnsubscribeBody,\n): Record<string, any> => ({\n  email: b.email,\n});\n","// ===================================================================\n// FILE: src/integrations/shared/notifications.ts\n// FINAL — Notifications types + normalizers (Auth-required)\n// Backend routes (all requireAuth):\n// - GET    /notifications\n// - GET    /notifications/unread-count\n// - POST   /notifications\n// - PATCH  /notifications/:id\n// - POST   /notifications/mark-all-read\n// - DELETE /notifications/:id     (returns { ok: true })\n// Notes:\n// - is_read DB: 0/1, API returns number (likely) -> normalized boolean in view\n// - type DB: free string; DX union provided\n// ===================================================================\n\nimport type { BoolLike } from '@/integrations/shared';\nimport { toBool } from '@/integrations/shared';\n\nexport type NotificationType =\n  | 'order_created'\n  | 'order_paid'\n  | 'order_failed'\n  | 'booking_created'\n  | 'booking_status_changed'\n  | 'system'\n  | 'custom'\n  | (string & {});\n\n/** DB/API ham satır (tolerant) */\nexport type NotificationRow = {\n  id: string;\n  user_id: string;\n\n  title: string;\n  message: string;\n\n  type: string;\n\n  is_read: BoolLike;\n\n  created_at: string;\n};\n\n/** FE view (normalize edilmiş) */\nexport type NotificationView = {\n  id: string;\n  user_id: string;\n\n  title: string;\n  message: string;\n\n  type: NotificationType;\n\n  is_read: boolean;\n\n  created_at: string;\n};\n\n// ----------------------------- Requests / Responses -----------------------------\n\nexport type NotificationsListParams = {\n  is_read?: BoolLike;\n  type?: string;\n\n  limit?: number;\n  offset?: number;\n};\n\nexport type UnreadCountResp = { count: number };\n\nexport type CreateNotificationBody = {\n  /** optional: admin sends to another user; default auth user */\n  user_id?: string;\n  title: string;\n  message: string;\n  type: NotificationType;\n};\n\nexport type UpdateNotificationBody = {\n  is_read?: boolean;\n};\n\nexport type MarkAllReadBody = Record<string, never>;\n\nexport type OkResp = { ok: true };\n\n// ----------------------------- Mappers -----------------------------\n\nexport const toNotificationsListQuery = (p: NotificationsListParams = {}): Record<string, any> => {\n  const out: Record<string, any> = {};\n\n  if (typeof p.is_read !== 'undefined') out.is_read = toBool(p.is_read) ? '1' : '0';\n  if (p.type) out.type = p.type;\n\n  if (typeof p.limit === 'number') out.limit = p.limit;\n  if (typeof p.offset === 'number') out.offset = p.offset;\n\n  return out;\n};\n\nexport const toCreateNotificationBody = (b: CreateNotificationBody): Record<string, any> => ({\n  ...(b.user_id ? { user_id: b.user_id } : {}),\n  title: b.title,\n  message: b.message,\n  type: b.type,\n});\n\nexport const toUpdateNotificationBody = (b: UpdateNotificationBody): Record<string, any> => {\n  const out: Record<string, any> = {};\n  if (typeof b.is_read !== 'undefined') out.is_read = b.is_read;\n  return out;\n};\n","// src/integrations/shared/normalizers.ts\n\nimport {\n  NewsletterAdminSubscriber,\n  NewsletterPublicSubscriber,\n  NotificationType,\n  NotificationView,\n} from '@/integrations/shared';\n\nimport { toBool } from '@/integrations/shared';\n\n// ----------------------------- Helpers -----------------------------\n\nconst safeStr = (v: unknown) => String(v ?? '').trim();\n\nconst asNullableString = (v: unknown): string | null => {\n  const s = safeStr(v);\n  return s ? s : null;\n};\n\nconst asMeta = (v: unknown): Record<string, any> | null => {\n  if (!v) return null;\n  if (typeof v === 'object' && !Array.isArray(v)) return v as any;\n  // tolerate string JSON (in case some endpoints return raw)\n  if (typeof v === 'string') {\n    const s = v.trim();\n    if (!s) return null;\n    try {\n      const parsed = JSON.parse(s);\n      if (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) return parsed as any;\n      return null;\n    } catch {\n      return null;\n    }\n  }\n  return null;\n};\n\n// ----------------------------- Normalizers -----------------------------\n\nexport const normalizeNewsletterPublicSubscriber = (raw: unknown): NewsletterPublicSubscriber => {\n  const r = (raw ?? {}) as any;\n\n  return {\n    id: safeStr(r.id),\n    email: safeStr(r.email),\n\n    is_verified: toBool(r.is_verified),\n    meta: asMeta(r.meta),\n\n    created_at: safeStr(r.created_at),\n    updated_at: safeStr(r.updated_at),\n    unsubscribed_at: asNullableString(r.unsubscribed_at),\n\n    // backend includes these aliases; keep if present\n    ...(typeof r.subscribeDate !== 'undefined' ? { subscribeDate: safeStr(r.subscribeDate) } : {}),\n    ...(typeof r.unsubscribeDate !== 'undefined'\n      ? { unsubscribeDate: asNullableString(r.unsubscribeDate) }\n      : {}),\n  };\n};\n\nexport const normalizeNewsletterAdminSubscriber = (raw: unknown): NewsletterAdminSubscriber => {\n  const r = (raw ?? {}) as any;\n\n  return {\n    id: safeStr(r.id),\n    email: safeStr(r.email),\n\n    is_verified: toBool(r.is_verified),\n    is_subscribed: toBool(r.is_subscribed),\n\n    meta: asMeta(r.meta),\n\n    created_at: safeStr(r.created_at),\n    updated_at: safeStr(r.updated_at),\n    unsubscribed_at: asNullableString(r.unsubscribed_at),\n  };\n};\n\nexport const normalizeNewsletterAdminList = (raw: unknown): NewsletterAdminSubscriber[] =>\n  Array.isArray(raw) ? raw.map(normalizeNewsletterAdminSubscriber) : [];\n\n// ----------------------------- Helpers -----------------------------\n\nconst asType = (v: unknown): NotificationType => {\n  const s = safeStr(v);\n  return (s || 'system') as NotificationType;\n};\n\n// ----------------------------- Normalizers -----------------------------\n\nexport const normalizeNotification = (raw: unknown): NotificationView => {\n  const r = (raw ?? {}) as any;\n\n  return {\n    id: safeStr(r.id),\n    user_id: safeStr(r.user_id),\n\n    title: safeStr(r.title),\n    message: String(r.message ?? ''),\n\n    type: asType(r.type),\n\n    is_read: toBool(r.is_read),\n\n    created_at: safeStr(r.created_at),\n  };\n};\n\nexport const normalizeNotificationsList = (raw: unknown): NotificationView[] =>\n  Array.isArray(raw) ? raw.map(normalizeNotification) : [];\n","// ===================================================================\n// FILE: src/integrations/shared/offers.ts\n// FINAL — Offers types + normalizers (Single Language, Service-only)\n// Backend routes:\n// PUBLIC:\n// - POST   /offers\n//\n// ADMIN (auth+admin):\n// - GET    /offers\n// - GET    /offers/:id\n// - POST   /offers\n// - PATCH  /offers/:id\n// - DELETE /offers/:id\n// - POST   /offers/:id/pdf\n// - POST   /offers/:id/email\n// - POST   /offers/:id/send\n// ===================================================================\n\nimport type { BoolLike } from '@/integrations/shared';\nimport { toBool, toNumber, parseJsonObject } from '@/integrations/shared';\n\nexport const OFFER_STATUSES = [\n  'new',\n  'in_review',\n  'quoted',\n  'sent',\n  'accepted',\n  'rejected',\n  'cancelled',\n] as const;\n\nexport type OfferStatus = (typeof OFFER_STATUSES)[number];\n\nexport type OfferListQuery = {\n  // ordering\n  order?: string; // e.g. created_at.desc\n  sort?: 'created_at' | 'updated_at';\n  orderDir?: 'asc' | 'desc';\n\n  limit?: number;\n  offset?: number;\n\n  status?: OfferStatus;\n\n  country_code?: string;\n  q?: string;\n  email?: string;\n  service_id?: string;\n\n  created_from?: string;\n  created_to?: string;\n};\n\nexport type OfferPublicCreateBody = {\n  country_code?: string;\n\n  customer_name: string;\n  company_name?: string | null;\n\n  email: string;\n  phone?: string | null;\n\n  subject?: string | null;\n  message?: string | null;\n\n  service_id?: string | null;\n\n  // UI convenience; backend ignores for public if service_id exists (sets from DB)\n  service_title?: string | null;\n\n  form_data?: Record<string, any>;\n\n  consent_marketing?: BoolLike;\n  consent_terms?: BoolLike;\n};\n\nexport type OfferAdminUpsertBody = OfferPublicCreateBody & {\n  status?: OfferStatus;\n\n  currency?: string; // default TRY (admin) / schema default EUR but controller sends TRY\n  net_total?: number | string | null;\n  vat_rate?: number | string | null;\n  vat_total?: number | string | null;\n  shipping_total?: number | string | null;\n  gross_total?: number | string | null;\n\n  offer_no?: string | null;\n  valid_until?: string | null; // ISO\n\n  admin_notes?: string | null;\n\n  pdf_url?: string | null;\n  pdf_asset_id?: string | null;\n\n  email_sent_at?: string | null; // ISO\n};\n\nexport type OfferAdminPatchBody = Partial<OfferAdminUpsertBody>;\n\nexport type OfferRowRaw = {\n  id: string;\n  offer_no?: string | null;\n  status: string;\n\n  country_code?: string | null;\n\n  customer_name: string;\n  company_name?: string | null;\n  email: string;\n  phone?: string | null;\n\n  subject?: string | null;\n  message?: string | null;\n\n  service_id?: string | null;\n  service_title?: string | null;\n\n  form_data?: string | Record<string, unknown> | null;\n  form_data_parsed?: Record<string, unknown> | null;\n\n  consent_marketing?: number | boolean | null;\n  consent_terms?: number | boolean | null;\n\n  currency?: string | null;\n  net_total?: number | string | null;\n  vat_rate?: number | string | null;\n  vat_total?: number | string | null;\n  shipping_total?: number | string | null;\n  gross_total?: number | string | null;\n\n  valid_until?: string | Date | null;\n\n  admin_notes?: string | null;\n\n  pdf_url?: string | null;\n  pdf_asset_id?: string | null;\n\n  email_sent_at?: string | Date | null;\n\n  created_at: string | Date;\n  updated_at: string | Date;\n};\n\nexport type OfferView = {\n  id: string;\n  offer_no: string | null;\n  status: OfferStatus;\n\n  country_code: string | null;\n\n  customer_name: string;\n  company_name: string | null;\n  email: string;\n  phone: string | null;\n\n  subject: string | null;\n  message: string | null;\n\n  service_id: string | null;\n  service_title: string | null;\n\n  form_data: Record<string, any> | null;\n\n  consent_marketing: boolean;\n  consent_terms: boolean;\n\n  currency: string | null;\n  net_total: number | null;\n  vat_rate: number | null;\n  vat_total: number | null;\n  shipping_total: number | null;\n  gross_total: number | null;\n\n  valid_until: string | null;\n\n  admin_notes: string | null;\n\n  pdf_url: string | null;\n  pdf_asset_id: string | null;\n\n  email_sent_at: string | null;\n\n  created_at: string;\n  updated_at: string;\n};\n\nexport type OfferAdminSendResult = OfferView; // controller returns final row\n\n// ----------------------------- helpers -----------------------------\n\nconst s = (v: unknown) => String(v ?? '').trim();\n\nexport const toStatus = (v: unknown): OfferStatus => {\n  const x = s(v) as OfferStatus;\n  return (OFFER_STATUSES as readonly string[]).includes(x) ? x : 'new';\n};\n\nexport const toIso = (v: unknown): string | null => {\n  if (!v) return null;\n  if (v instanceof Date) return v.toISOString();\n  const x = s(v);\n  return x || null;\n};\n\nexport const normalizeOffer = (raw: unknown): OfferView => {\n  const r = (raw ?? {}) as OfferRowRaw;\n\n  // repository list returns form_data_parsed; getOffer returns also parsed\n  const formObj = parseJsonObject(r.form_data_parsed ?? r.form_data ?? null);\n\n  return {\n    id: s(r.id),\n    offer_no: (r.offer_no ?? null) ? s(r.offer_no) : null,\n    status: toStatus(r.status),\n\n    country_code: (r.country_code ?? null) ? s(r.country_code) : null,\n\n    customer_name: s(r.customer_name),\n    company_name: r.company_name == null ? null : s(r.company_name),\n    email: s(r.email),\n    phone: r.phone == null ? null : s(r.phone),\n\n    subject: r.subject == null ? null : s(r.subject),\n    message: r.message == null ? null : String(r.message ?? ''),\n\n    service_id: r.service_id == null ? null : s(r.service_id),\n    service_title: r.service_title == null ? null : s(r.service_title),\n\n    form_data: formObj,\n\n    consent_marketing: toBool(r.consent_marketing),\n    consent_terms: toBool(r.consent_terms),\n\n    currency: r.currency == null ? null : s(r.currency),\n    net_total: toNumber(r.net_total),\n    vat_rate: toNumber(r.vat_rate),\n    vat_total: toNumber(r.vat_total),\n    shipping_total: toNumber(r.shipping_total),\n    gross_total: toNumber(r.gross_total),\n\n    valid_until: toIso(r.valid_until),\n\n    admin_notes: r.admin_notes == null ? null : String(r.admin_notes ?? ''),\n\n    pdf_url: r.pdf_url == null ? null : s(r.pdf_url),\n    pdf_asset_id: r.pdf_asset_id == null ? null : s(r.pdf_asset_id),\n\n    email_sent_at: toIso(r.email_sent_at),\n\n    created_at: toIso(r.created_at) ?? '',\n    updated_at: toIso(r.updated_at) ?? '',\n  };\n};\n\nexport const normalizeOfferList = (raw: unknown): OfferView[] =>\n  Array.isArray(raw) ? raw.map(normalizeOffer) : [];\n\n// ----------------------------- request mappers -----------------------------\n\nexport const toOfferListQueryParams = (q: OfferListQuery = {}): Record<string, any> => {\n  const out: Record<string, any> = {};\n\n  if (q.order) out.order = q.order;\n  if (q.sort) out.sort = q.sort;\n  if (q.orderDir) out.orderDir = q.orderDir;\n\n  if (typeof q.limit === 'number') out.limit = q.limit;\n  if (typeof q.offset === 'number') out.offset = q.offset;\n\n  if (q.status) out.status = q.status;\n\n  if (q.country_code) out.country_code = q.country_code;\n  if (q.q) out.q = q.q;\n  if (q.email) out.email = q.email;\n  if (q.service_id) out.service_id = q.service_id;\n\n  if (q.created_from) out.created_from = q.created_from;\n  if (q.created_to) out.created_to = q.created_to;\n\n  return out;\n};\n\nexport const toOfferPublicCreateBody = (b: OfferPublicCreateBody): Record<string, any> => ({\n  ...(b.country_code ? { country_code: b.country_code } : {}),\n  customer_name: b.customer_name,\n  company_name: b.company_name ?? null,\n  email: b.email,\n  phone: b.phone ?? null,\n  subject: b.subject ?? null,\n  message: b.message ?? null,\n  service_id: b.service_id ?? null,\n  service_title: b.service_title ?? null,\n  form_data: b.form_data ?? {},\n  ...(typeof b.consent_marketing !== 'undefined' ? { consent_marketing: b.consent_marketing } : {}),\n  ...(typeof b.consent_terms !== 'undefined' ? { consent_terms: b.consent_terms } : {}),\n});\n\nexport const toOfferAdminUpsertBody = (b: OfferAdminUpsertBody): Record<string, any> => ({\n  ...toOfferPublicCreateBody(b),\n  ...(b.status ? { status: b.status } : {}),\n  ...(b.currency ? { currency: b.currency } : {}),\n  ...(typeof b.net_total !== 'undefined' ? { net_total: b.net_total } : {}),\n  ...(typeof b.vat_rate !== 'undefined' ? { vat_rate: b.vat_rate } : {}),\n  ...(typeof b.vat_total !== 'undefined' ? { vat_total: b.vat_total } : {}),\n  ...(typeof b.shipping_total !== 'undefined' ? { shipping_total: b.shipping_total } : {}),\n  ...(typeof b.gross_total !== 'undefined' ? { gross_total: b.gross_total } : {}),\n  ...(typeof b.offer_no !== 'undefined' ? { offer_no: b.offer_no } : {}),\n  ...(typeof b.valid_until !== 'undefined' ? { valid_until: b.valid_until } : {}),\n  ...(typeof b.admin_notes !== 'undefined' ? { admin_notes: b.admin_notes } : {}),\n  ...(typeof b.pdf_url !== 'undefined' ? { pdf_url: b.pdf_url } : {}),\n  ...(typeof b.pdf_asset_id !== 'undefined' ? { pdf_asset_id: b.pdf_asset_id } : {}),\n  ...(typeof b.email_sent_at !== 'undefined' ? { email_sent_at: b.email_sent_at } : {}),\n});\n\nexport const toOfferAdminPatchBody = (b: OfferAdminPatchBody): Record<string, any> =>\n  toOfferAdminUpsertBody(b as any);\n\n// ----------------------------- meta/header helpers -----------------------------\n\nexport type ListMeta = {\n  total: number | null;\n  contentRange: string | null;\n};\n\nexport const readListMeta = (meta: any): ListMeta => {\n  const headers = meta?.response?.headers;\n  const totalRaw = headers?.get?.('x-total-count') ?? headers?.get?.('X-Total-Count') ?? null;\n  const cr = headers?.get?.('content-range') ?? headers?.get?.('Content-Range') ?? null;\n  const total = totalRaw != null ? Number(totalRaw) : NaN;\n  return {\n    total: Number.isFinite(total) ? total : null,\n    contentRange: cr ? String(cr) : null,\n  };\n};\n","// ===================================================================\n// FILE: src/integrations/shared/popups.ts\n// FINAL — Popups types + normalizers\n// Backend:\n// PUBLIC:\n// - GET  /popups\n// - GET  /popups/by-key/:key\n//\n// ADMIN (auth):\n// - GET    /admin/popups\n// - GET    /admin/popups/:id\n// - POST   /admin/popups\n// - PATCH  /admin/popups/:id\n// - DELETE /admin/popups/:id\n// ===================================================================\n\nimport type { BoolLike } from '@/integrations/shared';\nimport { toBool } from '@/integrations/shared';\n\nexport type PopupType = 'modal' | 'drawer' | 'banner' | 'toast';\nexport type PopupDisplayPages = 'all' | string; // DB varchar(24)\nexport type PopupDisplayFrequency = 'always' | 'once' | 'daily' | 'weekly';\n\nexport type PopupListQuery = {\n  is_active?: BoolLike;\n  type?: PopupType; // backend currently maps \"modal\" const; query accepts\n  order?: string; // created_at.desc etc.\n  limit?: string | number;\n  offset?: string | number;\n  select?: string;\n};\n\n/**\n * PUBLIC mapRow() çıktısı (controller.ts)\n * FE tarafında \"CampaignPopup\" gibi kullanılsın diye birebir.\n */\nexport type CampaignPopupRaw = {\n  id: string;\n  key?: string;\n\n  title?: string | null;\n\n  type: PopupType; // controller: \"modal\"\n  content_html?: string | null;\n  options?: Record<string, unknown> | null;\n\n  is_active: boolean;\n\n  start_at?: string | null;\n  end_at?: string | null;\n\n  created_at?: string | null;\n  updated_at?: string | null;\n\n  image_url?: string | null;\n  image_asset_id?: string | null;\n  image_alt?: string | null;\n\n  content?: string | null;\n  button_text?: string | null;\n  button_link?: string | null;\n\n  display_pages?: string | null;\n  display_frequency?: PopupDisplayFrequency | null;\n\n  delay_seconds?: number | null;\n  duration_seconds?: number | null;\n  priority?: number | null;\n\n  services_id?: string | null;\n};\n\nexport type CampaignPopupView = {\n  id: string;\n  key: string | null;\n\n  title: string | null;\n\n  type: PopupType;\n  content_html: string | null;\n  options: Record<string, unknown> | null;\n\n  is_active: boolean;\n\n  start_at: string | null;\n  end_at: string | null;\n\n  created_at: string | null;\n  updated_at: string | null;\n\n  image_url: string | null;\n  image_asset_id: string | null;\n  image_alt: string | null;\n\n  content: string | null;\n  button_text: string | null;\n  button_link: string | null;\n\n  display_pages: string; // default \"all\"\n  display_frequency: PopupDisplayFrequency; // default \"always\"\n\n  delay_seconds: number; // default 0\n  duration_seconds: number | null;\n  priority: number | null;\n\n  services_id: string | null;\n};\n\n/**\n * ADMIN mapRow() çıktısı (admin.controller.ts)\n */\nexport type PopupAdminRaw = {\n  id: string;\n  title?: string;\n  content?: string;\n\n  image_url?: string;\n  image_asset_id?: string;\n  image_alt?: string;\n\n  button_text?: string;\n  button_link?: string;\n\n  is_active?: boolean;\n\n  display_frequency?: PopupDisplayFrequency;\n  delay_seconds?: number;\n\n  start_date?: string | null;\n  end_date?: string | null;\n\n  services_id?: string | null;\n  display_pages?: string | null;\n  priority?: number | null;\n  duration_seconds?: number | null;\n\n  created_at?: string;\n  updated_at?: string;\n};\n\nexport type PopupAdminView = {\n  id: string;\n\n  title: string;\n  content: string;\n\n  image_url: string | null;\n  image_asset_id: string | null;\n  image_alt: string | null;\n\n  button_text: string | null;\n  button_link: string | null;\n\n  is_active: boolean;\n\n  display_frequency: PopupDisplayFrequency;\n  delay_seconds: number;\n\n  start_date: string | null;\n  end_date: string | null;\n\n  services_id: string | null;\n  display_pages: string; // default \"all\"\n  priority: number | null;\n  duration_seconds: number | null;\n\n  created_at: string | null;\n  updated_at: string | null;\n};\n\nexport type PopupAdminCreateBody = {\n  title: string;\n  content: string;\n\n  image_url?: string | null;\n  image_asset_id?: string | null;\n  image_alt?: string | null;\n\n  button_text?: string | null;\n  button_link?: string | null;\n\n  is_active?: BoolLike;\n\n  display_frequency?: PopupDisplayFrequency;\n  delay_seconds?: number | null;\n\n  start_date?: string | Date | null;\n  end_date?: string | Date | null;\n\n  services_id?: string | null;\n  display_pages?: string | null;\n  priority?: number | null;\n  duration_seconds?: number | null;\n};\n\nexport type PopupAdminUpdateBody = Partial<PopupAdminCreateBody>;\n\n// ----------------------------- helpers -----------------------------\n\nconst s = (v: unknown) => String(v ?? '').trim();\n\nconst toInt = (v: unknown, fallback: number): number => {\n  const n = Number(v);\n  return Number.isFinite(n) ? n : fallback;\n};\n\nconst toIso = (v: unknown): string | null => {\n  if (!v) return null;\n  if (v instanceof Date) return v.toISOString();\n  const x = s(v);\n  if (!x) return null;\n  const d = new Date(x);\n  return Number.isFinite(d.valueOf()) ? d.toISOString() : x; // already iso-ish\n};\n\nconst toFrequency = (v: unknown): PopupDisplayFrequency => {\n  const x = s(v) as PopupDisplayFrequency;\n  return x === 'once' || x === 'daily' || x === 'weekly' ? x : 'always';\n};\n\nconst toType = (v: unknown): PopupType => {\n  const x = s(v) as PopupType;\n  return x === 'drawer' || x === 'banner' || x === 'toast' ? x : 'modal';\n};\n\n// ----------------------------- normalizers -----------------------------\n\nexport const normalizeCampaignPopup = (raw: unknown): CampaignPopupView => {\n  const r = (raw ?? {}) as CampaignPopupRaw;\n\n  return {\n    id: s(r.id),\n    key: r.key ? s(r.key) : null,\n\n    title: r.title == null ? null : s(r.title),\n\n    type: toType(r.type),\n    content_html: r.content_html == null ? null : String(r.content_html ?? ''),\n    options: (r.options ?? null) as any,\n\n    is_active: !!r.is_active,\n\n    start_at: r.start_at ? s(r.start_at) : null,\n    end_at: r.end_at ? s(r.end_at) : null,\n\n    created_at: r.created_at ? s(r.created_at) : null,\n    updated_at: r.updated_at ? s(r.updated_at) : null,\n\n    image_url: r.image_url ? s(r.image_url) : null,\n    image_asset_id: r.image_asset_id ? s(r.image_asset_id) : null,\n    image_alt: r.image_alt ? s(r.image_alt) : null,\n\n    content: r.content == null ? null : String(r.content ?? ''),\n    button_text: r.button_text ? s(r.button_text) : null,\n    button_link: r.button_link ? s(r.button_link) : null,\n\n    display_pages: r.display_pages ? s(r.display_pages) : 'all',\n    display_frequency: toFrequency(r.display_frequency),\n\n    delay_seconds: toInt(r.delay_seconds ?? 0, 0),\n    duration_seconds:\n      typeof r.duration_seconds === 'number' && Number.isFinite(r.duration_seconds)\n        ? r.duration_seconds\n        : r.duration_seconds != null\n          ? toInt(r.duration_seconds, 0)\n          : null,\n    priority:\n      typeof r.priority === 'number' && Number.isFinite(r.priority)\n        ? r.priority\n        : r.priority != null\n          ? toInt(r.priority, 0)\n          : null,\n\n    services_id: r.services_id ? s(r.services_id) : null,\n  };\n};\n\nexport const normalizeCampaignPopupList = (raw: unknown): CampaignPopupView[] =>\n  Array.isArray(raw) ? raw.map(normalizeCampaignPopup) : [];\n\nexport const normalizePopupAdmin = (raw: unknown): PopupAdminView => {\n  const r = (raw ?? {}) as PopupAdminRaw;\n\n  return {\n    id: s(r.id),\n\n    title: s(r.title ?? ''),\n    content: String(r.content ?? ''),\n\n    image_url: r.image_url ? s(r.image_url) : null,\n    image_asset_id: r.image_asset_id ? s(r.image_asset_id) : null,\n    image_alt: r.image_alt ? s(r.image_alt) : null,\n\n    button_text: r.button_text ? s(r.button_text) : null,\n    button_link: r.button_link ? s(r.button_link) : null,\n\n    is_active: !!r.is_active,\n\n    display_frequency: toFrequency(r.display_frequency),\n    delay_seconds: toInt(r.delay_seconds ?? 0, 0),\n\n    start_date: r.start_date ? s(r.start_date) : null,\n    end_date: r.end_date ? s(r.end_date) : null,\n\n    services_id: r.services_id ? s(r.services_id) : null,\n    display_pages: r.display_pages ? s(r.display_pages) : 'all',\n    priority:\n      typeof r.priority === 'number' && Number.isFinite(r.priority)\n        ? r.priority\n        : r.priority != null\n          ? toInt(r.priority, 0)\n          : null,\n    duration_seconds:\n      typeof r.duration_seconds === 'number' && Number.isFinite(r.duration_seconds)\n        ? r.duration_seconds\n        : r.duration_seconds != null\n          ? toInt(r.duration_seconds, 0)\n          : null,\n\n    created_at: r.created_at ? s(r.created_at) : null,\n    updated_at: r.updated_at ? s(r.updated_at) : null,\n  };\n};\n\nexport const normalizePopupAdminList = (raw: unknown): PopupAdminView[] =>\n  Array.isArray(raw) ? raw.map(normalizePopupAdmin) : [];\n\n// ----------------------------- request mappers -----------------------------\n\nexport const toPopupListQueryParams = (q: PopupListQuery = {}): Record<string, any> => {\n  const out: Record<string, any> = {};\n  if (typeof q.is_active !== 'undefined') out.is_active = q.is_active;\n  if (q.type) out.type = q.type;\n  if (q.order) out.order = q.order;\n  if (typeof q.limit !== 'undefined') out.limit = q.limit;\n  if (typeof q.offset !== 'undefined') out.offset = q.offset;\n  if (q.select) out.select = q.select;\n  return out;\n};\n\nconst toDateVal = (v: unknown): string | null => {\n  if (v == null) return null;\n  if (v instanceof Date) return v.toISOString();\n  const x = s(v);\n  if (!x) return null;\n  const d = new Date(x);\n  return Number.isFinite(d.valueOf()) ? d.toISOString() : x;\n};\n\nexport const toPopupAdminCreateBody = (b: PopupAdminCreateBody): Record<string, any> => ({\n  title: b.title,\n  content: b.content,\n\n  image_url: typeof b.image_url === 'undefined' ? undefined : b.image_url,\n  image_asset_id: typeof b.image_asset_id === 'undefined' ? undefined : b.image_asset_id,\n  image_alt: typeof b.image_alt === 'undefined' ? undefined : b.image_alt,\n\n  button_text: typeof b.button_text === 'undefined' ? undefined : b.button_text,\n  button_link: typeof b.button_link === 'undefined' ? undefined : b.button_link,\n\n  is_active: typeof b.is_active === 'undefined' ? undefined : b.is_active,\n\n  display_frequency: typeof b.display_frequency === 'undefined' ? undefined : b.display_frequency,\n  delay_seconds: typeof b.delay_seconds === 'undefined' ? undefined : b.delay_seconds,\n\n  start_date: typeof b.start_date === 'undefined' ? undefined : toDateVal(b.start_date),\n  end_date: typeof b.end_date === 'undefined' ? undefined : toDateVal(b.end_date),\n\n  services_id: typeof b.services_id === 'undefined' ? undefined : b.services_id,\n  display_pages: typeof b.display_pages === 'undefined' ? undefined : b.display_pages,\n  priority: typeof b.priority === 'undefined' ? undefined : b.priority,\n  duration_seconds: typeof b.duration_seconds === 'undefined' ? undefined : b.duration_seconds,\n});\n\nexport const toPopupAdminUpdateBody = (b: PopupAdminUpdateBody): Record<string, any> =>\n  toPopupAdminCreateBody(b as any);\n","// =============================================================\n// FILE: src/integrations/shared/locales.ts\n// FINAL — app_locales value model + parser\n// =============================================================\n\nimport type { JsonLike } from '@/integrations/shared';\n\nexport type AppLocale = {\n  code: string; // 'tr' | 'en' | ...\n  label: string; // 'Türkçe' | 'English' | ...\n  is_default?: boolean;\n  is_active?: boolean;\n};\n\nfunction isObj(v: unknown): v is Record<string, unknown> {\n  return !!v && typeof v === 'object' && !Array.isArray(v);\n}\n\nexport function parseAppLocales(value: JsonLike | unknown): AppLocale[] {\n  const v = value as unknown;\n\n  if (!Array.isArray(v)) return [];\n\n  const out: AppLocale[] = [];\n  for (const item of v) {\n    if (!isObj(item)) continue;\n\n    const code = String(item.code ?? '').trim();\n    const label = String(item.label ?? '').trim();\n    if (!code || !label) continue;\n\n    out.push({\n      code,\n      label,\n      is_default: Boolean(item.is_default),\n      is_active: item.is_active === undefined ? true : Boolean(item.is_active),\n    });\n  }\n\n  return out;\n}\n","// =============================================================\n// FILE: src/integrations/shared/menu_items.types.ts\n// konigsmassage – Menu Items shared types (Admin + Public)\n// =============================================================\nimport { BoolLike } from '@/integrations/shared';\n\nexport type MenuLocation = 'header' | 'footer';\nexport type MenuItemType = 'page' | 'custom';\n\n// ---------------- PUBLIC DTO ----------------\n\nexport interface PublicMenuItemDto {\n  id: string;\n  title: string;\n  url: string; // backend \"\" de dönebilir\n  section_id: string | null;\n  icon: string | null;\n  is_active: boolean;\n  href: string;\n  slug: string | null;\n  parent_id: string | null;\n  position: number;\n  order_num: number;\n  locale?: string | null;\n  created_at?: string;\n  updated_at?: string;\n\n  // nested tree için opsiyonel children\n  children?: PublicMenuItemDto[];\n}\n\n// Public list query (menuItemListQuerySchema ile uyumlu)\nexport interface PublicMenuItemListQueryParams {\n  select?: string;\n  parent_id?: string | null;\n  is_active?: BoolLike;\n  location?: MenuLocation;\n  section_id?: string | null;\n  locale?: string;\n  // nested tree istiyorsan\n  nested?: BoolLike;\n  // \"display_order|position|order_num|created_at|updated_at[.desc]\"\n  order?: string;\n  limit?: number | string;\n  offset?: number | string;\n}\n\n// ---------------- ADMIN DTO ----------------\n\nexport interface AdminMenuItemDto {\n  id: string;\n  title: string;\n  url: string | null;\n  type: MenuItemType;\n  page_id: string | null;\n  parent_id: string | null;\n  location: MenuLocation;\n  icon: string | null;\n  section_id: string | null;\n  is_active: boolean;\n  display_order: number;\n  locale?: string | null;\n  created_at?: string;\n  updated_at?: string;\n\n  // admin tree view için opsiyonel children\n  children?: AdminMenuItemDto[];\n}\n\n// adminMenuItemListQuerySchema ile uyumlu\nexport interface AdminMenuItemListQueryParams {\n  q?: string;\n  location?: MenuLocation;\n  section_id?: string | null;\n  parent_id?: string | null;\n  is_active?: BoolLike;\n  sort?: 'display_order' | 'created_at' | 'title';\n  order?: 'asc' | 'desc';\n  limit?: number;\n  offset?: number;\n  locale?: string;\n  nested?: BoolLike;\n}\n\n// Create/Update payload'ları\n\nexport interface AdminMenuItemCreatePayload {\n  title: string;\n  url: string | null; // \"custom\" için zorunlu, backend validate ediyor\n  type: MenuItemType;\n  page_id?: string | null;\n  parent_id?: string | null;\n  location: MenuLocation;\n  icon?: string | null;\n  section_id?: string | null;\n  is_active?: BoolLike;\n  display_order?: number;\n  locale?: string;\n}\n\nexport interface AdminMenuItemUpdatePayload {\n  title?: string;\n  url?: string | null;\n  type?: MenuItemType;\n  page_id?: string | null;\n  parent_id?: string | null;\n  location?: MenuLocation;\n  icon?: string | null;\n  section_id?: string | null;\n  is_active?: BoolLike;\n  display_order?: number;\n  locale?: string;\n}\n\n// Reorder payload\n\nexport interface AdminMenuItemReorderItem {\n  id: string;\n  display_order: number;\n}\n\nexport interface AdminMenuItemReorderPayload {\n  items: AdminMenuItemReorderItem[];\n}\n\n// Generic list response helper\nexport interface MenuItemListResponse<TItem> {\n  items: TItem[];\n  total: number;\n}\n\nexport type MetaWithHeaders = {\n  response?: {\n    headers?: {\n      get: (name: string) => string | null;\n    };\n  };\n};\n\nexport const parseTotalFromMeta = (\n  dataLength: number,\n  meta?: MetaWithHeaders | unknown,\n): number => {\n  const m = meta as MetaWithHeaders | undefined;\n  const raw = m?.response?.headers?.get('x-total-count');\n  if (!raw) return dataLength;\n  const n = Number(raw);\n  return Number.isFinite(n) ? n : dataLength;\n};\n","// =============================================================\n// FILE: src/i18n/localeUtils.ts  (DYNAMIC)\n// =============================================================\n\n/**\n * ⚠️ DEPRECATED:\n * Burada fallback locale tanımlamayın.\n * Hard fallback: src/i18n/config.ts -> FALLBACK_LOCALE\n * Server fallback: src/i18n/server.ts -> DEFAULT_LOCALE_FALLBACK\n */\nexport const FALLBACK_LOCALE = '';\n\nexport function normLocaleTag(x: unknown): string {\n  return String(x || '')\n    .toLowerCase()\n    .trim()\n    .replace('_', '-')\n    .split('-')[0]\n    .trim();\n}\n\n/** order-preserving dedupe */\nexport function uniqKeepOrder(locales: string[]): string[] {\n  const seen = new Set<string>();\n  const out: string[] = [];\n  for (const l of locales) {\n    const n = normLocaleTag(l);\n    if (!n) continue;\n    if (seen.has(n)) continue;\n    seen.add(n);\n    out.push(n);\n  }\n  return out;\n}\n\nfunction tryParseJson(raw: unknown): unknown {\n  if (typeof raw !== 'string') return raw;\n  const s = raw.trim();\n  if (!s) return raw;\n\n  if ((s.startsWith('{') && s.endsWith('}')) || (s.startsWith('[') && s.endsWith(']'))) {\n    try {\n      return JSON.parse(s);\n    } catch {\n      return raw;\n    }\n  }\n\n  return raw;\n}\n\ntype AppLocaleObj = {\n  code?: unknown;\n  label?: unknown;\n  is_default?: unknown;\n  is_active?: unknown;\n};\n\nexport function normalizeLocales(raw: unknown): string[] {\n  let v: any = tryParseJson(raw);\n\n  // legacy wrapper\n  if (v && typeof v === 'object' && !Array.isArray(v) && Array.isArray(v.locales)) {\n    v = v.locales;\n  }\n\n  const arr: any[] = Array.isArray(v) ? v : [];\n\n  const actives: string[] = [];\n  const defaults: string[] = [];\n\n  for (const item of arr) {\n    if (typeof item === 'string') {\n      const code = normLocaleTag(item);\n      if (code) actives.push(code);\n      continue;\n    }\n\n    if (item && typeof item === 'object') {\n      const obj = item as AppLocaleObj;\n      const code = normLocaleTag(obj.code);\n      if (!code) continue;\n\n      const isActive = obj.is_active === undefined ? true : Boolean(obj.is_active);\n      if (!isActive) continue;\n\n      actives.push(code);\n\n      const isDefault = Boolean(obj.is_default);\n      if (isDefault) defaults.push(code);\n    }\n  }\n\n  const activeUniq = uniqKeepOrder(actives);\n  if (!activeUniq.length) return [];\n\n  const defaultUniq = uniqKeepOrder(defaults).filter((d) => activeUniq.includes(d));\n  if (!defaultUniq.length) return activeUniq;\n\n  const d = defaultUniq[0]!;\n  return [d, ...activeUniq.filter((x) => x !== d)];\n}\n\nexport function resolveDefaultLocale(\n  defaultLocaleValue: unknown,\n  appLocalesValue: unknown,\n): string {\n  const active = normalizeLocales(appLocalesValue);\n  const activeSet = new Set(active.map(normLocaleTag));\n\n  const cand = normLocaleTag(defaultLocaleValue);\n  if (cand && activeSet.has(cand)) return cand;\n\n  return normLocaleTag(active[0]) || '';\n}\n\nexport function pickFromAcceptLanguage(accept: string | null, active: string[]): string {\n  const activeClean = uniqKeepOrder(active);\n  if (!activeClean.length) return '';\n\n  const a = (accept || '').toLowerCase();\n  if (!a) return activeClean[0] || '';\n\n  const prefs = a\n    .split(',')\n    .map((part) => part.trim().split(';')[0]?.trim())\n    .filter(Boolean)\n    .map((tag) => normLocaleTag(tag))\n    .filter(Boolean);\n\n  for (const p of prefs) {\n    if (activeClean.includes(p)) return p;\n  }\n\n  return activeClean[0] || '';\n}\n\nexport function pickFromCookie(cookieLocale: string | undefined, active: string[]): string | null {\n  const c = normLocaleTag(cookieLocale);\n  if (!c) return null;\n\n  const activeClean = uniqKeepOrder(active);\n  return activeClean.includes(c) ? c : null;\n}\n","// =============================================================\n// FILE: src/lib/header/menu.runtime.ts\n// FINAL — header menu runtime helpers (client-safe)\n// - No \"2-letter locale\" limitation (supports 20+ locales)\n// - Locale source priority: pathname -> <html lang> -> fallback\n// - DB URLs are locale-less: \"/services\", \"/#contact\", \"#contact\", \"/\"\n// =============================================================\n\nimport { trimStr, isRemoteUrl } from '@/integrations/shared';\nimport { normLocaleTag } from '@/i18n/localeUtils';\n\nexport function readHtmlLang(): string {\n  if (typeof document === 'undefined') return '';\n  return normLocaleTag(document.documentElement.getAttribute('lang'));\n}\n\nexport function readLocaleFromPathname(pathname: string): string {\n  const seg = trimStr(pathname).replace(/^\\/+/, '').split('/')[0] || '';\n  return normLocaleTag(seg);\n}\n\nexport function resolveLocaleForLinks(pathname: string, fallback = 'de'): string {\n  return readLocaleFromPathname(pathname) || readHtmlLang() || normLocaleTag(fallback) || 'de';\n}\n\nexport function resolveLocaleForApi(pathname: string): string | undefined {\n  const l = readLocaleFromPathname(pathname) || readHtmlLang();\n  const n = normLocaleTag(l);\n  return n ? n : undefined;\n}\n\nfunction isSpecialScheme(url: string): boolean {\n  const s = url.toLowerCase();\n  return s.startsWith('mailto:') || s.startsWith('tel:');\n}\n\n/**\n * DB url localsiz:\n * - \"/services\" | \"/#contact\" | \"#contact\" | \"/\" | \"\" | \"services\"\n * FE:\n * - \"/{locale}/services\" | \"/{locale}/#contact\" | \"/{locale}\"\n */\nexport function withLocalePrefix(locale: string, rawUrl: unknown, fallback = 'de'): string {\n  const loc = normLocaleTag(locale) || normLocaleTag(fallback) || 'de';\n  const url = trimStr(rawUrl);\n\n  if (!url || url === '/') return `/${loc}`;\n\n  if (isRemoteUrl(url) || isSpecialScheme(url)) return url;\n\n  if (url.startsWith('#')) return `/${loc}/${url}`;\n  if (url.startsWith('/#')) return `/${loc}${url}`;\n\n  if (url.startsWith('/')) return `/${loc}${url}`;\n\n  return `/${loc}/${url.replace(/^\\/+/, '')}`;\n}\n\nexport function splitHash(href: string): { path: string; hash: string } {\n  const i = href.indexOf('#');\n  if (i === -1) return { path: href, hash: '' };\n  return { path: href.slice(0, i) || '/', hash: href.slice(i) };\n}\n\nexport function isActiveLink(pathname: string, currentHash: string, href: string): boolean {\n  if (isRemoteUrl(href) || href.startsWith('mailto:') || href.startsWith('tel:')) return false;\n\n  const { path, hash } = splitHash(href);\n\n  const a = (pathname || '/').replace(/\\/+$/, '') || '/';\n  const b = (path || '/').replace(/\\/+$/, '') || '/';\n\n  if (hash) return a === b && currentHash === hash;\n  return a === b;\n}\n","// =============================================================\n// FILE: src/integrations/shared/dashboard.types.ts\n// FINAL — Dashboard Analytics Types (admin)\n// =============================================================\n\nexport type DashboardRangeKey = '7d' | '30d' | '90d';\nexport type DashboardTrendBucket = 'day' | 'week';\n\nexport type AdminDashboardAnalyticsQuery = {\n  range?: DashboardRangeKey;\n};\n\nexport interface DashboardAnalyticsDto {\n  range: DashboardRangeKey;\n  from: string; // ISO\n  to: string; // ISO\n  meta: {\n    bucket: DashboardTrendBucket;\n  };\n\n  totals: {\n    delivered_orders: number;\n    total_units_delivered: number;\n    total_incentives: number;\n  };\n\n  drivers: Array<{\n    driver_id: string;\n    driver_name: string;\n    delivered_orders: number;\n    units_delivered: number;\n    incentives: number;\n  }>;\n\n  sellers: Array<{\n    seller_id: string;\n    seller_name: string;\n    delivered_orders: number;\n    units_delivered: number;\n    incentives: number;\n  }>;\n\n  product_mix: Array<{\n    product_id: string;\n    product_title: string;\n    units_delivered: number;\n  }>;\n\n  species_mix: Array<{\n    species: string;\n    units_delivered: number;\n  }>;\n\n  trend: Array<{\n    bucket: string; // YYYY-MM-DD | YYYY-Wxx\n    delivered_orders: number;\n    units_delivered: number;\n    incentives: number;\n  }>;\n}\n\nexport interface DashboardCountItemDto {\n  key: string;\n  label: string;\n  count: number;\n}\n\nexport type DashboardSummaryItem = DashboardCountItemDto;\n\nexport type DashboardSummary = {\n  items: DashboardCountItemDto[];\n};\n\nexport interface DashboardRecentOrderDto {\n  order_id: string;\n  order_number: string;\n  driver_name: string;\n  seller_name: string;\n  total_units: number;\n  total_incentive: number;\n  delivered_at: string; // ISO\n}\n\nconst DASHBOARD_KEY_MAP: Record<string, string> = {\n  menuitem: 'menu_items',\n  slider: 'sliders',\n  pricing_plans: 'pricing',\n  skillCounters: 'skills',\n  brandLogos: 'brands',\n};\n\nfunction toCountItem(raw: any): DashboardCountItemDto {\n  const rawKey = String(raw?.key ?? '').trim();\n  const key = DASHBOARD_KEY_MAP[rawKey] ?? rawKey;\n  const label = String(raw?.label ?? '').trim();\n  const countNum = Number(raw?.count ?? 0);\n  return {\n    key,\n    label: label || key,\n    count: Number.isFinite(countNum) ? countNum : 0,\n  };\n}\n\nexport function normalizeDashboardSummary(res: unknown): DashboardSummary {\n  const r = (res ?? {}) as any;\n  const itemsRaw = Array.isArray(r) ? r : Array.isArray(r?.items) ? r.items : [];\n  const items = itemsRaw.map(toCountItem).filter((x: DashboardCountItemDto) => x.key.length > 0);\n  return { items };\n}\n","// =============================================================\n// FILE: src/integrations/shared/review.types.ts\n// FINAL — Public Reviews + Testimonials UI helpers in ONE place\n// - Component içinde helper yok\n// =============================================================\n\nimport type { BoolLike } from '@/integrations/shared';\nimport { parseJsonObject, uiText } from '@/integrations/shared';\n\n// ===============================\n// Reviews (Public)\n// ===============================\n\nexport type ReviewDto = {\n  id: string;\n\n  target_type: string;\n  target_id: string;\n\n  name: string;\n  email: string;\n  rating: number;\n\n  is_active: boolean;\n  is_approved: boolean;\n  display_order: number;\n\n  likes_count: number;\n  dislikes_count: number;\n  helpful_count: number;\n\n  /** Kaydın gönderildiği dil */\n  submitted_locale: string;\n\n  created_at: string;\n  updated_at: string;\n\n  // i18n alanları (coalesced)\n  comment: string | null;\n  locale_resolved: string | null;\n\n  /** legacy */\n  locale?: string | null;\n\n  // Optional FE extras (some backends might return)\n  title?: string | null;\n  admin_reply?: string | null;\n  avatar_url?: string | null;\n  logo_url?: string | null;\n  profile_href?: string | null;\n  role?: string | null;\n  company?: string | null;\n};\n\nexport type ReviewListQueryParams = {\n  search?: string;\n  approved?: BoolLike;\n  active?: BoolLike;\n  minRating?: number;\n  maxRating?: number;\n  limit?: number;\n  offset?: number;\n  orderBy?: 'created_at' | 'updated_at' | 'display_order' | 'rating' | 'name';\n  order?: 'asc' | 'desc';\n\n  // Listeleme locale override\n  locale?: string;\n\n  // Target filtreleri\n  target_type?: string;\n  target_id?: string;\n};\n\nexport type ReviewCreatePayload = {\n  target_type: string;\n  target_id: string;\n\n  locale?: string; // yoksa server req.locale/DEFAULT_LOCALE kullanır\n\n  name: string;\n  email: string;\n  rating: number;\n  comment: string;\n  title?: string;\n\n  // Testimonials extras (optional)\n  role?: string;\n  company?: string;\n  avatar_url?: string;\n  logo_url?: string;\n  profile_href?: string;\n\n  is_active?: boolean;\n  is_approved?: boolean;\n  display_order?: number;\n};\n\nexport type ReviewUpdatePayload = Partial<ReviewCreatePayload> & {\n  admin_reply?: string | null;\n};\n\nexport type ReviewReactionPayload = {\n  type: 'like' | 'dislike';\n};\n\n// ===============================\n// Testimonials UI (site_settings)\n// ===============================\n\nexport type TestimonialsSection = {\n  headline: string;\n  intro_line_1: string; // <br/> bozulmasın diye iki satır\n  intro_line_2: string;\n  target_type: string;\n  bucket: string; // reviews target_id filter\n\n  // (opsiyonel) cta\n  cta_label: string;\n  cta_href: string;\n\n  loading: string;\n  error: string;\n  empty: string;\n\n  // decorate images\n  man_img: string;\n  decorate_img: string;\n};\n\nexport function normalizeTestimonialsSectionSettingValue(val: unknown): TestimonialsSection {\n  const o = parseJsonObject(val);\n\n  const headline = uiText(o.headline) || \"Client's Testimonials\";\n\n  const intro_line_1 =\n    uiText(o.intro_line_1) ||\n    'I believe that working hard and trying to learn every day will make me';\n  const intro_line_2 = uiText(o.intro_line_2) || 'improve in satisfying my customers.';\n\n  const target_type = uiText((o as any).target_type) || 'testimonial';\n  const bucket = uiText(o.bucket) || '11111111-1111-1111-1111-111111111111';\n\n  const cta_label = uiText(o.cta_label);\n  const cta_href = uiText(o.cta_href);\n\n  const loading = uiText(o.loading) || 'Loading...';\n  const error = uiText(o.error) || 'Failed to load testimonials.';\n  const empty = uiText(o.empty) || 'No testimonials yet.';\n\n  const man_img = uiText(o.man_img) || '/assets/imgs/testimonials/testimonials-1/man.png';\n  const decorate_img =\n    uiText(o.decorate_img) || '/assets/imgs/testimonials/testimonials-1/decorate.png';\n\n  return {\n    headline,\n    intro_line_1,\n    intro_line_2,\n    target_type,\n    bucket,\n    cta_label,\n    cta_href,\n    loading,\n    error,\n    empty,\n    man_img,\n    decorate_img,\n  };\n}\n\n// ===============================\n// Testimonials item mapper (from ReviewDto)\n// ===============================\n\nexport type TestimonialCard = {\n  id: string;\n\n  rating: number; // 0..5\n  comment: string;\n\n  name: string;\n  meta: string; // \" - role, company\" (template format)\n\n  avatar: string;\n  logo: string;\n  href: string;\n};\n\nconst clampRating = (n: unknown): number => {\n  const x = typeof n === 'number' ? n : Number(String(n ?? '0'));\n  if (!Number.isFinite(x)) return 0;\n  return Math.max(0, Math.min(5, Math.round(x)));\n};\n\nexport function mapReviewToTestimonialCard(r: ReviewDto): TestimonialCard {\n  const name = uiText(r.name) || '—';\n  const role = uiText((r as any).role);\n  const company = uiText((r as any).company);\n  let metaRaw = uiText((r as any).title);\n  if (!metaRaw) metaRaw = [role, company].filter(Boolean).join(', ');\n  const meta = metaRaw ? ` - ${metaRaw}` : '';\n\n  const comment = uiText(r.comment) || '…';\n\n  const avatar =\n    uiText((r as any).avatar_url) || '/assets/imgs/testimonials/testimonials-1/avatar-1.png';\n\n  const logo = uiText((r as any).logo_url) || '/assets/imgs/testimonials/testimonials-1/logo-1.png';\n\n  const href = uiText((r as any).profile_href) || '#';\n\n  return {\n    id: uiText(r.id),\n    rating: clampRating(r.rating),\n    comment,\n    name,\n    meta,\n    avatar,\n    logo,\n    href,\n  };\n}\n","// ---------------------------------------------------------------------\n// FILE: src/integrations/shared/projects.ts\n// ---------------------------------------------------------------------\n\nexport type ProjectContentJson = {\n  html?: string;\n  description?: string;\n  key_features?: string[];\n  technologies_used?: string[];\n  design_highlights?: string[];\n};\n\n/**\n * Backend merged model: projects (parent) + projects_i18n (current locale)\n * Bu interface \"getProjectMergedById/getProjectMergedBySlug/listProjects\" çıktısına göre tasarlandı.\n * Repo tarafında ekstra alanlar varsa burada genişletirsin.\n */\nexport interface Project {\n  id: string;\n\n  // parent\n  is_published: boolean;\n  is_featured: boolean;\n  display_order: number;\n\n  featured_image?: string | null;\n  featured_image_asset_id?: string | null;\n\n  demo_url?: string | null;\n  repo_url?: string | null;\n\n  category?: string | null;\n  client_name?: string | null;\n\n  start_date?: string | null; // YYYY-MM-DD\n  complete_date?: string | null; // YYYY-MM-DD\n  completion_time_label?: string | null;\n\n  services?: string[] | null; // API merged halde array gelebilir; değilse string olabilir (aşağıda normalize edebilirsin)\n  website_url?: string | null;\n\n  techs?: string[] | null;\n\n  // i18n (merged)\n  locale?: string;\n  title: string;\n  slug: string;\n\n  summary?: string | null;\n\n  /**\n   * Backend packContent() JSON-string üretiyor. Public/Admin response'ta:\n   * - string dönebilir (JSON-string / HTML string)\n   * - ya da repository merged parse edip object dönebilir\n   */\n  content: string | ProjectContentJson;\n\n  featured_image_alt?: string | null;\n  meta_title?: string | null;\n  meta_description?: string | null;\n\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface ProjectImage {\n  id: string;\n  project_id: string;\n\n  asset_id: string;\n  image_url?: string | null;\n\n  display_order: number;\n  is_active: boolean;\n\n  // i18n merged\n  locale?: string;\n  alt?: string | null;\n  caption?: string | null;\n\n  created_at?: string;\n  updated_at?: string;\n}\n\n/* =========================================================\n * LIST PARAMS\n * ======================================================= */\nexport type ProjectListParams = {\n  // FE filters\n  q?: string;\n  slug?: string;\n\n  is_published?: boolean;\n  is_featured?: boolean;\n\n  category?: string;\n  client?: string;\n\n  limit?: number;\n  offset?: number;\n\n  /**\n   * Backend destekli alanlar:\n   * - sort: created_at | updated_at | display_order\n   * - orderDir: asc | desc\n   * - order: string (ör: \"display_order.asc\" veya \"created_at.desc\")\n   *\n   * Not: backend kodunda q.order string olarak parse ediliyor.\n   * Bu yüzden en neti `order` stringi üretmek.\n   */\n  orderBy?: 'created_at' | 'updated_at' | 'display_order';\n  orderDir?: 'asc' | 'desc';\n\n  // optional projections\n  view?: 'card' | 'detail';\n  select?: string;\n\n  // locale (opsiyonel)\n  locale?: string;\n};\n\n/* =========================================================\n * INPUTS (admin create/patch)\n * ======================================================= */\nexport type UpsertProjectInput = {\n  locale?: string;\n\n  // parent\n  is_published?: boolean;\n  is_featured?: boolean;\n  display_order?: number;\n\n  featured_image?: string | null;\n  featured_image_asset_id?: string | null;\n\n  demo_url?: string | null;\n  repo_url?: string | null;\n\n  category?: string | null;\n  client_name?: string | null;\n\n  start_date?: string | null; // YYYY-MM-DD\n  complete_date?: string | null; // YYYY-MM-DD\n  completion_time_label?: string | null;\n\n  website_url?: string | null;\n\n  services?: string[]; // stored as JSON-string in DB\n  techs?: string[]; // stored as JSON-string in DB\n\n  // i18n\n  title: string;\n  slug: string;\n  summary?: string | null;\n\n  content: string; // accepts raw html OR JSON-string\n\n  featured_image_alt?: string | null;\n  meta_title?: string | null;\n  meta_description?: string | null;\n};\n\nexport type PatchProjectInput = Partial<UpsertProjectInput>;\n\n/* =========================================================\n * INPUTS (admin gallery create/patch)\n * ======================================================= */\nexport type UpsertProjectImageInput = {\n  locale?: string;\n\n  asset_id: string; // required\n  image_url?: string | null;\n\n  display_order?: number;\n  is_active?: boolean;\n\n  alt?: string | null;\n  caption?: string | null;\n};\n\nexport type PatchProjectImageInput = Partial<UpsertProjectImageInput>;\n\n/* =========================================================\n * QUERY MAPPERS\n * ======================================================= */\n\n// Admin: tam filtre kontrolü\nexport function toAdminProjectQuery(p?: ProjectListParams) {\n  if (!p) return undefined;\n\n  const q: Record<string, any> = {};\n\n  if (p.q) q.q = p.q;\n  if (p.slug) q.slug = p.slug;\n\n  if (typeof p.is_published === 'boolean') q.is_published = p.is_published;\n  if (typeof p.is_featured === 'boolean') q.is_featured = p.is_featured;\n\n  if (p.category) q.category = p.category;\n  if (p.client) q.client = p.client;\n\n  if (typeof p.limit === 'number') q.limit = p.limit;\n  if (typeof p.offset === 'number') q.offset = p.offset;\n\n  // backend: order string\n  if (p.orderBy && p.orderDir) q.order = `${p.orderBy}.${p.orderDir}`;\n\n  if (p.view) q.view = p.view;\n  if (p.select) q.select = p.select;\n\n  if (p.locale) q.locale = p.locale;\n\n  return q;\n}\n\n// Public: default published = true (senin public route config public)\nexport function toPublicProjectQuery(p?: ProjectListParams | void | null) {\n  const q: Record<string, any> = {};\n\n  // Public default: published olanlar\n  q.is_published = true;\n\n  if (!p) return q;\n\n  if (p.q) q.q = p.q;\n  if (p.slug) q.slug = p.slug;\n\n  // Public'ta is_published override edilebilir mi?\n  // İstersen kapat; şimdilik izin veriyorum:\n  if (typeof p.is_published === 'boolean') q.is_published = p.is_published;\n\n  if (typeof p.is_featured === 'boolean') q.is_featured = p.is_featured;\n  if (p.category) q.category = p.category;\n  if (p.client) q.client = p.client;\n\n  if (typeof p.limit === 'number') q.limit = p.limit;\n  if (typeof p.offset === 'number') q.offset = p.offset;\n\n  if (p.orderBy && p.orderDir) q.order = `${p.orderBy}.${p.orderDir}`;\n\n  if (p.view) q.view = p.view;\n  if (p.select) q.select = p.select;\n\n  if (p.locale) q.locale = p.locale;\n\n  return q;\n}\n\n/* =========================================================\n * NORMALIZERS (PUBLIC UI)\n * - Keep all helpers here (single source of truth)\n * ======================================================= */\n\nexport type NormalizedProjectContent = {\n  html: string;\n  description: string | null;\n  key_features: string[];\n  technologies_used: string[];\n  design_highlights: string[];\n};\n\nexport type NormalizedProjectDetail = {\n  id: string;\n  slug: string;\n  title: string;\n  category: string;\n\n  // Header + Description fallbacks\n  summaryTop: string;\n  descriptionText: string;\n\n  client: string;\n  startPretty: string;\n  completePretty: string;\n\n  servicesArr: string[];\n  website: string;\n\n  toolsArr: string[];\n\n  cover: string;\n  coverAlt: string;\n\n  content: NormalizedProjectContent;\n};\n\nexport type GetProjectBySlugArgs = { slug: string; include?: 'images' };\n\n// ---------- primitives ----------\nexport function asStr(v: unknown): string {\n  return typeof v === 'string' ? v : '';\n}\n\nexport function fmtDateISOToPretty(isoLike?: unknown): string {\n  const s = asStr(isoLike).slice(0, 10);\n  if (!s) return '';\n  const [y, m, d] = s.split('-');\n  if (!y || !m || !d) return s;\n\n  const monthNames = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ];\n  const mi = Number(m) - 1;\n  return `${d} ${monthNames[mi] ?? m} ${y}`;\n}\n\n/**\n * Accepts:\n * - string[]\n * - JSON-string '[\"a\",\"b\"]'\n * - comma separated \"a,b\"\n * - null/undefined\n */\nexport function parseStringArray(input: unknown): string[] {\n  if (Array.isArray(input)) {\n    return input.filter((x) => typeof x === 'string' && x.trim()).map((x) => String(x).trim());\n  }\n\n  if (typeof input === 'string') {\n    const s = input.trim();\n    if (!s) return [];\n\n    if (s.startsWith('[') && s.endsWith(']')) {\n      try {\n        const parsed = JSON.parse(s);\n        if (Array.isArray(parsed)) {\n          return parsed\n            .filter((x) => typeof x === 'string' && String(x).trim())\n            .map((x) => String(x).trim());\n        }\n      } catch {\n        // fallthrough\n      }\n    }\n\n    return s\n      .split(',')\n      .map((x) => x.trim())\n      .filter(Boolean);\n  }\n\n  return [];\n}\n\nexport function stripHtml(html: string): string {\n  return html\n    .replace(/<style[\\s\\S]*?<\\/style>/gi, ' ')\n    .replace(/<script[\\s\\S]*?<\\/script>/gi, ' ')\n    .replace(/<\\/?[^>]+>/g, ' ')\n    .replace(/\\s+/g, ' ')\n    .trim();\n}\n\n/**\n * Project.content:\n * - string (JSON-string or raw html string)\n * - or object (ProjectContentJson)\n */\nexport function parseProjectContent(input: Project['content']): NormalizedProjectContent {\n  const empty: NormalizedProjectContent = {\n    html: '',\n    description: null,\n    key_features: [],\n    technologies_used: [],\n    design_highlights: [],\n  };\n\n  if (!input) return empty;\n\n  // object\n  if (typeof input === 'object') {\n    const obj = input as ProjectContentJson;\n    return {\n      html: typeof obj.html === 'string' ? obj.html : '',\n      description: typeof obj.description === 'string' ? obj.description : null,\n      key_features: Array.isArray(obj.key_features)\n        ? obj.key_features.filter((x) => typeof x === 'string' && x.trim())\n        : [],\n      technologies_used: Array.isArray(obj.technologies_used)\n        ? obj.technologies_used.filter((x) => typeof x === 'string' && x.trim())\n        : [],\n      design_highlights: Array.isArray(obj.design_highlights)\n        ? obj.design_highlights.filter((x) => typeof x === 'string' && x.trim())\n        : [],\n    };\n  }\n\n  // string\n  if (typeof input === 'string') {\n    const s = input.trim();\n    if (!s) return empty;\n\n    // JSON-string?\n    if (s.startsWith('{') && s.endsWith('}')) {\n      try {\n        const obj = JSON.parse(s) as ProjectContentJson;\n        if (obj && typeof obj === 'object') return parseProjectContent(obj as any);\n      } catch {\n        // fallthrough -> treat as html\n      }\n    }\n\n    // raw html\n    return { ...empty, html: s };\n  }\n\n  return empty;\n}\n\n/**\n * Normalize Project -> UI fields with robust fallbacks\n * IMPORTANT:\n * - Uses your Project interface ONLY (no custom WorkDetail types).\n * - Handles content.description null by falling back to summary then content.html(text).\n */\nexport function normalizeProjectDetail(p: Project): NormalizedProjectDetail {\n  const content = parseProjectContent(p.content);\n\n  const title = (p.title ?? '').trim();\n  const category = (p.category ?? '').trim();\n\n  const client = (p.client_name ?? '').trim();\n\n  const startPretty = fmtDateISOToPretty(p.start_date);\n  const completePretty = fmtDateISOToPretty(p.complete_date);\n\n  const servicesArr = parseStringArray(p.services ?? null);\n\n  const website = (p.website_url ?? '').trim();\n\n  const toolsArr = parseStringArray(p.techs ?? null);\n\n  const cover = (p.featured_image ?? '').trim() || '/assets/imgs/work/img-background.png';\n  const coverAlt = (p.featured_image_alt ?? '').trim() || title;\n\n  const htmlText = content.html ? stripHtml(content.html) : '';\n\n  // Header altı metin: summary > content.description > htmlText\n  const summaryTop =\n    (p.summary ?? '').trim() || (content.description ?? '').trim() || htmlText || '';\n\n  // Description: content.description > summary > htmlText\n  const descriptionText =\n    (content.description ?? '').trim() || (p.summary ?? '').trim() || htmlText || '';\n\n  return {\n    id: p.id,\n    slug: p.slug,\n    title,\n    category,\n    summaryTop,\n    descriptionText,\n    client,\n    startPretty,\n    completePretty,\n    servicesArr,\n    website,\n    toolsArr,\n    cover,\n    coverAlt,\n    content,\n  };\n}\n\nexport function normalizeStringArray(input: unknown): string[] {\n  if (Array.isArray(input))\n    return input.filter((x) => typeof x === 'string' && x.trim()) as string[];\n  if (typeof input === 'string') {\n    const s = input.trim();\n    if (!s) return [];\n    if (s.startsWith('[') && s.endsWith(']')) {\n      try {\n        const parsed = JSON.parse(s);\n        if (Array.isArray(parsed))\n          return parsed.filter((x) => typeof x === 'string' && x.trim()) as string[];\n      } catch {}\n    }\n    return s\n      .split(',')\n      .map((x) => x.trim())\n      .filter(Boolean);\n  }\n  return [];\n}\n\nexport function contentToSummary(p: Project): string {\n  if (typeof p.summary === 'string' && p.summary.trim()) return p.summary;\n  if (p.content && typeof p.content === 'object') {\n    const d = (p.content as any).description;\n    if (typeof d === 'string' && d.trim()) return d;\n  }\n  return '';\n}\n\nexport function slugifyClass(input: unknown): string {\n  const s = typeof input === 'string' ? input : '';\n  const t = s.trim().toLowerCase();\n  if (!t) return 'other';\n  // keep ascii safe: ui/ux -> ui-ux, \"APP DESIGN\" -> app-design\n  return (\n    t\n      .replace(/&/g, ' and ')\n      .replace(/[^a-z0-9]+/g, '-') // spaces, slashes, etc.\n      .replace(/-+/g, '-')\n      .replace(/^-|-$/g, '') || 'other'\n  );\n}\n\nexport function localeFromPathname(pathname: string): string {\n  // \"/de/work\" -> \"de\"\n  const seg = pathname.split('?')[0].split('#')[0].split('/').filter(Boolean);\n  return seg[0] || 'de';\n}\n","// =============================================================\n// FILE: frontend/app/[locale]/blog/_components/blogView.helpers.ts\n// FINAL — blog UI helpers (NO duplication)\n// - Fix: NEVER show {\"html\": \"...\"} residue\n// - Provides: extractHtmlFromPost + sanitizeBlogHtml\n// =============================================================\n\nimport type { CustomPageView } from '@/integrations/shared';\n\nexport const BLOG_MODULE_KEY = 'blog' as const;\n\nexport const formatIsoDate = (iso?: string) => {\n  if (!iso) return '—';\n  return iso.slice(0, 10);\n};\n\nexport const pickCover = (p?: CustomPageView | null) => {\n  const fallback = '/assets/imgs/blog/blog-1/img-background.png';\n  if (!p) return { src: fallback, alt: 'Blog cover' };\n\n  const src =\n    p.featured_image_effective_url ||\n    p.image_effective_url ||\n    p.featured_image ||\n    p.image_url ||\n    (p.images_effective_urls as any)?.[0] ||\n    (p.images as any)?.[0] ||\n    fallback;\n\n  const alt = p.alt || p.title || 'Blog cover';\n  return { src, alt };\n};\n\nexport const pickCardImage = (p: CustomPageView, fallback: string) => {\n  return (\n    p.featured_image_effective_url ||\n    p.image_effective_url ||\n    p.featured_image ||\n    p.image_url ||\n    (p.images_effective_urls as any)?.[0] ||\n    (p.images as any)?.[0] ||\n    fallback\n  );\n};\n\nexport const isNotFoundError = (err: unknown) => {\n  const status = (err as any)?.status ?? (err as any)?.originalStatus;\n  return status === 404;\n};\n\n// ----------------------------- Content Helpers -----------------------------\n\nexport function isRecord(v: unknown): v is Record<string, any> {\n  return !!v && typeof v === 'object' && !Array.isArray(v);\n}\n\nexport const safeStr = (v: unknown) => (v === null || v === undefined ? '' : String(v).trim());\n\nexport const tryParseJson = (v: unknown): unknown => {\n  if (typeof v !== 'string') return v;\n  const s0 = v.trim();\n  if (!s0) return v;\n\n  const looksJson =\n    (s0.startsWith('{') && s0.endsWith('}')) || (s0.startsWith('[') && s0.endsWith(']'));\n  if (!looksJson) return v;\n\n  try {\n    return JSON.parse(s0);\n  } catch {\n    return v;\n  }\n};\n\n/**\n * Salvage extractor for strings that look like:\n * {\"html\":\" ... \"}   BUT JSON.parse may fail due to raw newlines / bad escaping.\n *\n * This will NEVER return the wrapper {\"html\":...} string.\n * It will return only the inner HTML if it can detect it.\n */\nexport const unwrapHtmlJsonLike = (raw: string): string => {\n  const s = (raw || '').trim();\n  if (!s) return '';\n\n  // fast path: proper JSON parse\n  if (s.startsWith('{') && s.includes('\"html\"')) {\n    try {\n      const parsed = JSON.parse(s);\n      const html = (parsed as any)?.html;\n      if (typeof html === 'string' && html.trim()) return html.trim();\n    } catch {\n      // fallback below\n    }\n  }\n\n  // fallback: manual unwrap if string starts with {\"html\":\" ... \"}\n  // We intentionally do NOT require valid JSON.\n  const prefix = '{\"html\":\"';\n  if (s.startsWith(prefix)) {\n    const end = s.lastIndexOf('\"}');\n    if (end > prefix.length) {\n      let inner = s.slice(prefix.length, end);\n\n      // unescape common JSON escapes\n      inner = inner.replace(/\\\\\"/g, '\"');\n      inner = inner.replace(/\\\\n/g, '\\n');\n      inner = inner.replace(/\\\\r/g, '\\r');\n      inner = inner.replace(/\\\\t/g, '\\t');\n      inner = inner.replace(/\\\\\\\\/g, '\\\\');\n\n      return inner.trim();\n    }\n  }\n\n  return s;\n};\n\nexport const extractHtmlFromContent = (raw: unknown): string => {\n  // object {html:\"...\"}\n  if (raw && typeof raw === 'object' && !Array.isArray(raw)) {\n    const html = (raw as any)?.html;\n    if (typeof html === 'string' && html.trim()) return html.trim();\n  }\n\n  // string (may be JSON-string or broken JSON-string or raw html)\n  if (typeof raw === 'string') return unwrapHtmlJsonLike(raw);\n\n  // parsed object already?\n  const parsed = tryParseJson(raw);\n  if (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) {\n    const html = (parsed as any)?.html;\n    if (typeof html === 'string' && html.trim()) return html.trim();\n  }\n\n  return '';\n};\n\n/**\n * Extract HTML from a post safely.\n * Supported:\n * 1) post.content_html (string)\n * 2) post.content (object { html })\n * 3) post.content (string JSON {\"html\":\"...\"}) even if broken JSON\n * 4) post.content (raw HTML string)\n */\nexport const extractHtmlFromPost = (post: CustomPageView | null): string => {\n  if (!post) return '';\n\n  const cHtml = (post as any)?.content_html;\n  if (typeof cHtml === 'string' && cHtml.trim()) return cHtml.trim();\n\n  const c = (post as any)?.content;\n  return extractHtmlFromContent(c);\n};\n\n/**\n * Minimal safety guard that won't break your classes/styles.\n * (We DO NOT strip class=\"\" or normal attributes.)\n */\nexport const sanitizeBlogHtml = (input: string): string => {\n  if (!input) return '';\n  let out = input;\n\n  // remove scripts/iframes\n  out = out.replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '');\n  out = out.replace(/<iframe\\b[^<]*(?:(?!<\\/iframe>)<[^<]*)*<\\/iframe>/gi, '');\n\n  // block javascript: in href/src\n  out = out.replace(/\\s(href|src)\\s*=\\s*(['\"])\\s*javascript:[^'\"]*\\2/gi, ' $1=\"#\"');\n\n  // OPTIONAL: ensure we never leak wrapper text even if someone passes wrong string\n  // (failsafe)\n  if (out.trim().startsWith('{\"html\":\"')) {\n    out = unwrapHtmlJsonLike(out);\n  }\n\n  return out;\n};\n","// ---------------------------------------------------------------------\n// FILE: src/integrations/shared/pricing.ts\n// FINAL — Pricing shared types + query mappers (public + admin)\n// ---------------------------------------------------------------------\n\nexport interface PricingPlan {\n  id: string;\n  code: string;\n\n  // Public resolved fields (from i18n)\n  badge: string;\n  title?: string | null;\n  description?: string | null;\n\n  price_amount: string; // decimal string\n  price_unit: string; // \"hour\"\n  currency: string; // \"USD\"\n\n  features: string[];\n\n  cta_label?: string | null;\n  cta_href?: string | null;\n\n  is_active: boolean;\n  is_featured: boolean;\n  display_order: number;\n\n  created_at?: string;\n  updated_at?: string;\n}\n\n// Admin returns parent + i18n array (repo patternin böyle)\nexport interface PricingPlanI18nRow {\n  id: string;\n  plan_id: string;\n  locale: string;\n\n  badge: string;\n  title?: string | null;\n  description?: string | null;\n\n  features: string[];\n\n  cta_label?: string | null;\n  cta_href?: string | null;\n\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport type PricingPlanAdmin = {\n  id: string;\n  code: string;\n\n  price_amount: string;\n  price_unit: string;\n  currency: string;\n\n  is_active: boolean;\n  is_featured: boolean;\n  display_order: number;\n\n  cta_href?: string | null;\n\n  created_at?: string;\n  updated_at?: string;\n\n  i18n: PricingPlanI18nRow[];\n};\n\nexport interface PricingPublicResponse {\n  plans: PricingPlan[];\n}\n\nexport type PricingPublicParams = {\n  locale?: string;\n  plans_limit?: number;\n};\n\nexport type PricingPlanListParams = {\n  // admin list paging\n  limit?: number;\n  offset?: number;\n};\n\nexport type UpsertPricingPlanInput = {\n  code: string;\n\n  price_amount: string | number;\n  price_unit?: string;\n  currency?: string;\n\n  is_active?: boolean;\n  is_featured?: boolean;\n  display_order?: number;\n\n  cta_href?: string | null;\n\n  i18n: Array<{\n    locale: string;\n    badge: string;\n\n    title?: string | null;\n    description?: string | null;\n\n    // string[] or csv accepted (backend accepts both, same as zod)\n    features?: string[] | string;\n\n    cta_label?: string | null;\n    cta_href?: string | null;\n  }>;\n};\n\nexport type PatchPricingPlanInput = Partial<UpsertPricingPlanInput>;\n\n// ----------------------------- Query mappers -----------------------------\n\n// Admin: /admin/pricing/plans?limit=&offset=\nexport function toAdminPricingQuery(p?: PricingPlanListParams) {\n  if (!p) return undefined;\n  const q: Record<string, any> = {};\n  if (typeof p.limit === 'number') q.limit = p.limit;\n  if (typeof p.offset === 'number') q.offset = p.offset;\n  return q;\n}\n\n// Public: /pricing?locale=en&plans_limit=10\nexport const toPublicPricingQuery = (p?: PricingPublicParams | void | null) => {\n  const q: Record<string, any> = {};\n  if (!p) return q;\n\n  if (p.locale) q.locale = p.locale;\n  if (typeof p.plans_limit === 'number') q.plans_limit = p.plans_limit;\n\n  return q;\n};\n\nexport type Props = { locale: string };\n\nexport const safeArr = <T>(v: unknown): T[] => (Array.isArray(v) ? (v as T[]) : []);\n\nexport const money = (amount?: string, currency?: string) => {\n  const a = (amount ?? '0.00').toString();\n  const symbol = currency === 'EUR' ? '€' : currency === 'GBP' ? '£' : '$';\n  return `${symbol}${a}`;\n};\n\nexport const unitText = (unit?: string) => {\n  const u = (unit || 'hour').toLowerCase();\n  if (u === 'hour' || u === 'hr') return '/H';\n  if (u === 'day') return '/Day';\n  if (u === 'month') return '/Month';\n  return `/${u}`;\n};\n","// =============================================================\n// FILE: frontend/src/integrations/shared/resume.ts\n// FINAL — Resume (education/experience) types + query mappers\n// - FIX: public is_active => 1/0 (not boolean) for maximum backend compatibility\n// - FIX: splitResume wrapper tolerant\n// =============================================================\n\nimport type { BoolLike } from '@/integrations/shared';\n\nexport type ResumeType = 'education' | 'experience';\n\nexport interface ResumeMerged {\n  id: string;\n  type: ResumeType;\n  is_active: boolean;\n  display_order: number;\n\n  start_date: string; // YYYY-MM-DD\n  end_date: string | null;\n  is_current: boolean;\n\n  location: string | null;\n  organization: string | null;\n\n  score_value: string | null;\n  score_scale: number;\n\n  locale: string;\n  title: string;\n  subtitle: string;\n  description: string | null;\n  highlights: string[];\n  slug: string;\n\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport type ResumeGroupedResponse = {\n  locale: string;\n  education: ResumeMerged[];\n  experience: ResumeMerged[];\n};\n\nexport type ResumeListParams = {\n  locale?: string;\n  default_locale?: string;\n\n  type?: ResumeType;\n  search?: string;\n  slug?: string;\n  active?: boolean;\n\n  limit?: number;\n  offset?: number;\n\n  orderBy?: 'created_at' | 'updated_at' | 'display_order' | 'start_date';\n  order?: 'asc' | 'desc';\n};\n\n// --------------------------------------------------\n// Admin payloads (create/patch)\n// Backend: upsertResumeBodySchema / patchResumeBodySchema\n// --------------------------------------------------\n\nexport type UpsertResumeInput = {\n  // parent\n  type: ResumeType;\n  is_active?: BoolLike;\n  display_order?: number;\n\n  start_date: string; // YYYY-MM-DD\n  end_date?: string;\n  is_current?: BoolLike;\n\n  location?: string;\n  organization?: string;\n\n  score_value?: number | string;\n  score_scale?: number;\n\n  // i18n\n  locale?: string;\n  title: string;\n  subtitle: string;\n  description?: string;\n  highlights?: string[] | string;\n  slug: string;\n};\n\nexport type PatchResumeInput = Partial<UpsertResumeInput>;\n\nexport type GetResumeEntryParams = { id: string; locale?: string; default_locale?: string };\nexport type GetResumeBySlugParams = { slug: string; locale?: string; default_locale?: string };\n\nexport function safeLocale(v?: string) {\n  const s = (v || '').trim().toLowerCase();\n  return s || 'en';\n}\n\nexport function yearRange(item: ResumeMerged) {\n  const sY = item.start_date?.slice(0, 4) || '';\n  const eY = item.is_current ? 'Present' : item.end_date?.slice(0, 4) || '';\n  if (!sY && !eY) return '';\n  return eY ? `${sY} - ${eY}` : sY;\n}\n\nexport function toPublicQuery(p?: ResumeListParams | void | null) {\n  const q: Record<string, any> = {};\n\n  // ✅ public default: active only (as number)\n  q.is_active = 1;\n\n  if (!p) return q;\n\n  if (p.locale) q.locale = p.locale;\n  if (p.default_locale) q.default_locale = p.default_locale;\n\n  if (p.search) q.q = p.search;\n  if (p.slug) q.slug = p.slug;\n  if (p.type) q.type = p.type;\n\n  // ✅ IMPORTANT: always send as 1/0\n  if (typeof p.active === 'boolean') q.is_active = p.active ? 1 : 0;\n\n  if (typeof p.limit === 'number') q.limit = p.limit;\n  if (typeof p.offset === 'number') q.offset = p.offset;\n\n  if (p.orderBy && p.order) q.order = `${p.orderBy}.${p.order}`;\n\n  return q;\n}\n\n// Admin query mapper (no default is_active)\nexport function toAdminResumeQuery(p?: ResumeListParams | void | null) {\n  const q: Record<string, any> = {};\n  if (!p) return q;\n\n  if (p.locale) q.locale = p.locale;\n  if (p.default_locale) q.default_locale = p.default_locale;\n\n  if (p.search) q.q = p.search;\n  if (p.slug) q.slug = p.slug;\n  if (p.type) q.type = p.type;\n\n  if (typeof p.active === 'boolean') q.is_active = p.active;\n\n  if (typeof p.limit === 'number') q.limit = p.limit;\n  if (typeof p.offset === 'number') q.offset = p.offset;\n\n  if (p.orderBy && p.order) q.order = `${p.orderBy}.${p.order}`;\n\n  return q;\n}\n\n/**\n * backend response tolerant splitter\n * Supports:\n * - grouped: {education:[], experience:[]}\n * - wrapped: {data:{education:[], experience:[]}} etc.\n * - list: {items:[...]} or [...] (then split by type)\n */\nexport function splitResume(raw: any): { education: ResumeMerged[]; experience: ResumeMerged[] } {\n  const r = raw?.data ?? raw?.result ?? raw?.payload ?? raw;\n\n  if (r && typeof r === 'object' && (Array.isArray(r.education) || Array.isArray(r.experience))) {\n    return {\n      education: Array.isArray(r.education) ? r.education : [],\n      experience: Array.isArray(r.experience) ? r.experience : [],\n    };\n  }\n\n  const arr: ResumeMerged[] = Array.isArray(r) ? r : Array.isArray(r?.items) ? r.items : [];\n\n  return {\n    education: arr.filter((x) => x?.type === 'education'),\n    experience: arr.filter((x) => x?.type === 'experience'),\n  };\n}\n","// ===================================================================\n// FILE: frontend/src/integrations/shared/skill.ts\n// FINAL — Skill types + helpers + query mappers\n// - Mirrors backend: skill_counters(+i18n) + skill_logos(+i18n)\n// - Public: GET /skills => grouped response\n// - Admin: /admin/skill-counters, /admin/skill-logos\n// - NO default_locale requirement (per request)\n// ===================================================================\n\nimport type { BoolLike } from '@/integrations/shared';\n\nexport type SkillTrack = 'right' | 'left';\n\nexport interface SkillCounterMerged {\n  id: string;\n  is_active: boolean;\n  display_order: number;\n\n  percent: number; // 0..100\n\n  image_url: string | null;\n  image_asset_id: string | null;\n\n  locale: string;\n  title: string;\n  slug: string;\n\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface SkillLogoMerged {\n  id: string;\n  is_active: boolean;\n  display_order: number;\n\n  track: SkillTrack;\n\n  image_url: string | null;\n  image_asset_id: string | null;\n\n  locale: string;\n  label: string;\n\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport type SkillsGroupedResponse = {\n  locale: string;\n  counters: SkillCounterMerged[];\n  logos_right: SkillLogoMerged[];\n  logos_left: SkillLogoMerged[];\n};\n\n// -----------------------------------------------------\n// Query params (list)\n// backend validation: limit/offset/is_active/track/locale\n// -----------------------------------------------------\nexport type SkillListParams = {\n  locale?: string;\n\n  limit?: number;\n  offset?: number;\n\n  active?: boolean; // maps to is_active\n  track?: SkillTrack;\n};\n\n// -----------------------------------------------------\n// Admin payloads (create/patch)\n// Backend: skill/validation.ts\n// -----------------------------------------------------\n\nexport type CreateSkillCounterInput = {\n  percent: number;\n\n  image_url?: string | null;\n  image_asset_id?: string | null;\n\n  is_active?: BoolLike;\n  display_order?: number;\n\n  locale?: string;\n  title: string;\n  slug: string;\n};\n\nexport type PatchSkillCounterInput = {\n  percent?: number;\n\n  image_url?: string | null;\n  image_asset_id?: string | null;\n\n  is_active?: BoolLike;\n  display_order?: number;\n\n  locale?: string;\n  title?: string;\n  slug?: string;\n};\n\nexport type CreateSkillLogoInput = {\n  track?: SkillTrack;\n\n  image_url?: string | null;\n  image_asset_id?: string | null;\n\n  is_active?: BoolLike;\n  display_order?: number;\n\n  locale?: string;\n  label: string;\n};\n\nexport type PatchSkillLogoInput = {\n  track?: SkillTrack;\n\n  image_url?: string | null;\n  image_asset_id?: string | null;\n\n  is_active?: BoolLike;\n  display_order?: number;\n\n  locale?: string;\n  label?: string;\n};\n\n// -----------------------------------------------------\n// Helpers\n// -----------------------------------------------------\nexport function unwrap<T>(raw: any): T {\n  return (raw?.data ?? raw?.result ?? raw?.payload ?? raw) as T;\n}\n\nexport function toPublicSkillQuery(p?: SkillListParams | void | null) {\n  const q: Record<string, any> = {};\n  q.is_active = true; // public default\n\n  if (!p) return q;\n\n  if (p.locale) q.locale = p.locale;\n\n  if (typeof p.active === 'boolean') q.is_active = p.active;\n\n  if (typeof p.limit === 'number') q.limit = p.limit;\n  if (typeof p.offset === 'number') q.offset = p.offset;\n\n  // optional (if backend ever supports filtering logos by track via query)\n  if (p.track) q.track = p.track;\n\n  return q;\n}\n\n// Admin list query (no default is_active)\nexport function toAdminSkillQuery(p?: SkillListParams | void | null) {\n  const q: Record<string, any> = {};\n  if (!p) return q;\n\n  if (p.locale) q.locale = p.locale;\n\n  if (typeof p.active === 'boolean') q.is_active = p.active;\n\n  if (typeof p.limit === 'number') q.limit = p.limit;\n  if (typeof p.offset === 'number') q.offset = p.offset;\n\n  if (p.track) q.track = p.track;\n\n  return q;\n}\n\n// -----------------------------------------------------\n// Splitters (tolerant)\n// -----------------------------------------------------\nfunction isSkillTrack(v: any): v is SkillTrack {\n  return v === 'right' || v === 'left';\n}\n\nexport function splitSkills(raw: any): SkillsGroupedResponse {\n  const r = unwrap<any>(raw);\n\n  // case A: grouped response from backend\n  if (\n    r &&\n    typeof r === 'object' &&\n    (Array.isArray(r.counters) || Array.isArray(r.logos_right) || Array.isArray(r.logos_left))\n  ) {\n    return {\n      locale: typeof r.locale === 'string' ? r.locale : 'en',\n      counters: Array.isArray(r.counters) ? r.counters : [],\n      logos_right: Array.isArray(r.logos_right) ? r.logos_right : [],\n      logos_left: Array.isArray(r.logos_left) ? r.logos_left : [],\n    };\n  }\n\n  // case B: list-ish response (best-effort)\n  const arr: any[] = Array.isArray(r) ? r : Array.isArray(r?.items) ? r.items : [];\n\n  const counters: SkillCounterMerged[] = arr.filter(\n    (x) => x && typeof x === 'object' && typeof x.percent !== 'undefined',\n  );\n\n  const logos: SkillLogoMerged[] = arr.filter(\n    (x) => x && typeof x === 'object' && isSkillTrack(x.track),\n  );\n\n  return {\n    locale: typeof r?.locale === 'string' ? r.locale : 'en',\n    counters,\n    logos_right: logos.filter((x) => x.track === 'right'),\n    logos_left: logos.filter((x) => x.track === 'left'),\n  };\n}\n\n// -------------------------\n// Convenience splitters\n// -------------------------\n/** convenience for Skills1 only */\nexport function splitSkillsCounters(raw: any): SkillCounterMerged[] {\n  return splitSkills(raw).counters || [];\n}\n\n/** convenience for Skills2 marquee (right track) */\nexport function splitSkillsLogosRight(raw: any): SkillLogoMerged[] {\n  return splitSkills(raw).logos_right || [];\n}\n\n/** convenience for Skills2 marquee (left track) */\nexport function splitSkillsLogosLeft(raw: any): SkillLogoMerged[] {\n  return splitSkills(raw).logos_left || [];\n}\n","// ===================================================================\n// FILE: frontend/src/integrations/shared/brand.ts\n// FINAL — Brand types + helpers + query mappers\n// - Mirrors backend: brand_logos(+i18n)\n// - Public: GET /brands => grouped response\n// - Admin: /admin/brands\n// ===================================================================\n\nimport type { BoolLike } from '@/integrations/shared';\nimport { unwrap } from '@/integrations/shared';\n\nexport type BrandTrack = 'right' | 'left';\n\nexport interface BrandLogoMerged {\n  id: string;\n  is_active: boolean;\n  display_order: number;\n\n  track: BrandTrack;\n\n  image_url: string | null;\n  image_asset_id: string | null;\n\n  locale: string;\n  label: string;\n\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport type BrandsGroupedResponse = {\n  locale: string;\n  logos_right: BrandLogoMerged[];\n  logos_left: BrandLogoMerged[];\n};\n\n// -----------------------------------------------------\n// Query params (list)\n// backend validation: limit/offset/is_active/track/locale\n// -----------------------------------------------------\nexport type BrandListParams = {\n  locale?: string;\n\n  limit?: number;\n  offset?: number;\n\n  active?: boolean; // maps to is_active\n  track?: BrandTrack;\n};\n\n// -----------------------------------------------------\n// Admin payloads (create/patch)\n// Backend: brand/validation.ts\n// -----------------------------------------------------\n\nexport type CreateBrandLogoInput = {\n  track?: BrandTrack;\n\n  image_url?: string | null;\n  image_asset_id?: string | null;\n\n  is_active?: BoolLike;\n  display_order?: number;\n\n  locale?: string;\n  label: string;\n};\n\nexport type PatchBrandLogoInput = {\n  track?: BrandTrack;\n\n  image_url?: string | null;\n  image_asset_id?: string | null;\n\n  is_active?: BoolLike;\n  display_order?: number;\n\n  locale?: string;\n  label?: string;\n};\n\n// -----------------------------------------------------\n// Helpers\n// -----------------------------------------------------\n\nexport function toPublicBrandQuery(p?: BrandListParams | void | null) {\n  const q: Record<string, any> = {};\n  q.is_active = true; // public default\n\n  if (!p) return q;\n\n  if (p.locale) q.locale = p.locale;\n\n  if (typeof p.active === 'boolean') q.is_active = p.active;\n\n  if (typeof p.limit === 'number') q.limit = p.limit;\n  if (typeof p.offset === 'number') q.offset = p.offset;\n\n  if (p.track) q.track = p.track;\n\n  return q;\n}\n\n// Admin list query (no default is_active)\nexport function toAdminBrandQuery(p?: BrandListParams | void | null) {\n  const q: Record<string, any> = {};\n  if (!p) return q;\n\n  if (p.locale) q.locale = p.locale;\n\n  if (typeof p.active === 'boolean') q.is_active = p.active;\n\n  if (typeof p.limit === 'number') q.limit = p.limit;\n  if (typeof p.offset === 'number') q.offset = p.offset;\n\n  if (p.track) q.track = p.track;\n\n  return q;\n}\n\n// -----------------------------------------------------\n// Splitters (tolerant)\n// -----------------------------------------------------\nfunction isBrandTrack(v: any): v is BrandTrack {\n  return v === 'right' || v === 'left';\n}\n\nexport function splitBrands(raw: any): BrandsGroupedResponse {\n  const r = unwrap<any>(raw);\n\n  // case A: grouped response from backend\n  if (\n    r &&\n    typeof r === 'object' &&\n    (Array.isArray(r.logos_right) || Array.isArray(r.logos_left))\n  ) {\n    return {\n      locale: typeof r.locale === 'string' ? r.locale : 'en',\n      logos_right: Array.isArray(r.logos_right) ? r.logos_right : [],\n      logos_left: Array.isArray(r.logos_left) ? r.logos_left : [],\n    };\n  }\n\n  // case B: list-ish response (best-effort)\n  const arr: any[] = Array.isArray(r) ? r : Array.isArray(r?.items) ? r.items : [];\n\n  const logos: BrandLogoMerged[] = arr.filter(\n    (x) => x && typeof x === 'object' && isBrandTrack(x.track),\n  );\n\n  return {\n    locale: typeof r?.locale === 'string' ? r.locale : 'en',\n    logos_right: logos.filter((x) => x.track === 'right'),\n    logos_left: logos.filter((x) => x.track === 'left'),\n  };\n}\n\nexport function splitBrandLogosRight(raw: any): BrandLogoMerged[] {\n  return splitBrands(raw).logos_right || [];\n}\n\nexport function splitBrandLogosLeft(raw: any): BrandLogoMerged[] {\n  return splitBrands(raw).logos_left || [];\n}\n\nexport function splitBrandLogosAll(raw: any): BrandLogoMerged[] {\n  const { logos_right, logos_left } = splitBrands(raw);\n  return [...logos_right, ...logos_left];\n}\n","// =============================================================\n// FILE: src/integrations/shared/pageCopies.ts\n// FINAL — Static page copy (site_settings) normalizers\n// =============================================================\n\nimport { parseJsonObject, uiText } from './common';\n\n// -----------------------------\n// Services Page\n// -----------------------------\n\nexport type ServicesPageCopy = {\n  badge: string;\n  title_html: string;\n  intro_html: string;\n  cta_label: string;\n  loading: string;\n  error: string;\n  empty: string;\n  highlight_label: string;\n  details_label: string;\n};\n\nexport function normalizeServicesPageCopy(val: unknown): ServicesPageCopy {\n  const o = parseJsonObject(val);\n\n  return {\n    badge: uiText(o.badge) || 'My Services',\n    title_html:\n      uiText(o.title_html) ||\n      'Transforming Ideas <span class=\"text-300\">into Intuitive Designs for</span> Engaging User <span class=\"text-300\">Experiences</span>',\n    intro_html:\n      uiText(o.intro_html) ||\n      'With expertise in mobile app and web design, I transform ideas into visually <br /> stunning and user-friendly interfaces that captivate and retain users. <br /> Explore my work and see design in action.',\n    cta_label: uiText(o.cta_label) || 'Get a Quote',\n    loading: uiText(o.loading) || 'Loading...',\n    error: uiText(o.error) || 'Failed to load services.',\n    empty: uiText(o.empty) || 'No services found.',\n    highlight_label: uiText(o.highlight_label) || 'Highlight',\n    details_label: uiText(o.details_label) || 'Details',\n  };\n}\n\n// -----------------------------\n// Work Page\n// -----------------------------\n\nexport type WorkPageCopy = {\n  badge: string;\n  title_html: string;\n  intro_html: string;\n  loading_title: string;\n  label_client: string;\n  label_completion_time: string;\n  label_tools: string;\n  updating: string;\n  empty_title: string;\n  empty_text: string;\n};\n\nexport function normalizeWorkPageCopy(val: unknown): WorkPageCopy {\n  const o = parseJsonObject(val);\n\n  return {\n    badge: uiText(o.badge) || 'Recent Work',\n    title_html:\n      uiText(o.title_html) ||\n      'Explore <span class=\"text-300\">My Latest Work and Discover the</span> Craftsmanship Behind <span class=\"text-300\">Each Design</span>',\n    intro_html:\n      uiText(o.intro_html) ||\n      'Explore my latest work and discover the craftsmanship behind each design: <br />a detailed look into how I bring innovation and creativity to life',\n    loading_title: uiText(o.loading_title) || 'Loading...',\n    label_client: uiText(o.label_client) || 'Client',\n    label_completion_time: uiText(o.label_completion_time) || 'Completion Time',\n    label_tools: uiText(o.label_tools) || 'Tools',\n    updating: uiText(o.updating) || 'Updating...',\n    empty_title: uiText(o.empty_title) || 'No projects found',\n    empty_text: uiText(o.empty_text) || 'Please add projects from admin panel.',\n  };\n}\n\n// -----------------------------\n// Pricing Page\n// -----------------------------\n\nexport type PricingPageCopy = {\n  badge: string;\n  title_html: string;\n  intro_html: string;\n  loading: string;\n  error: string;\n  empty: string;\n  cta_default_label: string;\n  faq_title: string;\n  faq_empty: string;\n  faq_error: string;\n};\n\nexport function normalizePricingPageCopy(val: unknown): PricingPageCopy {\n  const o = parseJsonObject(val);\n\n  return {\n    badge: uiText(o.badge) || 'My Pricing',\n    title_html:\n      uiText(o.title_html) || 'Affordable <span class=\"text-300\">Solutions for Every</span> Budget',\n    intro_html:\n      uiText(o.intro_html) ||\n      'Flexible Plans Tailored to Meet Your Unique Needs, Ensuring High-Quality Services <br /> Without Breaking the Bank',\n    loading: uiText(o.loading) || 'Loading...',\n    error: uiText(o.error) || 'Failed to load pricing/faq data.',\n    empty: uiText(o.empty) || 'No pricing plans found.',\n    cta_default_label: uiText(o.cta_default_label) || 'Order Now',\n    faq_title: uiText(o.faq_title) || 'Common Questions',\n    faq_empty: uiText(o.faq_empty) || 'No FAQs found.',\n    faq_error: uiText(o.faq_error) || 'Failed to load FAQs.',\n  };\n}\n\n// -----------------------------\n// Blog Page\n// -----------------------------\n\nexport type BlogPageCopy = {\n  badge: string;\n  title_html: string;\n  intro_html: string;\n  loading: string;\n  error: string;\n  read_time: string;\n  default_category: string;\n};\n\nexport function normalizeBlogPageCopy(val: unknown): BlogPageCopy {\n  const o = parseJsonObject(val);\n\n  return {\n    badge: uiText(o.badge) || 'Recent blog',\n    title_html:\n      uiText(o.title_html) ||\n      'Explore the <span class=\"text-dark\">insights and trends shaping</span> our industry',\n    intro_html:\n      uiText(o.intro_html) ||\n      'Discover key insights and emerging trends shaping the future of design: a detailed <br /> examination of how these innovations are reshaping our industry',\n    loading: uiText(o.loading) || 'Loading...',\n    error: uiText(o.error) || 'Failed to load posts.',\n    read_time: uiText(o.read_time) || '3 min read',\n    default_category: uiText(o.default_category) || 'Blog',\n  };\n}\n","// =============================================================\n// FILE: src/integrations/shared/footer_sections.types.ts\n// Ensotek – Footer Sections DTO & Payload Types\n// =============================================================\n\nimport { BoolLike, asStr, toNum } from '@/integrations/shared';\nimport type { ApiFooterSection } from '@/integrations/shared';\n\n/**\n * LIST query params – backend'deki footerSectionListQuerySchema ile uyumlu\n */\nexport interface FooterSectionListQueryParams {\n  order?: string; // \"display_order.asc\" vb.\n  sort?: 'display_order' | 'created_at' | 'updated_at';\n  orderDir?: 'asc' | 'desc';\n  limit?: number;\n  offset?: number;\n  is_active?: BoolLike;\n  q?: string;\n  slug?: string;\n  locale?: string; // 🔹 çoklu dil desteği\n}\n\n/**\n * Frontend için normalize edilmiş DTO\n */\nexport interface FooterSectionDto {\n  id: string;\n  is_active: boolean;\n  display_order: number;\n  created_at: string;\n  updated_at: string;\n\n  title: string;\n  slug: string;\n  description: string | null;\n  locale: string | null;\n}\n\n/**\n * Admin liste endpoint'i için response shape\n * (body: items[], header: x-total-count)\n */\nexport interface FooterSectionListResult {\n  items: FooterSectionDto[];\n  total: number;\n}\n\n/**\n * CREATE payload (UpsertFooterSectionBody)\n */\nexport interface FooterSectionCreatePayload {\n  // i18n\n  title: string;\n  slug: string;\n  description?: string | null;\n  locale?: string;\n\n  // parent\n  is_active?: BoolLike;\n  display_order?: number;\n}\n\n/**\n * UPDATE payload (PatchFooterSectionBody)\n */\nexport type FooterSectionUpdatePayload = Partial<FooterSectionCreatePayload>;\nexport const isTrue = (v: unknown): boolean => v === true || v === 1 || v === '1' || v === 'true';\n\nexport const normalizeFooterSection = (r: ApiFooterSection): FooterSectionDto => ({\n  id: asStr((r as any).id),\n  is_active: isTrue((r as any).is_active),\n  display_order: toNum((r as any).display_order, 0),\n  created_at: asStr((r as any).created_at),\n  updated_at: asStr((r as any).updated_at),\n  title: (r as any).title ?? '',\n  slug: (r as any).slug ?? '',\n  description: (r as any).description ?? null,\n  locale: ((r as any).locale_resolved ?? (r as any).locale ?? null) as any,\n});\n\nexport const isActiveFooterSection = (s?: FooterSectionDto | null): boolean =>\n  !!s && s.is_active !== false;\n\nexport const sortFooterSections = (items: FooterSectionDto[]): FooterSectionDto[] =>\n  (items || []).slice().sort((a, b) => (a.display_order ?? 0) - (b.display_order ?? 0));\n\nexport function stableKey(params?: FooterSectionListQueryParams | void) {\n  if (!params) return 'list:{}';\n  const p = params as FooterSectionListQueryParams;\n\n  const locale = (p as any).locale ?? '';\n  const q = (p as any).q ?? '';\n  const sort = (p as any).sort ?? '';\n  const orderDir = (p as any).orderDir ?? '';\n  const limit = typeof (p as any).limit === 'number' ? String((p as any).limit) : '';\n  const offset = typeof (p as any).offset === 'number' ? String((p as any).offset) : '';\n\n  return `list:{locale=${locale}|q=${q}|sort=${sort}|orderDir=${orderDir}|limit=${limit}|offset=${offset}}`;\n}\n\nexport type GetFooterSectionAdminArg = {\n  id: string;\n  locale?: string; // optional\n};\n","import type { CustomPageView } from '@/integrations/shared';\n\nexport function normalizeAssetPath(raw: string | null | undefined): string {\n  const s = String(raw ?? '').trim();\n  if (!s) return '';\n  if (/^https?:\\/\\//i.test(s) || s.startsWith('data:')) return s;\n  if (s.startsWith('/')) return s;\n  if (s.startsWith('assets/')) return `/${s}`;\n  return s;\n}\n\nexport function toTelHref(phone?: string) {\n  if (!phone) return '#';\n  return phone.startsWith('tel:') ? phone : `tel:${phone}`;\n}\n\nexport function toMailHref(email?: string) {\n  if (!email) return '#';\n  return email.startsWith('mailto:') ? email : `mailto:${email}`;\n}\n\nexport function toSkypeHref(skype?: string) {\n  if (!skype) return '#';\n  return skype.startsWith('skype:') ? skype : `skype:${skype}`;\n}\n\nexport function chunk<T>(arr: T[], size: number): T[][] {\n  const out: T[][] = [];\n  for (let i = 0; i < arr.length; i += size) out.push(arr.slice(i, i + size));\n  return out;\n}\n\nexport function pickBlogImage(p: CustomPageView, fallback: string) {\n  return (\n    p.featured_image_effective_url ||\n    p.image_effective_url ||\n    p.featured_image ||\n    p.image_url ||\n    p.images_effective_urls?.[0] ||\n    p.images?.[0] ||\n    fallback\n  );\n}\n","// =============================================================\n// FILE: src/integrations/shared/adminUi.ts\n// FINAL — Admin UI copy (site_settings.ui_admin) normalizer\n// =============================================================\n\nimport { parseJsonObject, uiText } from '@/integrations/shared';\nimport type { AdminNavCopy } from '@/navigation/sidebar/sidebar-items';\n\nexport type AdminUiCommonCopy = {\n  actions: {\n    create: string;\n    edit: string;\n    delete: string;\n    save: string;\n    cancel: string;\n    refresh: string;\n    search: string;\n    filter: string;\n    close: string;\n    back: string;\n    confirm: string;\n  };\n  states: {\n    loading: string;\n    error: string;\n    empty: string;\n    updating: string;\n    saving: string;\n  };\n};\n\nexport type AdminUiPageCopy = Record<string, string>;\n\nexport type AdminUiCopy = {\n  app_name: string;\n  nav: AdminNavCopy;\n  common: AdminUiCommonCopy;\n  pages: Record<string, AdminUiPageCopy>;\n};\n\nconst emptyCommon: AdminUiCommonCopy = {\n  actions: {\n    create: '',\n    edit: '',\n    delete: '',\n    save: '',\n    cancel: '',\n    refresh: '',\n    search: '',\n    filter: '',\n    close: '',\n    back: '',\n    confirm: '',\n  },\n  states: {\n    loading: '',\n    error: '',\n    empty: '',\n    updating: '',\n    saving: '',\n  },\n};\n\nconst emptyNav: AdminNavCopy = {\n  labels: {\n    general: '',\n    content: '',\n    marketing: '',\n    communication: '',\n    system: '',\n  },\n  items: {\n    dashboard: '',\n    site_settings: '',\n    custom_pages: '',\n    services: '',\n    projects: '',\n    offers: '',\n    pricing: '',\n    brands: '',\n    resume: '',\n    skills: '',\n    sliders: '',\n    menu_items: '',\n    footer_sections: '',\n    faqs: '',\n    popups: '',\n    newsletter: '',\n    contacts: '',\n    reviews: '',\n    bookings: '',\n    mail: '',\n    users: '',\n    email_templates: '',\n    notifications: '',\n    storage: '',\n    db: '',\n    audit: '',\n    availability: '',\n    reports: '',\n    resources: '',\n  },\n};\n\nexport function normalizeAdminUiCopy(raw: unknown): AdminUiCopy {\n  const o = parseJsonObject(raw);\n  const navRaw = parseJsonObject(o.nav);\n  const labelsRaw = parseJsonObject(navRaw.labels);\n  const itemsRaw = parseJsonObject(navRaw.items);\n\n  const labels: AdminNavCopy['labels'] = {\n    general: uiText(labelsRaw.general),\n    content: uiText(labelsRaw.content),\n    marketing: uiText(labelsRaw.marketing),\n    communication: uiText(labelsRaw.communication),\n    system: uiText(labelsRaw.system),\n  };\n\n  const items: AdminNavCopy['items'] = {\n    dashboard: uiText(itemsRaw.dashboard),\n    site_settings: uiText(itemsRaw.site_settings),\n    custom_pages: uiText(itemsRaw.custom_pages),\n    services: uiText(itemsRaw.services),\n    projects: uiText(itemsRaw.projects),\n    offers: uiText(itemsRaw.offers),\n    pricing: uiText(itemsRaw.pricing),\n    brands: uiText(itemsRaw.brands),\n    resume: uiText(itemsRaw.resume),\n    skills: uiText(itemsRaw.skills),\n    sliders: uiText(itemsRaw.sliders),\n    menu_items: uiText(itemsRaw.menu_items),\n    footer_sections: uiText(itemsRaw.footer_sections),\n    faqs: uiText(itemsRaw.faqs),\n    popups: uiText(itemsRaw.popups),\n    newsletter: uiText(itemsRaw.newsletter),\n    contacts: uiText(itemsRaw.contacts),\n    reviews: uiText(itemsRaw.reviews),\n    bookings: uiText(itemsRaw.bookings),\n    mail: uiText(itemsRaw.mail),\n    users: uiText(itemsRaw.users),\n    email_templates: uiText(itemsRaw.email_templates),\n    notifications: uiText(itemsRaw.notifications),\n    storage: uiText(itemsRaw.storage),\n    db: uiText(itemsRaw.db),\n    audit: uiText(itemsRaw.audit),\n    availability: uiText(itemsRaw.availability),\n    reports: uiText(itemsRaw.reports),\n    resources: uiText(itemsRaw.resources),\n  };\n\n  const commonRaw = parseJsonObject(o.common);\n  const actionsRaw = parseJsonObject(commonRaw.actions);\n  const statesRaw = parseJsonObject(commonRaw.states);\n\n  const common: AdminUiCommonCopy = {\n    actions: {\n      create: uiText(actionsRaw.create),\n      edit: uiText(actionsRaw.edit),\n      delete: uiText(actionsRaw.delete),\n      save: uiText(actionsRaw.save),\n      cancel: uiText(actionsRaw.cancel),\n      refresh: uiText(actionsRaw.refresh),\n      search: uiText(actionsRaw.search),\n      filter: uiText(actionsRaw.filter),\n      close: uiText(actionsRaw.close),\n      back: uiText(actionsRaw.back),\n      confirm: uiText(actionsRaw.confirm),\n    },\n    states: {\n      loading: uiText(statesRaw.loading),\n      error: uiText(statesRaw.error),\n      empty: uiText(statesRaw.empty),\n      updating: uiText(statesRaw.updating),\n      saving: uiText(statesRaw.saving),\n    },\n  };\n\n  const pagesRaw = parseJsonObject(o.pages);\n  const pages: Record<string, AdminUiPageCopy> = {};\n  for (const [k, v] of Object.entries(pagesRaw)) {\n    const row = parseJsonObject(v);\n    const out: AdminUiPageCopy = {};\n    for (const [rk, rv] of Object.entries(row)) {\n      out[rk] = uiText(rv);\n    }\n    pages[k] = out;\n  }\n\n  return {\n    app_name: uiText(o.app_name),\n    nav: {\n      labels: { ...emptyNav.labels, ...labels },\n      items: { ...emptyNav.items, ...items },\n    },\n    common: {\n      actions: { ...emptyCommon.actions, ...common.actions },\n      states: { ...emptyCommon.states, ...common.states },\n    },\n    pages,\n  };\n}\n","// =============================================================\n// FILE: src/integrations/types/audit.types.ts\n// konigsmassage – Audit Types (Frontend DTO + Query Params)\n// =============================================================\n\nimport type { BoolLike } from '@/integrations/shared/common';\n\nexport type AuditRequestLogDto = {\n  id: number;\n\n  req_id: string;\n  method: string;\n  url: string;\n  path: string;\n\n  status_code: number;\n  response_time_ms: number;\n\n  ip: string;\n  user_agent: string | null;\n  referer: string | null;\n\n  user_id: string | null;\n  is_admin: number;\n\n  country: string | null;\n  city: string | null;\n\n  created_at: string; // ISO\n};\n\nexport const AUDIT_AUTH_EVENTS = ['login_success', 'login_failed', 'logout'] as const;\nexport type AuditAuthEvent = (typeof AUDIT_AUTH_EVENTS)[number];\n\nexport type AuditAuthEventDto = {\n  id: number;\n\n  event: AuditAuthEvent;\n  user_id: string | null;\n  email: string | null;\n\n  ip: string;\n  user_agent: string | null;\n\n  country: string | null;\n  city: string | null;\n\n  created_at: string; // ISO\n};\n\nexport type AuditRequestLogsListQueryParams = {\n  q?: string;\n  method?: string;\n  status_code?: number;\n\n  user_id?: string;\n  ip?: string;\n\n  only_admin?: BoolLike;\n\n  created_from?: string; // \"2025-12-24 10:00:00.000\" gibi\n  created_to?: string;\n\n  sort?: 'created_at' | 'response_time_ms' | 'status_code';\n  orderDir?: 'asc' | 'desc';\n\n  limit?: number;\n  offset?: number;\n};\n\nexport type AuditAuthEventsListQueryParams = {\n  event?: AuditAuthEvent;\n  user_id?: string;\n  email?: string;\n  ip?: string;\n\n  created_from?: string;\n  created_to?: string;\n\n  sort?: 'created_at';\n  orderDir?: 'asc' | 'desc';\n\n  limit?: number;\n  offset?: number;\n};\n\n/**\n * ✅ Backend ile uyumlu:\n * GET /admin/audit/metrics/daily?days=14&only_admin=true&path_prefix=/api\n *\n * NOT: Backend'de created_from/created_to YOK (şu an).\n */\nexport type AuditMetricsDailyQueryParams = {\n  days?: number; // default 14\n  only_admin?: BoolLike;\n  path_prefix?: string;\n};\n\nexport type AuditMetricsDailyRowDto = {\n  date: string; // \"YYYY-MM-DD\"\n  requests: number;\n  unique_ips: number;\n  errors: number;\n};\n\nexport type AuditMetricsDailyResponseDto = {\n  days: AuditMetricsDailyRowDto[];\n  from?: string;\n  to?: string;\n  only_admin?: boolean;\n  path_prefix?: string;\n};\n\nexport type AuditMetricsDailyDto = AuditMetricsDailyResponseDto;\n\nexport type AuditListResponse<T> = { items: T[]; total: number };\n\nexport function coerceAuditList<T>(raw: unknown): AuditListResponse<T> {\n  const r = raw as any;\n  if (!r) return { items: [], total: 0 };\n  if (Array.isArray(r)) return { items: r as T[], total: r.length };\n  if (Array.isArray(r.items)) {\n    const total = Number.isFinite(Number(r.total)) ? Number(r.total) : r.items.length;\n    return { items: r.items as T[], total };\n  }\n  if (Array.isArray(r.data)) {\n    const total = Number.isFinite(Number(r.total)) ? Number(r.total) : r.data.length;\n    return { items: r.data as T[], total };\n  }\n  return { items: [], total: 0 };\n}\n\nexport function coerceAuditMetricsDaily(raw: unknown): AuditMetricsDailyResponseDto {\n  const r = raw as any;\n  if (!r) return { days: [] };\n  if (Array.isArray(r)) return { days: r as AuditMetricsDailyRowDto[] };\n  if (Array.isArray(r.days)) return r as AuditMetricsDailyResponseDto;\n  if (Array.isArray(r.items)) return { ...r, days: r.items };\n  if (Array.isArray(r.data)) return { ...r, days: r.data };\n  return { days: [] };\n}\n","// =============================================================\n// FILE: src/integrations/shared/availability.types.ts\n// FINAL — FE/RTK types aligned with backend availability module\n// =============================================================\n\nimport type { ResourceType } from '@/integrations/shared/resources.types';\n\nexport type UUID36 = string; // 36 chars\nexport type Ymd = string; // YYYY-MM-DD\nexport type Hm = string; // HH:mm\n\ntype Active01 = 0 | 1;\n\nconst pad2 = (n: number) => String(n).padStart(2, '0');\n\nfunction toIso(v: unknown): string {\n  if (typeof v === 'string') return v;\n  if (v instanceof Date) return v.toISOString();\n  return '';\n}\n\nfunction toHm(v: unknown): Hm {\n  if (v instanceof Date) {\n    const hh = String(v.getHours()).padStart(2, '0');\n    const mm = String(v.getMinutes()).padStart(2, '0');\n    return `${hh}:${mm}` as Hm;\n  }\n\n  const s = String(v ?? '').trim();\n  if (!s) return '00:00' as Hm;\n\n  if (s.includes('T') && s.includes(':')) {\n    const timePart = s.split('T')[1] ?? '';\n    return (timePart.slice(0, 5) || '00:00') as Hm;\n  }\n\n  return (s.length >= 5 ? s.slice(0, 5) : '00:00') as Hm;\n}\n\nfunction toActive01(v: unknown): Active01 {\n  if (v === true || v === 1 || v === '1' || v === 'true') return 1;\n  return 0;\n}\n\nfunction toBool(v: unknown): boolean {\n  return toActive01(v) === 1;\n}\n\n/* -------------------- Shared helpers (reused in admin UI) -------------------- */\n\nexport const RESOURCE_TYPE_VALUES: ResourceType[] = [\n  'therapist',\n  'doctor',\n  'table',\n  'room',\n  'staff',\n  'other',\n];\n\nexport const RESOURCE_TYPE_OPTIONS: Array<{ value: ResourceType; label: string }> = [\n  { value: 'therapist', label: 'Terapist' },\n  { value: 'doctor', label: 'Doktor' },\n  { value: 'table', label: 'Masa' },\n  { value: 'room', label: 'Oda' },\n  { value: 'staff', label: 'Personel' },\n  { value: 'other', label: 'Diğer' },\n];\n\nexport const RESOURCE_TYPE_FILTER_OPTIONS: Array<{ value: ResourceType | ''; label: string }> = [\n  { value: '', label: 'Tümü' },\n  ...RESOURCE_TYPE_OPTIONS,\n];\n\nexport function resourceTypeLabel(t: ResourceType | string | null | undefined): string {\n  const v = String(t ?? '').trim();\n  switch (v) {\n    case 'therapist':\n      return 'Terapist';\n    case 'doctor':\n      return 'Doktor';\n    case 'table':\n      return 'Masa';\n    case 'room':\n      return 'Oda';\n    case 'staff':\n      return 'Personel';\n    case 'other':\n      return 'Diğer';\n    default:\n      return v || '—';\n  }\n}\n\nexport function normalizeHm(v: unknown): Hm {\n  return toHm(v);\n}\n\nexport function normalizeYmd(v: unknown): Ymd {\n  const s = String(v ?? '').trim();\n  if (!s) return '' as Ymd;\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(s)) return s as Ymd;\n\n  const m = /^(\\d{2})\\.(\\d{2})\\.(\\d{4})$/.exec(s);\n  if (m) return `${m[3]}-${m[2]}-${m[1]}` as Ymd;\n\n  const d = new Date(s);\n  if (Number.isNaN(d.getTime())) return '' as Ymd;\n  return `${d.getFullYear()}-${pad2(d.getMonth() + 1)}-${pad2(d.getDate())}` as Ymd;\n}\n\nexport function hmToMinutes(hm: string): number {\n  const s = String(hm ?? '').trim();\n  const m = /^\\d{2}:\\d{2}$/.exec(s);\n  if (!m) return NaN;\n  const [hh, mm] = s.split(':').map((x) => Number(x));\n  if (!Number.isFinite(hh) || !Number.isFinite(mm)) return NaN;\n  return hh * 60 + mm;\n}\n\nexport function minutesToHm(mins: number): Hm {\n  const m = Math.max(0, Math.floor(Number(mins ?? 0)));\n  const hh = pad2(Math.floor(m / 60));\n  const mm = pad2(m % 60);\n  return `${hh}:${mm}` as Hm;\n}\n\nexport function clampInt(v: unknown, fallback: number, min = 0, max = 24 * 60) {\n  const n = Number(v);\n  if (!Number.isFinite(n)) return fallback;\n  return Math.max(min, Math.min(max, Math.trunc(n)));\n}\n\nexport function toActiveBool(v: unknown): boolean {\n  return toActive01(v) === 1;\n}\n\n/* -------------------- Working Hours -------------------- */\n\nexport interface ResourceWorkingHourDto {\n  id: UUID36;\n  resource_id: UUID36;\n  dow: number; // 1..7\n\n  start_time: string | Date; // TIME (db may serialize)\n  end_time: string | Date;\n\n  slot_minutes: number;\n  break_minutes: number;\n  capacity: number;\n\n  is_active: Active01 | boolean | number | string;\n\n  created_at: string | Date;\n  updated_at: string | Date;\n}\n\nexport interface ResourceWorkingHour {\n  id: UUID36;\n  resource_id: UUID36;\n  dow: number;\n\n  start_time: Hm;\n  end_time: Hm;\n\n  slot_minutes: number;\n  break_minutes: number;\n  capacity: number;\n\n  is_active: boolean;\n\n  created_at: string;\n  updated_at: string;\n}\n\nexport const normalizeResourceWorkingHour = (dto: ResourceWorkingHourDto): ResourceWorkingHour => ({\n  id: String(dto.id),\n  resource_id: String(dto.resource_id),\n  dow: Number(dto.dow),\n\n  start_time: toHm(dto.start_time),\n  end_time: toHm(dto.end_time),\n\n  slot_minutes: Number(dto.slot_minutes ?? 0),\n  break_minutes: Number(dto.break_minutes ?? 0),\n  capacity: Number(dto.capacity ?? 0),\n\n  is_active: toBool(dto.is_active),\n\n  created_at: toIso(dto.created_at),\n  updated_at: toIso(dto.updated_at),\n});\n\n/* -------------------- Slots (overrides) -------------------- */\n\nexport interface ResourceSlotDto {\n  id: UUID36;\n  slot_time: string | Date; // TIME\n  capacity: number;\n  is_active: Active01 | boolean | number | string;\n  reserved_count: number; // COALESCE join\n}\n\nexport interface ResourceSlot {\n  id: UUID36;\n  slot_time: Hm;\n  capacity: number;\n  is_active: boolean;\n  reserved_count: number;\n  available: boolean;\n}\n\nexport const normalizeResourceSlot = (dto: ResourceSlotDto): ResourceSlot => {\n  const cap = Number(dto.capacity ?? 0);\n  const reserved = Number((dto as any).reserved_count ?? 0);\n  const active = toBool(dto.is_active);\n\n  return {\n    id: String(dto.id),\n    slot_time: toHm(dto.slot_time),\n    capacity: cap,\n    is_active: active,\n    reserved_count: reserved,\n    available: active && cap > 0 && reserved < cap,\n  };\n};\n\n/* -------------------- Availability check -------------------- */\n\nexport interface SlotAvailabilityDto {\n  exists: boolean;\n  slot_id?: UUID36 | null;\n\n  is_active: Active01; // backend returns 0|1\n  capacity: number | null;\n  reserved_count: number;\n  available: boolean;\n}\n\nexport interface SlotAvailability {\n  exists: boolean;\n  slot_id: UUID36 | null;\n\n  is_active: boolean;\n  capacity: number | null;\n  reserved_count: number;\n  available: boolean;\n}\n\nexport const normalizeSlotAvailability = (dto: SlotAvailabilityDto): SlotAvailability => ({\n  exists: !!dto.exists,\n  slot_id: (dto as any).slot_id ? String((dto as any).slot_id) : null,\n  is_active: Number(dto.is_active ?? 0) === 1,\n  capacity: dto.capacity == null ? null : Number(dto.capacity),\n  reserved_count: Number(dto.reserved_count ?? 0),\n  available: !!dto.available,\n});\n\n/* -------------------- Plan (deterministic merged) -------------------- */\n\nexport interface PlannedSlotDto {\n  time: Hm;\n\n  wh_id: UUID36;\n  wh_start_time: string | Date; // \"HH:mm:00\" or Date\n  wh_end_time: string | Date;\n\n  slot_minutes: number;\n  break_minutes: number;\n\n  slot_id: UUID36 | null;\n\n  is_active: Active01; // backend 0|1\n  capacity: number;\n  reserved_count: number;\n  available: boolean;\n}\n\nexport interface PlannedSlot {\n  time: Hm;\n\n  wh_id: UUID36;\n  wh_start_time: Hm;\n  wh_end_time: Hm;\n\n  slot_minutes: number;\n  break_minutes: number;\n\n  slot_id: UUID36 | null;\n\n  is_active: boolean;\n  capacity: number;\n  reserved_count: number;\n  available: boolean;\n}\n\nexport const normalizePlannedSlot = (dto: PlannedSlotDto): PlannedSlot => ({\n  time: toHm(dto.time),\n\n  wh_id: String(dto.wh_id),\n  wh_start_time: toHm(dto.wh_start_time),\n  wh_end_time: toHm(dto.wh_end_time),\n\n  slot_minutes: Number(dto.slot_minutes ?? 0),\n  break_minutes: Number(dto.break_minutes ?? 0),\n\n  slot_id: dto.slot_id ? String(dto.slot_id) : null,\n\n  is_active: Number(dto.is_active ?? 0) === 1,\n  capacity: Number(dto.capacity ?? 0),\n  reserved_count: Number(dto.reserved_count ?? 0),\n  available: !!dto.available,\n});\n\n/* -------------------- Query params / payloads -------------------- */\n\nexport interface AvailabilitySlotsQuery {\n  resource_id: UUID36;\n  date: Ymd;\n}\n\nexport interface AvailabilityGetQuery extends AvailabilitySlotsQuery {\n  time: Hm;\n}\n\nexport interface AdminListWorkingHoursQuery {\n  resource_id: UUID36;\n}\n\nexport interface AdminUpsertWorkingHourPayload {\n  id?: UUID36;\n  resource_id: UUID36;\n  dow: number;\n  start_time: Hm;\n  end_time: Hm;\n\n  slot_minutes?: number;\n  break_minutes?: number;\n  capacity?: number;\n  is_active?: boolean | number | string;\n}\n\nexport interface AdminListSlotsQuery {\n  resource_id: UUID36;\n  date: Ymd;\n}\n\nexport interface AdminSlotAvailabilityQuery {\n  resource_id: UUID36;\n  date: Ymd;\n  time: Hm;\n}\n\nexport interface AdminPlanQuery {\n  resource_id: UUID36;\n  date: Ymd;\n}\n\nexport interface AdminGenerateSlotsPayload {\n  resource_id: UUID36;\n  date: Ymd;\n}\n\nexport interface AdminGenerateSlotsResult {\n  ok: boolean;\n  created: number;\n  planned: number;\n}\n\nexport interface AdminOverrideDayPayload {\n  resource_id: UUID36;\n  date: Ymd;\n  is_active: boolean | number | string;\n}\n\nexport interface AdminOverrideDayResult {\n  ok: boolean;\n  updated: number;\n  planned: number;\n}\n\nexport interface AdminOverrideSlotPayload {\n  resource_id: UUID36;\n  date: Ymd;\n  time: Hm;\n  is_active: boolean | number | string;\n}\n\nexport interface AdminOverrideSlotResult {\n  ok: boolean;\n  updated: boolean;\n  slot_id: UUID36 | null;\n}\n\n/* -------------------- Weekly plan -------------------- */\n\nexport interface WeeklyPlanDayDto {\n  dow: number; // 1..7\n  slot_times: Hm[];\n  ranges: Array<{\n    wh_id: UUID36;\n    start_time: Hm;\n    end_time: Hm;\n    slot_minutes: number;\n    break_minutes: number;\n    capacity: number;\n    is_active: Active01;\n  }>;\n}\n\nexport interface WeeklyPlanQuery {\n  resource_id: UUID36;\n  type?: string;\n}\n\nexport interface PublicWorkingHoursQuery {\n  resource_id: UUID36;\n}\n\n/* optional convenience */\nexport type AvailabilityResourceValues = {\n  title: string;\n  type: ResourceType;\n  is_active: boolean;\n  capacity: number;\n  external_ref_id?: string | null;\n};\n","// =============================================================\n// FILE: src/integrations/shared/resources.types.ts\n// Resources types & helpers\n// =============================================================\n\nexport type ResourceType = 'therapist' | 'doctor' | 'table' | 'room' | 'staff' | 'other';\n\nexport interface ResourceRowDto {\n  id: string;\n  title: string;\n  type: ResourceType;\n  is_active: boolean | number;\n  capacity: number;\n  external_ref_id?: string | null;\n  created_at: string | Date;\n  updated_at: string | Date;\n}\n\nexport interface ResourceAdminListItemDto {\n  id: string;\n  title: string;\n  label: string;\n  type: ResourceType;\n  is_active: boolean;\n  capacity: number;\n  external_ref_id?: string | null;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface ResourcesAdminListQueryParams {\n  q?: string;\n  type?: ResourceType | '';\n  status?: 'active' | 'inactive' | 'all';\n  limit?: number;\n  offset?: number;\n}\n\nexport interface ResourceCreatePayload {\n  title: string;\n  type: ResourceType;\n  is_active?: boolean;\n  capacity?: number;\n  external_ref_id?: string | null;\n}\n\nexport interface ResourceUpdatePayload {\n  title?: string;\n  type?: ResourceType;\n  is_active?: boolean;\n  capacity?: number;\n  external_ref_id?: string | null;\n}\n\n// Normalizer\nexport function normalizeResource(raw: unknown): ResourceAdminListItemDto {\n  const r = (raw ?? {}) as any;\n  return {\n    id: String(r.id ?? ''),\n    title: String(r.title ?? ''),\n    label: String(r.label ?? r.title ?? ''),\n    type: (r.type as ResourceType) || 'other',\n    is_active: Boolean(r.is_active === true || r.is_active === 1),\n    capacity: Number(r.capacity ?? 1),\n    external_ref_id: r.external_ref_id ?? null,\n    created_at: typeof r.created_at === 'string' ? r.created_at : (r.created_at?.toISOString?.() ?? new Date().toISOString()),\n    updated_at: typeof r.updated_at === 'string' ? r.updated_at : (r.updated_at?.toISOString?.() ?? new Date().toISOString()),\n  };\n}\n\n// Helper\nexport function normalizeResourceList(raw: unknown): ResourceAdminListItemDto[] {\n  if (!Array.isArray(raw)) return [];\n  return raw.map(normalizeResource);\n}\n","// =============================================================\n// FILE: src/integrations/hooks.ts\n// Barrel exports for RTK Query hooks (Xilan)\n// =============================================================\n\n// =========================\n// Public / Shared endpoints\n// =========================\n\n// Auth (Public)\nexport * from '@/integrations/endpoints/users/auth_public.endpoints';\nexport * from '@/integrations/endpoints/users/profiles.endpoints';\nexport * from '@/integrations/endpoints/users/user_roles.endpoints';\n\n// Public Endpoints\nexport * from '@/integrations/endpoints/public/site_settings_public.endpoints';\n\n// =========================\n// Admin endpoints\n// =========================\n\n// Core / Auth / Dashboard / DB\nexport * from '@/integrations/endpoints/admin/users/auth_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/users/roles_admin.endpoints';\n\nexport * from '@/integrations/endpoints/admin/dashboard_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/db_admin.endpoints';\n\n// Content / CMS\nexport * from '@/integrations/endpoints/admin/custom_pages_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/contacts_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/reviews_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/faqs_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/sliders_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/services_admin.endpoints';\n\n// System / Infra / RBAC\nexport * from '@/integrations/endpoints/admin/audit_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/site_settings_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/storage_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/users/roles_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/email_templates_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/mail_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/newsletter_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/notifications_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/offers_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/reports_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/bookings_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/popups_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/menu_items_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/projects_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/pricing_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/resume.admin.endpoints';\nexport * from '@/integrations/endpoints/admin/skill.admin.endpoints';\nexport * from '@/integrations/endpoints/admin/brands.admin.endpoints';\nexport * from '@/integrations/endpoints/admin/footer_sections_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/resources_admin.endpoints';\nexport * from '@/integrations/endpoints/admin/availability_admin.endpoints';\n","// =============================================================\n// FILE: src/integrations/endpoints/public/profiles.endpoints.ts\n// FINAL — Profiles RTK (me + public by id)\n// Backend:\n// - GET  /profiles/me        (auth)\n// - PUT  /profiles/me        (auth)\n// - GET  /profiles/:id       (public)  ✅ NEW\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  GetMyProfileResp,\n  UpsertMyProfileReq,\n  UpsertMyProfileResp,\n  Profile,\n} from '@/integrations/shared';\nimport { normalizeProfile } from '@/integrations/shared';\n\nexport const profilesApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    getMyProfile: b.query<GetMyProfileResp, void>({\n      query: () => ({ url: '/profiles/me', method: 'GET' }),\n      transformResponse: (res: unknown): GetMyProfileResp => {\n        if (!res) return null;\n        return normalizeProfile(res as any);\n      },\n      providesTags: ['Profile'],\n    }),\n\n    upsertMyProfile: b.mutation<UpsertMyProfileResp, UpsertMyProfileReq>({\n      query: (body) => ({ url: '/profiles/me', method: 'PUT', body }),\n      transformResponse: (res: unknown): UpsertMyProfileResp => normalizeProfile(res as any),\n      invalidatesTags: ['Profile'],\n    }),\n\n    // ✅ NEW: Public profile by id (author box için)\n    getProfileById: b.query<Profile | null, string>({\n      query: (id) => ({ url: `/profiles/${encodeURIComponent(id)}`, method: 'GET' }),\n      transformResponse: (res: unknown): Profile | null => {\n        if (!res) return null;\n        return normalizeProfile(res as any);\n      },\n      providesTags: ['Profile'],\n      keepUnusedDataFor: 60,\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const { useGetMyProfileQuery, useUpsertMyProfileMutation, useGetProfileByIdQuery } =\n  profilesApi;\n","// src/integrations/endpoints/user_roles.endpoints.ts\nimport { baseApi } from '@/integrations/baseApi';\nimport type { UserRole, UserRolesListParams } from '@/integrations/shared';\n\nexport const userRolesApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    listUserRoles: b.query<UserRole[], UserRolesListParams | void>({\n      query: (params) => {\n        const p = (params ?? {}) as UserRolesListParams;\n        return {\n          url: '/user_roles',\n          params: {\n            user_id: p.user_id,\n            role: p.role,\n            order: p.order ?? 'created_at',\n            direction: p.direction ?? 'asc',\n            limit: p.limit,\n            offset: p.offset,\n          },\n        };\n      },\n      transformResponse: (res: unknown): UserRole[] =>\n        Array.isArray(res) ? (res as UserRole[]) : [],\n      providesTags: (result) =>\n        result && result.length\n          ? [\n              ...result.map((r) => ({ type: 'UserRole' as const, id: r.id })),\n              { type: 'UserRoles' as const, id: 'LIST' },\n            ]\n          : [{ type: 'UserRoles' as const, id: 'LIST' }],\n    }),\n\n    createUserRole: b.mutation<UserRole, { user_id: string; role: UserRole['role'] }>({\n      query: (body) => ({ url: '/user_roles', method: 'POST', body }),\n      invalidatesTags: [{ type: 'UserRoles', id: 'LIST' }],\n    }),\n\n    deleteUserRole: b.mutation<{ ok: true }, { id: string }>({\n      query: ({ id }) => ({ url: `/user_roles/${encodeURIComponent(id)}`, method: 'DELETE' }),\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: [{ type: 'UserRoles', id: 'LIST' }],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const { useListUserRolesQuery, useCreateUserRoleMutation, useDeleteUserRoleMutation } =\n  userRolesApi;\n\n// Legacy/admin-panel aliases\nexport const useAdminUserRolesListQuery = useListUserRolesQuery;\nexport const useAdminUserRoleCreateMutation = useCreateUserRoleMutation;\nexport const useAdminUserRoleDeleteMutation = useDeleteUserRoleMutation;\n","// =============================================================\n// FILE: src/integrations/endpoints/public/site_settings_public.endpoints.ts\n// Public site settings endpoints (read-only)\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type { SiteSettingRow } from '@/integrations/shared';\nimport { normalizeAdminSiteSettingRow } from '@/integrations/shared';\n\nexport type PublicSiteSetting = SiteSettingRow;\n\nconst PUBLIC_BASE = '/site_settings';\n\nexport const siteSettingsPublicApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    listSiteSettings: b.query<PublicSiteSetting[], void>({\n      query: () => ({ url: PUBLIC_BASE }),\n      transformResponse: (res: unknown): PublicSiteSetting[] =>\n        Array.isArray(res) ? (res as SiteSettingRow[]).map(normalizeAdminSiteSettingRow) : [],\n      providesTags: (result) =>\n        result\n          ? [\n              ...result.map((s) => ({ type: 'SiteSettings' as const, id: s.key })),\n              { type: 'SiteSettings' as const, id: 'PUBLIC_LIST' },\n            ]\n          : [{ type: 'SiteSettings' as const, id: 'PUBLIC_LIST' }],\n      keepUnusedDataFor: 300, // 5 minutes cache for public\n    }),\n\n    getSiteSettingByKey: b.query<PublicSiteSetting | null, string>({\n      query: (key) => ({ url: `${PUBLIC_BASE}/${encodeURIComponent(key)}` }),\n      transformResponse: (res: unknown): PublicSiteSetting | null =>\n        res ? normalizeAdminSiteSettingRow(res as SiteSettingRow) : null,\n      providesTags: (_r, _e, key) => [{ type: 'SiteSettings', id: key }],\n      keepUnusedDataFor: 300, // 5 minutes cache\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useListSiteSettingsQuery,\n  useLazyListSiteSettingsQuery,\n  useGetSiteSettingByKeyQuery,\n  useLazyGetSiteSettingByKeyQuery,\n} = siteSettingsPublicApi;\n","// src/integrations/endpoints/admin/auth_admin.endpoints.ts\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  AdminUserRaw,\n  AdminUserView,\n  AdminUsersListParams,\n  AdminUpdateUserBody,\n  AdminSetActiveBody,\n  AdminSetRolesBody,\n  AdminSetPasswordBody,\n  AdminRemoveUserBody,\n} from '@/integrations/shared';\nimport { normalizeAdminUser } from '@/integrations/shared';\n\nconst ADMIN_USERS_BASE = '/users';\n\nexport const authAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    /** GET /users */\n    adminList: b.query<AdminUserView[], AdminUsersListParams | void>({\n      query: (params) => {\n        const p = (params ?? {}) as AdminUsersListParams;\n        const sp = new URLSearchParams();\n\n        if (p.q) sp.set('q', p.q);\n        if (p.role) sp.set('role', p.role);\n        if (typeof p.is_active === 'boolean') sp.set('is_active', p.is_active ? '1' : '0');\n        if (p.limit != null) sp.set('limit', String(p.limit));\n        if (p.offset != null) sp.set('offset', String(p.offset));\n        if (p.sort) sp.set('sort', p.sort);\n        if (p.order) sp.set('order', p.order);\n\n        const qs = sp.toString();\n        return { url: qs ? `${ADMIN_USERS_BASE}?${qs}` : ADMIN_USERS_BASE, method: 'GET' };\n      },\n      transformResponse: (res: unknown): AdminUserView[] => {\n        if (!Array.isArray(res)) return [];\n        return (res as AdminUserRaw[]).map(normalizeAdminUser);\n      },\n      providesTags: (result) =>\n        result && result.length\n          ? [\n              ...result.map((u) => ({ type: 'AdminUsers' as const, id: u.id })),\n              { type: 'AdminUsers' as const, id: 'LIST' },\n            ]\n          : [{ type: 'AdminUsers' as const, id: 'LIST' }],\n    }),\n\n    /** GET /users/:id */\n    adminGet: b.query<AdminUserView, { id: string }>({\n      query: ({ id }) => ({ url: `${ADMIN_USERS_BASE}/${encodeURIComponent(id)}`, method: 'GET' }),\n      transformResponse: (res: unknown): AdminUserView => normalizeAdminUser(res as AdminUserRaw),\n      providesTags: (_r, _e, arg) => [{ type: 'AdminUsers' as const, id: arg.id }],\n    }),\n\n    /** PATCH /users/:id */\n    adminUpdateUser: b.mutation<AdminUserView, AdminUpdateUserBody>({\n      query: ({ id, ...patch }) => ({\n        url: `${ADMIN_USERS_BASE}/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: patch,\n      }),\n      transformResponse: (res: unknown): AdminUserView => normalizeAdminUser(res as AdminUserRaw),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'AdminUsers' as const, id: arg.id },\n        { type: 'AdminUsers' as const, id: 'LIST' },\n      ],\n    }),\n\n    /** POST /users/:id/active */\n    adminSetActive: b.mutation<{ ok: true }, AdminSetActiveBody>({\n      query: ({ id, is_active }) => ({\n        url: `${ADMIN_USERS_BASE}/${encodeURIComponent(id)}/active`,\n        method: 'POST',\n        body: { is_active },\n      }),\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'AdminUsers' as const, id: arg.id },\n        { type: 'AdminUsers' as const, id: 'LIST' },\n      ],\n    }),\n\n    /** POST /users/:id/roles */\n    adminSetRoles: b.mutation<{ ok: true }, AdminSetRolesBody>({\n      query: ({ id, roles }) => ({\n        url: `${ADMIN_USERS_BASE}/${encodeURIComponent(id)}/roles`,\n        method: 'POST',\n        body: { roles },\n      }),\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'AdminUsers' as const, id: arg.id },\n        { type: 'AdminUsers' as const, id: 'LIST' },\n        { type: 'UserRoles' as const, id: 'LIST' },\n      ],\n    }),\n\n    /** POST /users/:id/password */\n    adminSetPassword: b.mutation<{ ok: true }, AdminSetPasswordBody>({\n      query: ({ id, password }) => ({\n        url: `${ADMIN_USERS_BASE}/${encodeURIComponent(id)}/password`,\n        method: 'POST',\n        body: { password },\n      }),\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'AdminUsers' as const, id: arg.id },\n        { type: 'AdminUsers' as const, id: 'LIST' },\n      ],\n    }),\n\n    /** DELETE /users/:id */\n    adminRemoveUser: b.mutation<{ ok: true }, AdminRemoveUserBody>({\n      query: ({ id }) => ({\n        url: `${ADMIN_USERS_BASE}/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'AdminUsers' as const, id: arg.id },\n        { type: 'AdminUsers' as const, id: 'LIST' },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useAdminListQuery,\n  useAdminGetQuery,\n  useAdminUpdateUserMutation,\n  useAdminSetActiveMutation,\n  useAdminSetRolesMutation,\n  useAdminSetPasswordMutation,\n  useAdminRemoveUserMutation,\n} = authAdminApi;\n\n// Legacy/admin-panel aliases\nexport const useListUsersAdminQuery = useAdminListQuery;\nexport const useGetUserAdminQuery = useAdminGetQuery;\nexport const useUpdateUserAdminMutation = useAdminUpdateUserMutation;\nexport const useSetUserActiveAdminMutation = useAdminSetActiveMutation;\nexport const useSetUserRolesAdminMutation = useAdminSetRolesMutation;\nexport const useSetUserPasswordAdminMutation = useAdminSetPasswordMutation;\nexport const useRemoveUserAdminMutation = useAdminRemoveUserMutation;\n","// src/integrations/endpoints/admin/roles_admin.endpoints.ts\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  ApiRole,\n  Role,\n  Permission,\n  RolesListParams,\n  UpsertRoleBody,\n  PatchRoleBody,\n} from '@/integrations/shared';\nimport { normalizeRole } from '@/integrations/shared';\n\nexport const rolesAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    listRolesAdmin: b.query<Role[], RolesListParams | void>({\n      query: () => ({ url: '/admin/roles' }),\n      transformResponse: (res: unknown): Role[] => {\n        if (Array.isArray(res)) return (res as ApiRole[]).map(normalizeRole);\n        const maybe = res as { data?: unknown };\n        return Array.isArray(maybe?.data) ? (maybe.data as ApiRole[]).map(normalizeRole) : [];\n      },\n      providesTags: (result) =>\n        result\n          ? [\n              ...result.map((r) => ({ type: 'Role' as const, id: r.slug })),\n              { type: 'Roles' as const, id: 'LIST' },\n            ]\n          : [{ type: 'Roles' as const, id: 'LIST' }],\n    }),\n\n    getRoleAdmin: b.query<Role, string>({\n      query: (slug) => ({ url: `/admin/roles/${encodeURIComponent(slug)}` }),\n      transformResponse: (res: unknown): Role => normalizeRole(res as ApiRole),\n      providesTags: (_r, _e, slug) => [{ type: 'Role' as const, id: slug }],\n    }),\n\n    createRoleAdmin: b.mutation<Role, UpsertRoleBody>({\n      query: (body) => ({ url: '/admin/roles', method: 'POST', body }),\n      transformResponse: (res: unknown): Role => normalizeRole(res as ApiRole),\n      invalidatesTags: [{ type: 'Roles' as const, id: 'LIST' }],\n    }),\n\n    updateRoleAdmin: b.mutation<Role, { slug: string; body: PatchRoleBody }>({\n      query: ({ slug, body }) => ({\n        url: `/admin/roles/${encodeURIComponent(slug)}`,\n        method: 'PATCH',\n        body,\n      }),\n      transformResponse: (res: unknown): Role => normalizeRole(res as ApiRole),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Role' as const, id: arg.slug },\n        { type: 'Roles' as const, id: 'LIST' },\n      ],\n    }),\n\n    deleteRoleAdmin: b.mutation<{ ok: true }, string>({\n      query: (slug) => ({ url: `/admin/roles/${encodeURIComponent(slug)}`, method: 'DELETE' }),\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: [{ type: 'Roles' as const, id: 'LIST' }],\n    }),\n\n    listPermissionsAdmin: b.query<Permission[], void>({\n      query: () => ({ url: '/admin/permissions' }),\n      transformResponse: (res: unknown): Permission[] => {\n        if (Array.isArray(res)) {\n          return (res as Permission[]).map((p) => ({\n            ...p,\n            key: String((p as any).key),\n            name: String((p as any).name),\n            group: (p as any).group ?? null,\n            description: (p as any).description ?? null,\n          }));\n        }\n        const maybe = res as { data?: unknown };\n        return Array.isArray(maybe?.data)\n          ? (maybe.data as Permission[]).map((p) => ({\n              ...p,\n              key: String((p as any).key),\n              name: String((p as any).name),\n              group: (p as any).group ?? null,\n              description: (p as any).description ?? null,\n            }))\n          : [];\n      },\n      providesTags: [{ type: 'Permissions' as const, id: 'LIST' }],\n    }),\n\n    setRolePermissionsAdmin: b.mutation<{ ok: true }, { slug: string; permissions: string[] }>({\n      query: ({ slug, permissions }) => ({\n        url: `/admin/roles/${encodeURIComponent(slug)}/permissions`,\n        method: 'POST',\n        body: { permissions },\n      }),\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Role' as const, id: arg.slug },\n        { type: 'Roles' as const, id: 'LIST' },\n        { type: 'Permissions' as const, id: 'LIST' },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListRolesAdminQuery,\n  useGetRoleAdminQuery,\n  useCreateRoleAdminMutation,\n  useUpdateRoleAdminMutation,\n  useDeleteRoleAdminMutation,\n  useListPermissionsAdminQuery,\n  useSetRolePermissionsAdminMutation,\n} = rolesAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/dashboard_admin.endpoints.ts\n// =============================================================\nimport { baseApi } from '@/integrations/baseApi';\nimport type { DashboardSummary } from '@/integrations/shared';\nimport { normalizeDashboardSummary } from '@/integrations/shared';\n\n// ---- API -----------------------------------------------------\nexport const dashboardAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    // GET /admin/dashboard/summary\n    getDashboardSummaryAdmin: b.query<DashboardSummary, void>({\n      query: () => ({ url: '/admin/dashboard/summary' }),\n      transformResponse: (res: unknown) => normalizeDashboardSummary(res),\n      providesTags: [{ type: 'Dashboard' as const, id: 'SUMMARY' }],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const { useGetDashboardSummaryAdminQuery } = dashboardAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/db_admin.endpoints.ts\n// =============================================================\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  DbImportResponse,\n  SqlImportFileParams,\n  SqlImportTextParams,\n  SqlImportUrlParams,\n  SqlImportParams,\n  DbSnapshot,\n  CreateDbSnapshotBody,\n  DeleteSnapshotResponse,\n} from '@/integrations/shared';\n\nconst ADMIN_BASE = '/admin/db';\n\nexport const dbAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    /* ---------------------------------------------------------\n     * EXPORT: GET /admin/db/export  -> Blob (.sql)\n     * --------------------------------------------------------- */\n    exportSql: b.mutation<Blob, void>({\n      query: () => ({\n        url: `${ADMIN_BASE}/export`,\n        method: 'GET',\n        credentials: 'include',\n        // Blob'u TS uyumlu almak için arrayBuffer + transform\n        responseHandler: (resp: Response) => resp.arrayBuffer(),\n      }),\n      transformResponse: (ab: ArrayBuffer) => new Blob([ab], { type: 'application/sql' }),\n    }),\n\n    /* ---------------------------------------------------------\n     * IMPORT (TEXT): POST /admin/db/import-sql\n     * body: { sql, dryRun?, truncateBefore? }\n     * --------------------------------------------------------- */\n    importSqlText: b.mutation<DbImportResponse, SqlImportTextParams>({\n      query: (body) => ({\n        url: `${ADMIN_BASE}/import-sql`,\n        method: 'POST',\n        body,\n        credentials: 'include',\n      }),\n    }),\n\n    /* ---------------------------------------------------------\n     * IMPORT (URL): POST /admin/db/import-url\n     * body: { url, dryRun?, truncateBefore? }  (gzip destekli)\n     * --------------------------------------------------------- */\n    importSqlUrl: b.mutation<DbImportResponse, SqlImportUrlParams>({\n      query: (body) => ({\n        url: `${ADMIN_BASE}/import-url`,\n        method: 'POST',\n        body,\n        credentials: 'include',\n      }),\n    }),\n\n    /* ---------------------------------------------------------\n     * IMPORT (FILE): POST /admin/db/import-file\n     * multipart: file(.sql|.gz) + fields: truncateBefore?\n     * (BE eski alan adı truncate_before_import'u da kabul ediyor)\n     * --------------------------------------------------------- */\n    importSqlFile: b.mutation<DbImportResponse, SqlImportFileParams>({\n      query: ({ file, truncateBefore }) => {\n        const form = new FormData();\n        form.append('file', file, file.name);\n        if (typeof truncateBefore !== 'undefined') {\n          form.append('truncateBefore', String(!!truncateBefore));\n          // eski alan adına da yazalım (tam uyumluluk)\n          form.append('truncate_before_import', String(!!truncateBefore));\n        }\n        return {\n          url: `${ADMIN_BASE}/import-file`,\n          method: 'POST',\n          body: form,\n          credentials: 'include',\n        };\n      },\n    }),\n\n    /* ---------------------------------------------------------\n     * (GERİYE DÖNÜK ALIAS)\n     * importSql: eski kullanımda file upload bekliyordu.\n     * İçeride /admin/db/import-file'a yönlendiriyoruz.\n     * --------------------------------------------------------- */\n    importSql: b.mutation<DbImportResponse, { file: File } & Partial<SqlImportParams>>({\n      query: ({ file, truncate_before_import }) => {\n        const form = new FormData();\n        form.append('file', file, file.name);\n        if (typeof truncate_before_import !== 'undefined') {\n          form.append('truncateBefore', String(!!truncate_before_import));\n          form.append('truncate_before_import', String(!!truncate_before_import));\n        }\n        return {\n          url: `${ADMIN_BASE}/import-file`,\n          method: 'POST',\n          body: form,\n          credentials: 'include',\n        };\n      },\n    }),\n\n    /* ---------------------------------------------------------\n     * SNAPSHOT LİSTESİ: GET /admin/db/snapshots\n     * --------------------------------------------------------- */\n    listDbSnapshots: b.query<DbSnapshot[], void>({\n      query: () => ({\n        url: `${ADMIN_BASE}/snapshots`,\n        method: 'GET',\n        credentials: 'include',\n      }),\n    }),\n\n    /* ---------------------------------------------------------\n     * SNAPSHOT OLUŞTUR: POST /admin/db/snapshots\n     * body: { label?, note? }\n     * --------------------------------------------------------- */\n    createDbSnapshot: b.mutation<DbSnapshot, CreateDbSnapshotBody | void>({\n      query: (body) => ({\n        url: `${ADMIN_BASE}/snapshots`,\n        method: 'POST',\n        body: body ?? {},\n        credentials: 'include',\n      }),\n    }),\n\n    /* ---------------------------------------------------------\n     * SNAPSHOT'TAN GERİ YÜKLE:\n     * POST /admin/db/snapshots/:id/restore\n     * body: { truncateBefore?: boolean, dryRun?: boolean }\n     * --------------------------------------------------------- */\n    restoreDbSnapshot: b.mutation<\n      DbImportResponse,\n      { id: string; dryRun?: boolean; truncateBefore?: boolean }\n    >({\n      query: ({ id, dryRun, truncateBefore }) => ({\n        url: `${ADMIN_BASE}/snapshots/${encodeURIComponent(id)}/restore`,\n        method: 'POST',\n        body: {\n          truncateBefore: truncateBefore ?? true,\n          dryRun: dryRun ?? false,\n        },\n        credentials: 'include',\n      }),\n    }),\n\n    /* ---------------------------------------------------------\n     * SNAPSHOT SİL: DELETE /admin/db/snapshots/:id\n     * --------------------------------------------------------- */\n    deleteDbSnapshot: b.mutation<DeleteSnapshotResponse, { id: string }>({\n      query: ({ id }) => ({\n        url: `${ADMIN_BASE}/snapshots/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n        credentials: 'include',\n      }),\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useExportSqlMutation,\n  useImportSqlTextMutation,\n  useImportSqlUrlMutation,\n  useImportSqlFileMutation,\n  // geriye dönük:\n  useImportSqlMutation,\n  // snapshot hooks:\n  useListDbSnapshotsQuery,\n  useCreateDbSnapshotMutation,\n  useRestoreDbSnapshotMutation,\n  useDeleteDbSnapshotMutation,\n} = dbAdminApi;\n","// =============================================================\n// FILE: src/integrations/rtk/endpoints/admin/custom_pages_admin.endpoints.ts\n// konigsmassage – Admin Custom Pages RTK Endpoints (FINAL)\n// Base URL: /api (baseApi üzerinden)\n// Backend: src/modules/customPages/admin.routes.ts\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  ApiCustomPage,\n  CustomPageDto,\n  CustomPageListAdminQueryParams,\n  CustomPageCreatePayload,\n  CustomPageUpdatePayload,\n} from '@/integrations/shared';\nimport { mapApiCustomPageToDto } from '@/integrations/shared';\n\nconst cleanParams = (\n  params?: Record<string, unknown>,\n): Record<string, string | number | boolean> | undefined => {\n  if (!params) return undefined;\n  const out: Record<string, string | number | boolean> = {};\n  for (const [k, v] of Object.entries(params)) {\n    if (v === undefined || v === null || v === '' || (typeof v === 'number' && Number.isNaN(v))) {\n      continue;\n    }\n    if (typeof v === 'boolean' || typeof v === 'number' || typeof v === 'string') out[k] = v;\n    else out[k] = String(v);\n  }\n  return Object.keys(out).length ? out : undefined;\n};\n\nconst getTotalFromHeaders = (headers: Headers | undefined, fallbackLength: number): number => {\n  const headerValue = headers?.get('x-total-count') ?? headers?.get('X-Total-Count');\n  if (!headerValue) return fallbackLength;\n  const n = Number(headerValue);\n  return Number.isFinite(n) && n >= 0 ? n : fallbackLength;\n};\n\nconst normalizeList = (raw: unknown): ApiCustomPage[] => {\n  if (Array.isArray(raw)) return raw as ApiCustomPage[];\n  const anyRaw: any = raw as any;\n  if (anyRaw && Array.isArray(anyRaw.items)) return anyRaw.items as ApiCustomPage[];\n  return [];\n};\n\nconst BASE = '/admin/custom_pages';\n\nexport const customPagesAdminApi = baseApi.injectEndpoints({\n  endpoints: (build) => ({\n    listCustomPagesAdmin: build.query<\n      { items: CustomPageDto[]; total: number },\n      CustomPageListAdminQueryParams | void\n    >({\n      query: (params) => ({\n        url: `${BASE}`,\n        method: 'GET',\n        params: cleanParams(params as any),\n      }),\n      transformResponse: (response: unknown, meta) => {\n        const rows = normalizeList(response);\n        const total = getTotalFromHeaders(meta?.response?.headers, rows.length);\n        return { items: rows.map(mapApiCustomPageToDto), total };\n      },\n      providesTags: (result) =>\n        result?.items?.length\n          ? [\n              ...result.items.map((p) => ({ type: 'CustomPage' as const, id: p.id })),\n              { type: 'CustomPage' as const, id: 'ADMIN_LIST' },\n            ]\n          : [{ type: 'CustomPage' as const, id: 'ADMIN_LIST' }],\n    }),\n\n    getCustomPageAdmin: build.query<\n      CustomPageDto,\n      { id: string; locale?: string; default_locale?: string }\n    >({\n      query: ({ id, locale, default_locale }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'GET',\n        params: cleanParams({ locale, default_locale }),\n      }),\n      transformResponse: (response: ApiCustomPage) => mapApiCustomPageToDto(response),\n      providesTags: (_result, _error, { id }) => [{ type: 'CustomPage' as const, id }],\n    }),\n\n    getCustomPageBySlugAdmin: build.query<\n      CustomPageDto,\n      { slug: string; locale?: string; default_locale?: string }\n    >({\n      query: ({ slug, locale, default_locale }) => ({\n        url: `${BASE}/by-slug/${encodeURIComponent(slug)}`,\n        method: 'GET',\n        params: cleanParams({ locale, default_locale }),\n      }),\n      transformResponse: (response: ApiCustomPage) => mapApiCustomPageToDto(response),\n      providesTags: (_result, _error, { slug }) => [{ type: 'CustomPageSlug' as const, id: slug }],\n    }),\n\n    createCustomPageAdmin: build.mutation<CustomPageDto, CustomPageCreatePayload>({\n      query: (body) => ({\n        url: `${BASE}`,\n        method: 'POST',\n        body,\n      }),\n      transformResponse: (response: ApiCustomPage) => mapApiCustomPageToDto(response),\n      invalidatesTags: [{ type: 'CustomPage' as const, id: 'ADMIN_LIST' }],\n    }),\n\n    updateCustomPageAdmin: build.mutation<\n      CustomPageDto,\n      { id: string; patch: CustomPageUpdatePayload }\n    >({\n      query: ({ id, patch }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: patch,\n      }),\n      transformResponse: (response: ApiCustomPage) => mapApiCustomPageToDto(response),\n      invalidatesTags: (_result, _error, { id }) => [\n        { type: 'CustomPage' as const, id },\n        { type: 'CustomPage' as const, id: 'ADMIN_LIST' },\n      ],\n    }),\n\n    deleteCustomPageAdmin: build.mutation<void, string>({\n      query: (id) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (_result, _error, id) => [\n        { type: 'CustomPage' as const, id },\n        { type: 'CustomPage' as const, id: 'ADMIN_LIST' },\n      ],\n    }),\n\n    reorderCustomPagesAdmin: build.mutation<\n      { ok: boolean },\n      { items: { id: string; display_order: number }[] }\n    >({\n      query: (payload) => ({\n        url: `${BASE}/reorder`,\n        method: 'POST',\n        body: payload,\n      }),\n      transformResponse: () => ({ ok: true }),\n      invalidatesTags: [{ type: 'CustomPage' as const, id: 'ADMIN_LIST' }],\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useListCustomPagesAdminQuery,\n  useLazyListCustomPagesAdminQuery,\n  useGetCustomPageAdminQuery,\n  useLazyGetCustomPageAdminQuery,\n  useGetCustomPageBySlugAdminQuery,\n  useLazyGetCustomPageBySlugAdminQuery,\n  useCreateCustomPageAdminMutation,\n  useUpdateCustomPageAdminMutation,\n  useDeleteCustomPageAdminMutation,\n  useReorderCustomPagesAdminMutation,\n} = customPagesAdminApi;\n","// =============================================================\n// FILE: src/integrations/rtk/endpoints/admin/contacts_admin.endpoints.ts\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  ContactDto,\n  ContactListQueryParams,\n  ContactUpdatePayload,\n} from '@/integrations/shared';\n\nconst BASE = '/admin/contacts';\n\nexport const contactsAdminApi = baseApi.injectEndpoints({\n  endpoints: (build) => ({\n    /**\n     * LIST (admin) – GET /contacts\n     */\n    listContactsAdmin: build.query<ContactDto[], ContactListQueryParams | void>({\n      query: (params?: ContactListQueryParams) => ({\n        url: `${BASE}`,\n        method: 'GET',\n        params,\n      }),\n      providesTags: (result) =>\n        result\n          ? [\n              ...result.map((c) => ({\n                type: 'Contacts' as const,\n                id: c.id,\n              })),\n              { type: 'Contacts' as const, id: 'LIST' },\n            ]\n          : [{ type: 'Contacts' as const, id: 'LIST' }],\n    }),\n\n    /**\n     * GET BY ID (admin) – GET /contacts/:id\n     */\n    getContactAdmin: build.query<ContactDto, string>({\n      query: (id) => ({\n        url: `${BASE}/${id}`,\n        method: 'GET',\n      }),\n      providesTags: (result) =>\n        result\n          ? [{ type: 'Contacts' as const, id: result.id }]\n          : [{ type: 'Contacts' as const, id: 'LIST' }],\n    }),\n\n    /**\n     * UPDATE (admin) – PATCH /contacts/:id\n     * status / is_resolved / admin_note güncellemek için\n     */\n    updateContactAdmin: build.mutation<ContactDto, { id: string; patch: ContactUpdatePayload }>({\n      query: ({ id, patch }) => ({\n        url: `${BASE}/${id}`,\n        method: 'PATCH',\n        body: patch,\n      }),\n      invalidatesTags: (result, error, arg) => [\n        { type: 'Contacts' as const, id: arg.id },\n        { type: 'Contacts' as const, id: 'LIST' },\n      ],\n    }),\n\n    /**\n     * DELETE (admin) – DELETE /contacts/:id\n     */\n    deleteContactAdmin: build.mutation<{ ok: boolean }, string>({\n      query: (id) => ({\n        url: `${BASE}/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (result, error, id) => [\n        { type: 'Contacts' as const, id },\n        { type: 'Contacts' as const, id: 'LIST' },\n      ],\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useListContactsAdminQuery,\n  useGetContactAdminQuery,\n  useUpdateContactAdminMutation,\n  useDeleteContactAdminMutation,\n} = contactsAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/reviews_admin.endpoints.ts\n// Admin Reviews (LIST + CRUD)\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  AdminReviewDto,\n  AdminReviewListQueryParams,\n  AdminReviewListResponse,\n  AdminGetReviewParams,\n  AdminReviewCreatePayload,\n  AdminReviewUpdatePayload,\n} from '@/integrations/shared';\n\nexport const reviewsAdminApi = baseApi.injectEndpoints({\n  endpoints: (build) => ({\n    // -------- LIST (admin) --------\n    listReviewsAdmin: build.query<AdminReviewListResponse, AdminReviewListQueryParams | undefined>({\n      query: (params) => ({\n        url: '/admin/reviews',\n        method: 'GET',\n        params,\n      }),\n      // Şu an backend X-Total-Count header set etmiyor; total = items.length\n      transformResponse: (response: AdminReviewDto[]): AdminReviewListResponse => {\n        const items = response ?? [];\n        return {\n          items,\n          total: items.length,\n        };\n      },\n    }),\n\n    // -------- DETAIL (admin) --------\n    getReviewAdmin: build.query<AdminReviewDto, AdminGetReviewParams>({\n      query: ({ id }) => ({\n        url: `/admin/reviews/${encodeURIComponent(id)}`,\n        method: 'GET',\n      }),\n    }),\n\n    // -------- CREATE (admin) --------\n    createReviewAdmin: build.mutation<AdminReviewDto, AdminReviewCreatePayload>({\n      query: (body) => ({\n        url: '/admin/reviews',\n        method: 'POST',\n        body,\n      }),\n    }),\n\n    // -------- UPDATE (admin) --------\n    updateReviewAdmin: build.mutation<\n      AdminReviewDto,\n      { id: string; patch: AdminReviewUpdatePayload }\n    >({\n      query: ({ id, patch }) => ({\n        url: `/admin/reviews/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: patch,\n      }),\n    }),\n\n    // -------- DELETE (admin) --------\n    deleteReviewAdmin: build.mutation<{ ok?: boolean }, { id: string }>({\n      query: ({ id }) => ({\n        url: `/admin/reviews/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useListReviewsAdminQuery,\n  useGetReviewAdminQuery,\n  useCreateReviewAdminMutation,\n  useUpdateReviewAdminMutation,\n  useDeleteReviewAdminMutation,\n} = reviewsAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/faqs_admin.endpoints.ts\n// Admin FAQ endpoint'leri (auth gerektirir, locale destekli)\n// - Locale header set ETMEZ (baseApi zaten Accept-Language default set ediyor)\n// - Locale gerekiyorsa query param olarak gider (?locale=..)\n// - Types tek noktadan: @/integrations/shared\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  FaqDto,\n  FaqListQueryParams,\n  FaqCreatePayload,\n  FaqUpdatePayload,\n  WithLocale,\n} from '@/integrations/shared';\nimport { cleanParams } from '@/integrations/shared';\n\nexport const faqsAdminApi = baseApi.injectEndpoints({\n  endpoints: (builder) => ({\n    /* --------------------------------------------------------- */\n    /* LIST – GET /admin/faqs                                    */\n    /* --------------------------------------------------------- */\n    listFaqsAdmin: builder.query<FaqDto[], WithLocale<FaqListQueryParams> | void>({\n      query: (params) => {\n        const p = (params || {}) as WithLocale<FaqListQueryParams>;\n        const { locale, ...rest } = p;\n\n        return {\n          url: '/admin/faqs',\n          method: 'GET',\n          params: cleanParams({ ...rest, locale }),\n        };\n      },\n    }),\n\n    /* --------------------------------------------------------- */\n    /* GET BY ID – GET /admin/faqs/:id                           */\n    /* --------------------------------------------------------- */\n    getFaqAdmin: builder.query<FaqDto, { id: string; locale?: string }>({\n      query: ({ id, locale }) => ({\n        url: `/admin/faqs/${encodeURIComponent(id)}`,\n        method: 'GET',\n        params: cleanParams({ locale }),\n      }),\n    }),\n\n    /* --------------------------------------------------------- */\n    /* GET BY SLUG – GET /admin/faqs/by-slug/:slug               */\n    /* --------------------------------------------------------- */\n    getFaqBySlugAdmin: builder.query<FaqDto, { slug: string; locale?: string }>({\n      query: ({ slug, locale }) => ({\n        url: `/admin/faqs/by-slug/${encodeURIComponent(slug)}`,\n        method: 'GET',\n        params: cleanParams({ locale }),\n      }),\n    }),\n\n    /* --------------------------------------------------------- */\n    /* CREATE – POST /admin/faqs                                 */\n    /* --------------------------------------------------------- */\n    createFaqAdmin: builder.mutation<FaqDto, FaqCreatePayload>({\n      query: (body) => ({\n        url: '/admin/faqs',\n        method: 'POST',\n        body,\n      }),\n    }),\n\n    /* --------------------------------------------------------- */\n    /* UPDATE (PATCH) – PATCH /admin/faqs/:id                    */\n    /* --------------------------------------------------------- */\n    updateFaqAdmin: builder.mutation<FaqDto, { id: string; patch: FaqUpdatePayload }>({\n      query: ({ id, patch }) => ({\n        url: `/admin/faqs/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: patch,\n      }),\n    }),\n\n    /* --------------------------------------------------------- */\n    /* DELETE – DELETE /admin/faqs/:id                           */\n    /* --------------------------------------------------------- */\n    deleteFaqAdmin: builder.mutation<void, string>({\n      query: (id) => ({\n        url: `/admin/faqs/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useListFaqsAdminQuery,\n  useGetFaqAdminQuery,\n  useLazyGetFaqAdminQuery,\n  useGetFaqBySlugAdminQuery,\n  useCreateFaqAdminMutation,\n  useUpdateFaqAdminMutation,\n  useDeleteFaqAdminMutation,\n} = faqsAdminApi;\n","// src/integrations/endpoints/admin/sliders_admin.endpoints.ts\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type { FetchArgs } from '@reduxjs/toolkit/query';\nimport type {\n  SliderAdminView,\n  SliderAdminRow,\n  SliderRow,\n  SliderAdminListQueryParams,\n  SliderCreatePayload,\n  SliderUpdatePayload,\n  SliderSetStatusPayload,\n  SliderReorderPayload,\n  SliderSetImagePayload,\n} from '@/integrations/shared';\nimport { buildSliderParams, toAdminSliderView } from '@/integrations/shared';\n\nconst ADMIN_BASE = '/admin/sliders';\n\nexport const slidersAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    adminListSlides: b.query<SliderAdminView[], void | SliderAdminListQueryParams>({\n      query: (params): FetchArgs | string => {\n        const qp = buildSliderParams(params as SliderAdminListQueryParams | undefined);\n        return qp ? { url: ADMIN_BASE, params: qp } : ADMIN_BASE;\n      },\n      transformResponse: (res: unknown): SliderAdminView[] => {\n        const arr = Array.isArray(res) ? (res as SliderAdminRow[]) : [];\n        return arr.map(toAdminSliderView);\n      },\n      providesTags: (result) =>\n        result\n          ? [\n              { type: 'Slider' as const, id: 'LIST' },\n              ...result.map((x) => ({ type: 'Slider' as const, id: x.id })),\n            ]\n          : [{ type: 'Slider' as const, id: 'LIST' }],\n    }),\n\n    adminGetSlide: b.query<SliderAdminView, string | number>({\n      query: (id): FetchArgs | string => `${ADMIN_BASE}/${encodeURIComponent(String(id))}`,\n      transformResponse: (res: unknown): SliderAdminView =>\n        toAdminSliderView(res as SliderAdminRow),\n      providesTags: (_r, _e, id) => [{ type: 'Slider' as const, id: String(id) }],\n    }),\n\n    adminCreateSlide: b.mutation<SliderAdminView, SliderCreatePayload>({\n      query: (body): FetchArgs => ({ url: ADMIN_BASE, method: 'POST', body }),\n      transformResponse: (res: unknown): SliderAdminView => {\n        const row = res as SliderRow & { image_effective_url?: string | null };\n        const withUrl: SliderAdminRow = {\n          ...(row as SliderRow),\n          image_effective_url:\n            (row as any).image_effective_url ?? (row as any).asset_url ?? row.image_url ?? null,\n        };\n        return toAdminSliderView(withUrl);\n      },\n      invalidatesTags: [{ type: 'Slider' as const, id: 'LIST' }],\n    }),\n\n    adminUpdateSlide: b.mutation<SliderAdminView, { id: string | number; body: SliderUpdatePayload }>(\n      {\n        query: ({ id, body }): FetchArgs => ({\n          url: `${ADMIN_BASE}/${encodeURIComponent(String(id))}`,\n          method: 'PATCH',\n          body,\n        }),\n        transformResponse: (res: unknown): SliderAdminView => {\n          const row = res as SliderRow & { image_effective_url?: string | null };\n          const withUrl: SliderAdminRow = {\n            ...(row as SliderRow),\n            image_effective_url:\n              (row as any).image_effective_url ?? (row as any).asset_url ?? row.image_url ?? null,\n          };\n          return toAdminSliderView(withUrl);\n        },\n        invalidatesTags: (_r, _e, arg) => [\n          { type: 'Slider' as const, id: String(arg.id) },\n          { type: 'Slider' as const, id: 'LIST' },\n        ],\n      },\n    ),\n\n    adminDeleteSlide: b.mutation<{ ok: true }, string | number>({\n      query: (id): FetchArgs => ({\n        url: `${ADMIN_BASE}/${encodeURIComponent(String(id))}`,\n        method: 'DELETE',\n      }),\n      transformResponse: (): { ok: true } => ({ ok: true }),\n      invalidatesTags: (_r, _e, id) => [\n        { type: 'Slider' as const, id: String(id) },\n        { type: 'Slider' as const, id: 'LIST' },\n      ],\n    }),\n\n    adminReorderSlides: b.mutation<{ ok: true }, SliderReorderPayload>({\n      query: (body): FetchArgs => ({ url: `${ADMIN_BASE}/reorder`, method: 'POST', body }),\n      transformResponse: (): { ok: true } => ({ ok: true }),\n      invalidatesTags: [{ type: 'Slider' as const, id: 'LIST' }],\n    }),\n\n    adminSetSlideStatus: b.mutation<\n      SliderAdminView,\n      { id: string | number; body: SliderSetStatusPayload }\n    >({\n      query: ({ id, body }): FetchArgs => ({\n        url: `${ADMIN_BASE}/${encodeURIComponent(String(id))}/status`,\n        method: 'POST',\n        body,\n      }),\n      transformResponse: (res: unknown): SliderAdminView =>\n        toAdminSliderView(res as SliderAdminRow),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Slider' as const, id: String(arg.id) },\n        { type: 'Slider' as const, id: 'LIST' },\n      ],\n    }),\n\n    /** ✅ Tek uç: PATCH /admin/sliders/:id/image { asset_id?: string | null } */\n    adminSetSlideImage: b.mutation<\n      SliderAdminView,\n      { id: string | number; body: SliderSetImagePayload }\n    >({\n      query: ({ id, body }): FetchArgs => ({\n        url: `${ADMIN_BASE}/${encodeURIComponent(String(id))}/image`,\n        method: 'PATCH',\n        body,\n      }),\n      transformResponse: (res: unknown): SliderAdminView =>\n        toAdminSliderView(res as SliderAdminRow),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Slider' as const, id: String(arg.id) },\n        { type: 'Slider' as const, id: 'LIST' },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useAdminListSlidesQuery,\n  useAdminGetSlideQuery,\n  useAdminCreateSlideMutation,\n  useAdminUpdateSlideMutation,\n  useAdminDeleteSlideMutation,\n  useAdminReorderSlidesMutation,\n  useAdminSetSlideStatusMutation,\n  useAdminSetSlideImageMutation,\n} = slidersAdminApi;\n\n// Legacy/admin-panel aliases\nexport const useListSlidersAdminQuery = useAdminListSlidesQuery;\nexport const useGetSliderAdminQuery = useAdminGetSlideQuery;\nexport const useCreateSliderAdminMutation = useAdminCreateSlideMutation;\nexport const useUpdateSliderAdminMutation = useAdminUpdateSlideMutation;\nexport const useDeleteSliderAdminMutation = useAdminDeleteSlideMutation;\nexport const useReorderSlidersAdminMutation = useAdminReorderSlidesMutation;\nexport const useSetSliderStatusAdminMutation = useAdminSetSlideStatusMutation;\nexport const useSetSliderImageAdminMutation = useAdminSetSlideImageMutation;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/services_admin.endpoints.ts\n// FINAL — Admin Services RTK Endpoints (FE Services page protocol)\n// - listServicesAdmin returns { items, total } (x-total-count header)\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  ApiServiceAdmin,\n  ApiServiceImage,\n  ServiceDto,\n  ServiceImageDto,\n  ServiceListAdminQueryParams,\n  ServiceListResult,\n  ServiceCreatePayload,\n  ServiceUpdatePayload,\n  ServiceImageCreatePayload,\n  ServiceImageUpdatePayload,\n} from '@/integrations/shared';\n\nimport { normalizeService, normalizeServiceImage } from '@/integrations/shared';\n\nexport const servicesAdminApi = baseApi.injectEndpoints({\n  endpoints: (build) => ({\n    // ---------------------------------------------------------\n    // GET /admin/services (x-total-count header)\n    // ---------------------------------------------------------\n    listServicesAdmin: build.query<ServiceListResult, ServiceListAdminQueryParams | void>({\n      query: (params) => ({\n        url: '/admin/services',\n        method: 'GET',\n        params: params ?? {},\n        credentials: 'include',\n      }),\n      transformResponse: (response: ApiServiceAdmin[], meta) => {\n        const items = Array.isArray(response) ? response.map(normalizeService) : [];\n\n        const totalHeader = meta?.response?.headers.get('x-total-count');\n        const totalFromHeader = totalHeader ? Number(totalHeader) : Number.NaN;\n        const total = Number.isFinite(totalFromHeader) ? totalFromHeader : items.length;\n\n        return { items, total };\n      },\n      providesTags: (result) =>\n        result?.items\n          ? [\n              ...result.items.map(({ id }) => ({ type: 'Service' as const, id })),\n              { type: 'Service' as const, id: 'LIST' },\n            ]\n          : [{ type: 'Service' as const, id: 'LIST' }],\n    }),\n\n    // ---------------------------------------------------------\n    // GET /admin/services/:id\n    // ---------------------------------------------------------\n    getServiceAdmin: build.query<\n      ServiceDto,\n      { id: string; locale?: string; default_locale?: string }\n    >({\n      query: ({ id, locale, default_locale }) => ({\n        url: `/admin/services/${encodeURIComponent(id)}`,\n        method: 'GET',\n        credentials: 'include',\n        params: { ...(locale ? { locale } : {}), ...(default_locale ? { default_locale } : {}) },\n      }),\n      transformResponse: (resp: ApiServiceAdmin) => normalizeService(resp),\n      providesTags: (result, error, { id }) => [{ type: 'Service', id }],\n    }),\n\n    // ---------------------------------------------------------\n    // GET /admin/services/by-slug/:slug\n    // ---------------------------------------------------------\n    getServiceBySlugAdmin: build.query<\n      ServiceDto,\n      { slug: string; locale?: string; default_locale?: string }\n    >({\n      query: ({ slug, locale, default_locale }) => ({\n        url: `/admin/services/by-slug/${encodeURIComponent(slug)}`,\n        method: 'GET',\n        credentials: 'include',\n        params: { ...(locale ? { locale } : {}), ...(default_locale ? { default_locale } : {}) },\n      }),\n      transformResponse: (resp: ApiServiceAdmin) => normalizeService(resp),\n      providesTags: (result) => (result ? [{ type: 'Service', id: result.id }] : []),\n    }),\n\n    // ---------------------------------------------------------\n    // POST /admin/services\n    // ---------------------------------------------------------\n    createServiceAdmin: build.mutation<ServiceDto, ServiceCreatePayload>({\n      query: (body) => ({\n        url: '/admin/services',\n        method: 'POST',\n        body,\n        credentials: 'include',\n      }),\n      transformResponse: (resp: ApiServiceAdmin) => normalizeService(resp),\n      invalidatesTags: [{ type: 'Service', id: 'LIST' }],\n    }),\n\n    // ---------------------------------------------------------\n    // PATCH /admin/services/:id\n    // ---------------------------------------------------------\n    updateServiceAdmin: build.mutation<ServiceDto, { id: string; patch: ServiceUpdatePayload }>({\n      query: ({ id, patch }) => ({\n        url: `/admin/services/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: patch,\n        credentials: 'include',\n      }),\n      transformResponse: (resp: ApiServiceAdmin) => normalizeService(resp),\n      invalidatesTags: (result, error, { id }) => [\n        { type: 'Service', id },\n        { type: 'Service', id: 'LIST' },\n      ],\n    }),\n\n    // ---------------------------------------------------------\n    // DELETE /admin/services/:id\n    // ---------------------------------------------------------\n    deleteServiceAdmin: build.mutation<void, { id: string }>({\n      query: ({ id }) => ({\n        url: `/admin/services/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n        credentials: 'include',\n      }),\n      invalidatesTags: (result, error, { id }) => [\n        { type: 'Service', id },\n        { type: 'Service', id: 'LIST' },\n      ],\n    }),\n\n    // ---------------------------------------------------------\n    // REORDER: POST /admin/services/reorder\n    // ---------------------------------------------------------\n    reorderServicesAdmin: build.mutation<void, { items: { id: string; display_order: number }[] }>({\n      query: (body) => ({\n        url: '/admin/services/reorder',\n        method: 'POST',\n        body,\n        credentials: 'include',\n      }),\n      invalidatesTags: [{ type: 'Service', id: 'LIST' }],\n    }),\n\n    // ---------------------------------------------------------\n    // GALLERY – LIST\n    // ---------------------------------------------------------\n    listServiceImagesAdmin: build.query<ServiceImageDto[], string>({\n      query: (serviceId) => ({\n        url: `/admin/services/${encodeURIComponent(serviceId)}/images`,\n        method: 'GET',\n        credentials: 'include',\n      }),\n      transformResponse: (response: ApiServiceImage[]) =>\n        Array.isArray(response) ? response.map(normalizeServiceImage) : [],\n      providesTags: (result, error, serviceId) =>\n        result\n          ? [\n              ...result.map(({ id }) => ({ type: 'ServiceImage' as const, id })),\n              { type: 'ServiceImage' as const, id: `SERVICE_${serviceId}` },\n            ]\n          : [{ type: 'ServiceImage' as const, id: `SERVICE_${serviceId}` }],\n    }),\n\n    // ---------------------------------------------------------\n    // GALLERY – CREATE (returns list)\n    // ---------------------------------------------------------\n    createServiceImageAdmin: build.mutation<\n      ServiceImageDto[],\n      { serviceId: string; payload: ServiceImageCreatePayload }\n    >({\n      query: ({ serviceId, payload }) => ({\n        url: `/admin/services/${encodeURIComponent(serviceId)}/images`,\n        method: 'POST',\n        body: payload,\n        credentials: 'include',\n      }),\n      transformResponse: (response: ApiServiceImage[]) =>\n        Array.isArray(response) ? response.map(normalizeServiceImage) : [],\n      invalidatesTags: (result, error, { serviceId }) => [\n        { type: 'ServiceImage', id: `SERVICE_${serviceId}` },\n        { type: 'Service', id: serviceId },\n      ],\n    }),\n\n    // ---------------------------------------------------------\n    // GALLERY – UPDATE (returns list)\n    // ---------------------------------------------------------\n    updateServiceImageAdmin: build.mutation<\n      ServiceImageDto[],\n      { serviceId: string; imageId: string; patch: ServiceImageUpdatePayload }\n    >({\n      query: ({ serviceId, imageId, patch }) => ({\n        url: `/admin/services/${encodeURIComponent(serviceId)}/images/${encodeURIComponent(imageId)}`,\n        method: 'PATCH',\n        body: patch,\n        credentials: 'include',\n      }),\n      transformResponse: (response: ApiServiceImage[]) =>\n        Array.isArray(response) ? response.map(normalizeServiceImage) : [],\n      invalidatesTags: (result, error, { serviceId, imageId }) => [\n        { type: 'ServiceImage', id: imageId },\n        { type: 'ServiceImage', id: `SERVICE_${serviceId}` },\n        { type: 'Service', id: serviceId },\n      ],\n    }),\n\n    // ---------------------------------------------------------\n    // GALLERY – DELETE (returns list)\n    // ---------------------------------------------------------\n    deleteServiceImageAdmin: build.mutation<\n      ServiceImageDto[],\n      { serviceId: string; imageId: string }\n    >({\n      query: ({ serviceId, imageId }) => ({\n        url: `/admin/services/${encodeURIComponent(serviceId)}/images/${encodeURIComponent(imageId)}`,\n        method: 'DELETE',\n        credentials: 'include',\n      }),\n      transformResponse: (response: ApiServiceImage[]) =>\n        Array.isArray(response) ? response.map(normalizeServiceImage) : [],\n      invalidatesTags: (result, error, { serviceId, imageId }) => [\n        { type: 'ServiceImage', id: imageId },\n        { type: 'ServiceImage', id: `SERVICE_${serviceId}` },\n        { type: 'Service', id: serviceId },\n      ],\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useListServicesAdminQuery,\n  useLazyListServicesAdminQuery,\n  useGetServiceAdminQuery,\n  useGetServiceBySlugAdminQuery,\n  useCreateServiceAdminMutation,\n  useUpdateServiceAdminMutation,\n  useDeleteServiceAdminMutation,\n  useReorderServicesAdminMutation,\n  useListServiceImagesAdminQuery,\n  useCreateServiceImageAdminMutation,\n  useUpdateServiceImageAdminMutation,\n  useDeleteServiceImageAdminMutation,\n} = servicesAdminApi;\n","// =============================================================\n// FILE: src/integrations/rtk/endpoints/admin/audit_admin.endpoints.ts\n// konigsmassage – Admin Audit (RTK Query)\n// FIX:\n//  - List endpoints return { items, total }\n//  - Daily endpoint returns { days, ...meta }\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport { coerceAuditList, coerceAuditMetricsDaily } from '@/integrations/shared';\nimport type {\n  AuditAuthEventDto,\n  AuditAuthEventsListQueryParams,\n  AuditListResponse,\n  AuditMetricsDailyQueryParams,\n  AuditMetricsDailyResponseDto,\n  AuditRequestLogDto,\n  AuditRequestLogsListQueryParams,\n} from '@/integrations/shared';\n\nconst BASE = 'admin/audit';\n\nexport const auditAdminApi = baseApi.injectEndpoints({\n  overrideExisting: false,\n  endpoints: (build) => ({\n    listAuditRequestLogsAdmin: build.query<\n      AuditListResponse<AuditRequestLogDto>,\n      AuditRequestLogsListQueryParams | void\n    >({\n      query: (params) => ({\n        url: `${BASE}/request-logs`,\n        method: 'GET',\n        params: params ?? undefined,\n      }),\n      transformResponse: (raw: any) => coerceAuditList<AuditRequestLogDto>(raw),\n      providesTags: [{ type: 'AuditRequestLog' as const, id: 'LIST' }],\n    }),\n\n    listAuditAuthEventsAdmin: build.query<\n      AuditListResponse<AuditAuthEventDto>,\n      AuditAuthEventsListQueryParams | void\n    >({\n      query: (params) => ({\n        url: `${BASE}/auth-events`,\n        method: 'GET',\n        params: params ?? undefined,\n      }),\n      transformResponse: (raw: any) => coerceAuditList<AuditAuthEventDto>(raw),\n      providesTags: [{ type: 'AuditAuthEvent' as const, id: 'LIST' }],\n    }),\n\n    getAuditMetricsDailyAdmin: build.query<\n      AuditMetricsDailyResponseDto,\n      AuditMetricsDailyQueryParams | void\n    >({\n      query: (params) => ({\n        url: `${BASE}/metrics/daily`,\n        method: 'GET',\n        params: params ?? undefined,\n      }),\n      transformResponse: (raw: any) => coerceAuditMetricsDaily(raw),\n      providesTags: [{ type: 'AuditMetric' as const, id: 'DAILY' }],\n    }),\n  }),\n});\n\nexport const {\n  useListAuditRequestLogsAdminQuery,\n  useListAuditAuthEventsAdminQuery,\n  useGetAuditMetricsDailyAdminQuery,\n} = auditAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/site_settings_admin.endpoints.ts\n// FINAL — no helpers inside; everything from types barrel\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  SiteSettingRow,\n  SettingValue,\n  UpsertSettingBody,\n  AdminSiteSettingsListParams,\n  AppLocaleMeta,\n} from '@/integrations/shared';\nimport {\n  buildAdminSiteSettingsListParams,\n  normalizeAdminSiteSettingRow,\n  normalizeAppLocalesPublic,\n  normalizeDefaultLocalePublic,\n} from '@/integrations/shared';\n\nexport type AdminSiteSetting = SiteSettingRow;\n\nconst ADMIN_BASE = '/admin/site_settings';\nconst ADMIN_LIST = '/admin/site_settings/list'; // ✅ List endpoint\n\nconst extendedApi = baseApi.enhanceEndpoints({ addTagTypes: ['SiteSettings'] as const });\n\nexport const siteSettingsAdminApi = extendedApi.injectEndpoints({\n  endpoints: (b) => ({\n    listSiteSettingsAdmin: b.query<AdminSiteSetting[], AdminSiteSettingsListParams | undefined>({\n      query: (params) => {\n        const q = buildAdminSiteSettingsListParams(params);\n        return q ? { url: ADMIN_LIST, params: q } : { url: ADMIN_LIST }; // ✅ /list endpoint kullan\n      },\n      transformResponse: (res: unknown): AdminSiteSetting[] =>\n        Array.isArray(res) ? (res as SiteSettingRow[]).map(normalizeAdminSiteSettingRow) : [],\n      providesTags: (result) =>\n        result\n          ? [\n              ...result.map((s) => ({ type: 'SiteSettings' as const, id: s.key })),\n              { type: 'SiteSettings' as const, id: 'LIST' },\n            ]\n          : [{ type: 'SiteSettings' as const, id: 'LIST' }],\n      keepUnusedDataFor: 60,\n    }),\n\n    getSiteSettingAdminByKey: b.query<AdminSiteSetting | null, string>({\n      query: (key) => ({ url: `${ADMIN_BASE}/${encodeURIComponent(key)}` }),\n      transformResponse: (res: unknown): AdminSiteSetting | null =>\n        res ? (normalizeAdminSiteSettingRow(res as SiteSettingRow) as AdminSiteSetting) : null,\n      providesTags: (_r, _e, key) => [{ type: 'SiteSettings', id: key }],\n    }),\n\n    // /admin/site_settings/app-locales\n    getAppLocalesAdmin: b.query<AppLocaleMeta[], void>({\n      query: () => ({ url: `${ADMIN_BASE}/app-locales`, method: 'GET' }),\n      transformResponse: (res: unknown): AppLocaleMeta[] => normalizeAppLocalesPublic(res),\n      providesTags: [{ type: 'SiteSettings' as const, id: 'APP_LOCALES' }],\n      keepUnusedDataFor: 60,\n    }),\n\n    // /admin/site_settings/default-locale\n    getDefaultLocaleAdmin: b.query<string, void>({\n      query: () => ({ url: `${ADMIN_BASE}/default-locale`, method: 'GET' }),\n      transformResponse: (res: unknown): string => normalizeDefaultLocalePublic(res),\n      providesTags: [{ type: 'SiteSettings' as const, id: 'DEFAULT_LOCALE' }],\n      keepUnusedDataFor: 60,\n    }),\n\n    createSiteSettingAdmin: b.mutation<AdminSiteSetting, UpsertSettingBody>({\n      query: (body) => ({\n        url: ADMIN_BASE,\n        method: 'POST',\n        body: { key: body.key, value: body.value },\n      }),\n      transformResponse: (res: unknown): AdminSiteSetting =>\n        normalizeAdminSiteSettingRow(res as SiteSettingRow) as AdminSiteSetting,\n      invalidatesTags: [{ type: 'SiteSettings', id: 'LIST' }],\n    }),\n\n    updateSiteSettingAdmin: b.mutation<AdminSiteSetting, { key: string; value: SettingValue }>({\n      query: ({ key, value }) => ({\n        url: `${ADMIN_BASE}/${encodeURIComponent(key)}`,\n        method: 'PUT',\n        body: { value },\n      }),\n      transformResponse: (res: unknown): AdminSiteSetting =>\n        normalizeAdminSiteSettingRow(res as SiteSettingRow) as AdminSiteSetting,\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'SiteSettings', id: arg.key },\n        { type: 'SiteSettings', id: 'LIST' },\n      ],\n    }),\n\n    bulkUpsertSiteSettingsAdmin: b.mutation<AdminSiteSetting[], { items: UpsertSettingBody[] }>({\n      query: ({ items }) => ({\n        url: `${ADMIN_BASE}/bulk-upsert`,\n        method: 'POST',\n        body: { items: items.map((i) => ({ key: i.key, value: i.value })) },\n      }),\n      transformResponse: (res: unknown): AdminSiteSetting[] =>\n        Array.isArray(res) ? (res as SiteSettingRow[]).map(normalizeAdminSiteSettingRow) : [],\n      invalidatesTags: [{ type: 'SiteSettings', id: 'LIST' }],\n    }),\n\n    deleteSiteSettingAdmin: b.mutation<{ ok: true }, string>({\n      query: (key) => ({\n        url: `${ADMIN_BASE}/${encodeURIComponent(key)}`,\n        method: 'DELETE',\n      }),\n      transformResponse: (): { ok: true } => ({ ok: true }),\n      invalidatesTags: (_r, _e, key) => [\n        { type: 'SiteSettings', id: key },\n        { type: 'SiteSettings', id: 'LIST' },\n      ],\n    }),\n\n    deleteManySiteSettingsAdmin: b.mutation<\n      { ok: true },\n      { idNe?: string; key?: string; keyNe?: string; keys?: string[]; prefix?: string }\n    >({\n      query: (p) => {\n        const params: Record<string, string> = {};\n        if (p.idNe) params['id!'] = p.idNe;\n        if (p.key) params['key'] = p.key;\n        if (p.keyNe) params['key!'] = p.keyNe;\n        if (p.keys?.length) params['keys'] = p.keys.join(',');\n        if (p.prefix) params['prefix'] = p.prefix;\n\n        return { url: ADMIN_BASE, method: 'DELETE', params };\n      },\n      transformResponse: (): { ok: true } => ({ ok: true }),\n      invalidatesTags: [{ type: 'SiteSettings', id: 'LIST' }],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListSiteSettingsAdminQuery,\n  useGetSiteSettingAdminByKeyQuery,\n  useGetAppLocalesAdminQuery,\n  useGetDefaultLocaleAdminQuery,\n  useCreateSiteSettingAdminMutation,\n  useUpdateSiteSettingAdminMutation,\n  useDeleteSiteSettingAdminMutation,\n  useBulkUpsertSiteSettingsAdminMutation,\n  useDeleteManySiteSettingsAdminMutation,\n} = siteSettingsAdminApi;\n","// =============================================================\n// Admin Storage — list/get/create(multipart)/bulkCreate/patch/delete/bulkDelete/folders/diag\n// =============================================================\nimport { baseApi } from '@/integrations/baseApi';\nimport type { FetchBaseQueryError } from '@reduxjs/toolkit/query';\nimport type {\n  StorageAsset,\n  StorageUpdateInput,\n  StorageListQuery,\n  ListResponse,\n  BulkCreateResponse,\n} from '@/integrations/shared';\nimport { toQueryParams, makeCustomError, StorageListTags } from '@/integrations/shared';\n\nexport const storageAdminApi = baseApi.injectEndpoints({\n  endpoints: (builder) => ({\n    listAssetsAdmin: builder.query<ListResponse, Partial<StorageListQuery> | void>({\n      query: (q) => ({\n        url: '/admin/storage/assets',\n        method: 'GET',\n        params: toQueryParams(q as Partial<StorageListQuery>),\n      }),\n      transformResponse: (data: StorageAsset[], meta) => {\n        const headers = meta?.response?.headers;\n        const totalStr =\n          headers?.get?.('x-total-count') ?? headers?.get?.('X-Total-Count') ?? undefined;\n        const total = totalStr ? Number(totalStr) : (data?.length ?? 0);\n        return { items: data ?? [], total };\n      },\n      providesTags: (res) => StorageListTags(res?.items),\n    }),\n\n    getAssetAdmin: builder.query<StorageAsset, { id: string }>({\n      query: ({ id }) => ({\n        url: `/admin/storage/assets/${encodeURIComponent(id)}`,\n        method: 'GET',\n      }),\n      providesTags: (res) => (res ? [{ type: 'Storage', id: res.id }] : []),\n    }),\n\n    // Tekli create (multipart, admin)\n    createAssetAdmin: builder.mutation<\n      StorageAsset,\n      {\n        file: File;\n        bucket: string;\n        folder?: string;\n        metadata?: Record<string, string> | null;\n      }\n    >({\n      async queryFn(args, _api, _extra, baseQuery) {\n        try {\n          const fd = new FormData();\n          fd.append('file', args.file, args.file.name);\n          fd.append('bucket', args.bucket);\n          if (args.folder) fd.append('folder', args.folder);\n          if (args.metadata) {\n            fd.append('metadata', JSON.stringify(args.metadata));\n          }\n\n          const res = await baseQuery({\n            url: '/admin/storage/assets',\n            method: 'POST',\n            body: fd,\n          });\n\n          if (res.error) {\n            return { error: res.error as FetchBaseQueryError };\n          }\n\n          return { data: res.data as StorageAsset };\n        } catch (e) {\n          const error = makeCustomError(\n            'create_failed',\n            e instanceof Error ? { message: e.message } : e,\n          );\n          return { error };\n        }\n      },\n      invalidatesTags: (res) =>\n        res\n          ? [\n              { type: 'Storage', id: res.id },\n              { type: 'Storage', id: 'LIST' },\n            ]\n          : [{ type: 'Storage', id: 'LIST' }],\n    }),\n\n    // Çoklu create (multipart; form-level bucket/folder/metadata + birden çok file)\n    bulkCreateAssetsAdmin: builder.mutation<\n      BulkCreateResponse,\n      {\n        files: File[];\n        bucket: string;\n        folder?: string;\n        metadata?: Record<string, string> | null;\n      }\n    >({\n      async queryFn(args, _api, _extra, baseQuery) {\n        try {\n          const fd = new FormData();\n          fd.append('bucket', args.bucket);\n          if (args.folder) fd.append('folder', args.folder);\n          if (args.metadata) {\n            fd.append('metadata', JSON.stringify(args.metadata));\n          }\n          for (const f of args.files) {\n            fd.append('files', f, f.name);\n          }\n\n          const res = await baseQuery({\n            url: '/admin/storage/assets/bulk',\n            method: 'POST',\n            body: fd,\n          });\n\n          if (res.error) {\n            return { error: res.error as FetchBaseQueryError };\n          }\n\n          return { data: res.data as BulkCreateResponse };\n        } catch (e) {\n          const error = makeCustomError(\n            'bulk_create_failed',\n            e instanceof Error ? { message: e.message } : e,\n          );\n          return { error };\n        }\n      },\n      invalidatesTags: () => [{ type: 'Storage', id: 'LIST' }],\n    }),\n\n    patchAssetAdmin: builder.mutation<StorageAsset, { id: string; body: StorageUpdateInput }>({\n      query: ({ id, body }) => ({\n        url: `/admin/storage/assets/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body,\n      }),\n      invalidatesTags: (_res, _err, arg) => [\n        { type: 'Storage', id: arg.id },\n        { type: 'Storage', id: 'LIST' },\n      ],\n    }),\n\n    deleteAssetAdmin: builder.mutation<{ ok: true } | void, { id: string }>({\n      query: ({ id }) => ({\n        url: `/admin/storage/assets/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (_res, _err, arg) => [\n        { type: 'Storage', id: arg.id },\n        { type: 'Storage', id: 'LIST' },\n      ],\n    }),\n\n    bulkDeleteAssetsAdmin: builder.mutation<{ deleted: number }, { ids: string[] }>({\n      query: ({ ids }) => ({\n        url: '/admin/storage/assets/bulk-delete',\n        method: 'POST',\n        body: { ids },\n      }),\n      invalidatesTags: (_res, _err, arg) => [\n        { type: 'Storage', id: 'LIST' },\n        ...arg.ids.map((id) => ({ type: 'Storage' as const, id })),\n      ],\n    }),\n\n    listFoldersAdmin: builder.query<string[], void>({\n      query: () => ({ url: '/admin/storage/folders', method: 'GET' }),\n      providesTags: () => [{ type: 'Storage', id: 'FOLDERS' }],\n    }),\n\n    diagCloudinaryAdmin: builder.query<\n      { ok: boolean; cloud: string; uploaded?: { public_id: string; secure_url: string } },\n      void\n    >({\n      query: () => ({ url: '/admin/storage/_diag/cloud', method: 'GET' }),\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListAssetsAdminQuery,\n  useGetAssetAdminQuery,\n  useCreateAssetAdminMutation,\n  useBulkCreateAssetsAdminMutation,\n  usePatchAssetAdminMutation,\n  useDeleteAssetAdminMutation,\n  useBulkDeleteAssetsAdminMutation,\n  useListFoldersAdminQuery,\n  useDiagCloudinaryAdminQuery,\n  useLazyDiagCloudinaryAdminQuery,\n} = storageAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/email_templates_admin.endpoints.ts\n// FINAL — Admin EmailTemplates RTK (single-language)\n// Backend:\n// - GET    /admin/email_templates\n// - GET    /admin/email_templates/:id\n// - POST   /admin/email_templates\n// - PATCH  /admin/email_templates/:id\n// - DELETE /admin/email_templates/:id  (204)\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  EmailTemplateAdminListQueryParams,\n  EmailTemplateAdminListItemDto,\n  EmailTemplateAdminDetailDto,\n  EmailTemplateAdminCreatePayload,\n  EmailTemplateAdminUpdatePayload,\n} from '@/integrations/shared';\nimport {\n  normalizeEmailTemplateAdminDetail,\n  normalizeEmailTemplateAdminList,\n  toEmailTemplatesQuery,\n  toEmailTemplateWriteBody,\n} from '@/integrations/shared';\n\nconst BASE = '/admin/email_templates';\n\nexport const emailTemplatesAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    listEmailTemplatesAdmin: b.query<\n      EmailTemplateAdminListItemDto[],\n      EmailTemplateAdminListQueryParams | void\n    >({\n      query: (params) => ({\n        url: BASE,\n        method: 'GET',\n        params: params ? toEmailTemplatesQuery(params) : undefined,\n      }),\n      transformResponse: (res: unknown): EmailTemplateAdminListItemDto[] =>\n        normalizeEmailTemplateAdminList(res),\n      providesTags: (result) =>\n        result && result.length\n          ? [\n              ...result.map((t) => ({ type: 'EmailTemplate' as const, id: t.id })),\n              { type: 'EmailTemplates' as const, id: 'LIST_ADMIN' },\n            ]\n          : [{ type: 'EmailTemplates' as const, id: 'LIST_ADMIN' }],\n    }),\n\n    getEmailTemplateAdmin: b.query<EmailTemplateAdminDetailDto, { id: string }>({\n      query: ({ id }) => ({ url: `${BASE}/${encodeURIComponent(id)}`, method: 'GET' }),\n      transformResponse: (res: unknown): EmailTemplateAdminDetailDto =>\n        normalizeEmailTemplateAdminDetail(res),\n      providesTags: (_r, _e, arg) => [{ type: 'EmailTemplate' as const, id: arg.id }],\n    }),\n\n    createEmailTemplateAdmin: b.mutation<EmailTemplateAdminListItemDto, EmailTemplateAdminCreatePayload>({\n      query: (body) => ({\n        url: BASE,\n        method: 'POST',\n        body: toEmailTemplateWriteBody(body),\n      }),\n      // backend returns mapTemplateRowPublic(created) (public-like)\n      transformResponse: (res: unknown): EmailTemplateAdminListItemDto =>\n        // created endpoint does NOT include detected_variables/variables_raw\n        // normalize will provide safe defaults\n        normalizeEmailTemplateAdminList([res])[0] as EmailTemplateAdminListItemDto,\n      invalidatesTags: [{ type: 'EmailTemplates' as const, id: 'LIST_ADMIN' }],\n    }),\n\n    updateEmailTemplateAdmin: b.mutation<\n      EmailTemplateAdminListItemDto,\n      { id: string; body: EmailTemplateAdminUpdatePayload }\n    >({\n      query: ({ id, body }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: toEmailTemplateWriteBody(body),\n      }),\n      transformResponse: (res: unknown): EmailTemplateAdminListItemDto =>\n        normalizeEmailTemplateAdminList([res])[0] as EmailTemplateAdminListItemDto,\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'EmailTemplate' as const, id: arg.id },\n        { type: 'EmailTemplates' as const, id: 'LIST_ADMIN' },\n        // also public list might reflect new subject/name if you show on public side\n        { type: 'EmailTemplates' as const, id: 'LIST_PUBLIC' },\n      ],\n    }),\n\n    deleteEmailTemplateAdmin: b.mutation<{ ok: true }, { id: string }>({\n      query: ({ id }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      // backend 204\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'EmailTemplate' as const, id: arg.id },\n        { type: 'EmailTemplates' as const, id: 'LIST_ADMIN' },\n        { type: 'EmailTemplates' as const, id: 'LIST_PUBLIC' },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListEmailTemplatesAdminQuery,\n  useGetEmailTemplateAdminQuery,\n  useCreateEmailTemplateAdminMutation,\n  useUpdateEmailTemplateAdminMutation,\n  useDeleteEmailTemplateAdminMutation,\n} = emailTemplatesAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/mail_admin.endpoints.ts\n// SMTP test mail endpoint\n// - POST /mail/test\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type { SendTestMailBody, SendTestMailResponse } from '@/integrations/shared';\n\nexport const mailAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    sendTestMail: b.mutation<SendTestMailResponse, SendTestMailBody | void>({\n      query: (body) => ({\n        url: '/mail/test',\n        method: 'POST',\n        body: body ?? {},\n      }),\n      transformResponse: () => ({ ok: true as const }),\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const { useSendTestMailMutation } = mailAdminApi;\n","// ===================================================================\n// FILE: src/integrations/endpoints/admin/newsletter_admin.endpoints.ts\n// FINAL — Newsletter Admin RTK (Single Language)\n// Backend:\n// - GET    /admin/newsletter              (array + headers x-total-count/content-range)\n// - GET    /admin/newsletter/:id\n// - PATCH  /admin/newsletter/:id\n// - DELETE /admin/newsletter/:id          (204)\n// ===================================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  NewsletterAdminListParams,\n  NewsletterAdminListResp,\n  NewsletterAdminSubscriber,\n  NewsletterAdminUpdateBody,\n} from '@/integrations/shared';\nimport {\n  normalizeNewsletterAdminList,\n  normalizeNewsletterAdminSubscriber,\n  toNewsletterAdminListQuery,\n  toNewsletterAdminUpdateBody,\n} from '@/integrations/shared';\n\nconst BASE = '/admin/newsletter';\n\nexport const newsletterAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    listNewsletterAdmin: b.query<NewsletterAdminListResp, NewsletterAdminListParams | void>({\n      query: (params) => ({\n        url: BASE,\n        method: 'GET',\n        params: params ? toNewsletterAdminListQuery(params) : undefined,\n      }),\n      // RTK baseQuery should expose meta?.response?.headers in many setups.\n      // If not available in your baseApi, total will remain null safely.\n      transformResponse: (\n        res: unknown,\n        meta: any,\n        arg: NewsletterAdminListParams | void,\n      ): NewsletterAdminListResp => {\n        const data = normalizeNewsletterAdminList(res);\n\n        let total: number | null = null;\n        try {\n          const headers =\n            meta?.response?.headers || meta?.headers || meta?.meta?.response?.headers || undefined;\n\n          // fetch baseQuery often returns Headers object\n          const xTotal =\n            typeof headers?.get === 'function'\n              ? headers.get('x-total-count')\n              : headers?.['x-total-count'];\n\n          if (xTotal != null && String(xTotal).trim()) total = Number(xTotal);\n          if (Number.isNaN(total as any)) total = null;\n        } catch {\n          total = null;\n        }\n\n        const p = (arg ?? {}) as NewsletterAdminListParams;\n\n        return {\n          data,\n          meta: {\n            total,\n            limit: typeof p.limit === 'number' ? p.limit : null,\n            offset: typeof p.offset === 'number' ? p.offset : null,\n          },\n        };\n      },\n      providesTags: (result) =>\n        result?.data?.length\n          ? [\n              ...result.data.map((x) => ({ type: 'NewsletterSubscriber' as const, id: x.id })),\n              { type: 'NewsletterSubscribers' as const, id: 'LIST' },\n            ]\n          : [{ type: 'NewsletterSubscribers' as const, id: 'LIST' }],\n    }),\n\n    getNewsletterAdmin: b.query<NewsletterAdminSubscriber, { id: string }>({\n      query: ({ id }) => ({ url: `${BASE}/${encodeURIComponent(id)}`, method: 'GET' }),\n      transformResponse: (res: unknown): NewsletterAdminSubscriber =>\n        normalizeNewsletterAdminSubscriber(res),\n      providesTags: (_r, _e, arg) => [{ type: 'NewsletterSubscriber' as const, id: arg.id }],\n    }),\n\n    updateNewsletterAdmin: b.mutation<\n      NewsletterAdminSubscriber,\n      { id: string; body: NewsletterAdminUpdateBody }\n    >({\n      query: ({ id, body }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: toNewsletterAdminUpdateBody(body),\n      }),\n      transformResponse: (res: unknown): NewsletterAdminSubscriber =>\n        normalizeNewsletterAdminSubscriber(res),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'NewsletterSubscriber' as const, id: arg.id },\n        { type: 'NewsletterSubscribers' as const, id: 'LIST' },\n      ],\n    }),\n\n    removeNewsletterAdmin: b.mutation<{ ok: true }, { id: string }>({\n      query: ({ id }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      // backend returns 204\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'NewsletterSubscriber' as const, id: arg.id },\n        { type: 'NewsletterSubscribers' as const, id: 'LIST' },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListNewsletterAdminQuery,\n  useGetNewsletterAdminQuery,\n  useUpdateNewsletterAdminMutation,\n  useRemoveNewsletterAdminMutation,\n} = newsletterAdminApi;\n","// ===================================================================\n// FILE: src/integrations/endpoints/notifications.endpoints.ts\n// FINAL — Notifications RTK (Auth-required, shared for admin+user)\n// ===================================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  NotificationView,\n  NotificationsListParams,\n  UnreadCountResp,\n  CreateNotificationBody,\n  UpdateNotificationBody,\n  MarkAllReadBody,\n  OkResp,\n} from '@/integrations/shared';\nimport {\n  normalizeNotification,\n  normalizeNotificationsList,\n  toNotificationsListQuery,\n  toCreateNotificationBody,\n  toUpdateNotificationBody,\n} from '@/integrations/shared';\n\nconst BASE = '/notifications';\n\nexport const notificationsApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    /** GET /notifications */\n    listNotifications: b.query<NotificationView[], NotificationsListParams | void>({\n      query: (params) => ({\n        url: BASE,\n        method: 'GET',\n        params: params ? toNotificationsListQuery(params) : undefined,\n      }),\n      transformResponse: (res: unknown): NotificationView[] => normalizeNotificationsList(res),\n      providesTags: (result) =>\n        result && result.length\n          ? [\n              ...result.map((n) => ({ type: 'Notification' as const, id: n.id })),\n              { type: 'Notifications' as const, id: 'LIST' },\n            ]\n          : [{ type: 'Notifications' as const, id: 'LIST' }],\n      keepUnusedDataFor: 30,\n    }),\n\n    /** GET /notifications/unread-count */\n    getUnreadCount: b.query<UnreadCountResp, void>({\n      query: () => ({ url: `${BASE}/unread-count`, method: 'GET' }),\n      transformResponse: (res: unknown): UnreadCountResp => {\n        const r = (res ?? {}) as any;\n        const n = Number(r.count ?? 0);\n        return { count: Number.isFinite(n) ? n : 0 };\n      },\n      providesTags: [{ type: 'Notifications' as const, id: 'UNREAD_COUNT' }],\n      keepUnusedDataFor: 10,\n    }),\n\n    /** POST /notifications */\n    createNotification: b.mutation<NotificationView, CreateNotificationBody>({\n      query: (body) => ({\n        url: BASE,\n        method: 'POST',\n        body: toCreateNotificationBody(body),\n      }),\n      transformResponse: (res: unknown): NotificationView => normalizeNotification(res),\n      invalidatesTags: [\n        { type: 'Notifications' as const, id: 'LIST' },\n        { type: 'Notifications' as const, id: 'UNREAD_COUNT' },\n      ],\n    }),\n\n    /** PATCH /notifications/:id */\n    updateNotification: b.mutation<NotificationView, { id: string; body: UpdateNotificationBody }>({\n      query: ({ id, body }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: toUpdateNotificationBody(body),\n      }),\n      transformResponse: (res: unknown): NotificationView => normalizeNotification(res),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Notification' as const, id: arg.id },\n        { type: 'Notifications' as const, id: 'LIST' },\n        { type: 'Notifications' as const, id: 'UNREAD_COUNT' },\n      ],\n    }),\n\n    /** POST /notifications/mark-all-read */\n    markAllRead: b.mutation<OkResp, MarkAllReadBody | void>({\n      query: (body) => ({\n        url: `${BASE}/mark-all-read`,\n        method: 'POST',\n        body: body ?? {}, // backend accepts empty object\n      }),\n      transformResponse: (res: unknown): OkResp => {\n        const r = (res ?? {}) as any;\n        if (r && (r.ok === true || r.ok === 1 || r.ok === '1')) return { ok: true as const };\n        return { ok: true as const };\n      },\n      invalidatesTags: [\n        { type: 'Notifications' as const, id: 'LIST' },\n        { type: 'Notifications' as const, id: 'UNREAD_COUNT' },\n      ],\n    }),\n\n    /** DELETE /notifications/:id */\n    deleteNotification: b.mutation<OkResp, { id: string }>({\n      query: ({ id }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      transformResponse: (res: unknown): OkResp => {\n        const r = (res ?? {}) as any;\n        if (r && (r.ok === true || r.ok === 1 || r.ok === '1')) return { ok: true as const };\n        return { ok: true as const };\n      },\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Notification' as const, id: arg.id },\n        { type: 'Notifications' as const, id: 'LIST' },\n        { type: 'Notifications' as const, id: 'UNREAD_COUNT' },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListNotificationsQuery,\n  useGetUnreadCountQuery,\n  useCreateNotificationMutation,\n  useUpdateNotificationMutation,\n  useMarkAllReadMutation,\n  useDeleteNotificationMutation,\n} = notificationsApi;\n\n// Legacy/admin-panel aliases\nexport const useGetUnreadNotificationCountQuery = useGetUnreadCountQuery;\nexport const useGetUnreadNotificationsCountQuery = useGetUnreadCountQuery;\nexport const usePatchNotificationMutation = useUpdateNotificationMutation;\nexport const useMarkAllNotificationsReadMutation = useMarkAllReadMutation;\n","// ===================================================================\n// FILE: src/integrations/endpoints/offers.admin.endpoints.ts\n// FINAL — Offers (ADMIN) RTK (auth+admin)\n// ===================================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  OfferListQuery,\n  OfferView,\n  OfferAdminUpsertBody,\n  OfferAdminPatchBody,\n  ApiOk,\n} from '@/integrations/shared';\nimport {\n  normalizeOffer,\n  normalizeOfferList,\n  toOfferListQueryParams,\n  toOfferAdminUpsertBody,\n  toOfferAdminPatchBody,\n} from '@/integrations/shared';\n\nconst BASE = '/offers';\n\nexport const offersAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    /** GET /offers */\n    listOffersAdmin: b.query<OfferView[], OfferListQuery | void>({\n      query: (q) => ({\n        url: BASE,\n        method: 'GET',\n        params: q ? toOfferListQueryParams(q) : undefined,\n      }),\n      transformResponse: (res: unknown): OfferView[] => normalizeOfferList(res),\n      providesTags: (result) =>\n        result && result.length\n          ? [\n              ...result.map((x) => ({ type: 'Offer' as const, id: x.id })),\n              { type: 'Offers' as const, id: 'LIST' },\n            ]\n          : [{ type: 'Offers' as const, id: 'LIST' }],\n      keepUnusedDataFor: 20,\n    }),\n\n    /** GET /offers/:id */\n    getOfferAdmin: b.query<OfferView, { id: string }>({\n      query: ({ id }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'GET',\n      }),\n      transformResponse: (res: unknown): OfferView => normalizeOffer(res),\n      providesTags: (_r, _e, arg) => [{ type: 'Offer' as const, id: arg.id }],\n      keepUnusedDataFor: 30,\n    }),\n\n    /** POST /offers */\n    createOfferAdmin: b.mutation<OfferView, OfferAdminUpsertBody>({\n      query: (body) => ({\n        url: BASE,\n        method: 'POST',\n        body: toOfferAdminUpsertBody(body),\n      }),\n      transformResponse: (res: unknown): OfferView => normalizeOffer(res),\n      invalidatesTags: [{ type: 'Offers' as const, id: 'LIST' }],\n    }),\n\n    /** PATCH /offers/:id */\n    updateOfferAdmin: b.mutation<OfferView, { id: string; body: OfferAdminPatchBody }>({\n      query: ({ id, body }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: toOfferAdminPatchBody(body),\n      }),\n      transformResponse: (res: unknown): OfferView => normalizeOffer(res),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Offer' as const, id: arg.id },\n        { type: 'Offers' as const, id: 'LIST' },\n      ],\n    }),\n\n    /** DELETE /offers/:id */\n    deleteOfferAdmin: b.mutation<ApiOk, { id: string }>({\n      query: ({ id }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      transformResponse: (_res: unknown): ApiOk => ({ ok: true as const }),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Offer' as const, id: arg.id },\n        { type: 'Offers' as const, id: 'LIST' },\n      ],\n    }),\n\n    /** POST /offers/:id/pdf?force=1 */\n    generateOfferPdfAdmin: b.mutation<OfferView, { id: string; force?: boolean }>({\n      query: ({ id, force }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}/pdf`,\n        method: 'POST',\n        params: force ? { force: '1' } : undefined,\n        body: {}, // backend reads force from body too; sending {} safe\n      }),\n      transformResponse: (res: unknown): OfferView => normalizeOffer(res),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Offer' as const, id: arg.id },\n        { type: 'Offers' as const, id: 'LIST' },\n      ],\n    }),\n\n    /** POST /offers/:id/email?force=1 */\n    sendOfferEmailAdmin: b.mutation<OfferView, { id: string; force?: boolean }>({\n      query: ({ id, force }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}/email`,\n        method: 'POST',\n        params: force ? { force: '1' } : undefined,\n        body: {}, // backend reads force from body too; sending {} safe\n      }),\n      transformResponse: (res: unknown): OfferView => normalizeOffer(res),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Offer' as const, id: arg.id },\n        { type: 'Offers' as const, id: 'LIST' },\n      ],\n    }),\n\n    /** POST /offers/:id/send?force=1  (PDF + Email) */\n    sendOfferAdmin: b.mutation<OfferView, { id: string; force?: boolean }>({\n      query: ({ id, force }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}/send`,\n        method: 'POST',\n        params: force ? { force: '1' } : undefined,\n        body: {}, // backend reads force from body too; sending {} safe\n      }),\n      transformResponse: (res: unknown): OfferView => normalizeOffer(res),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Offer' as const, id: arg.id },\n        { type: 'Offers' as const, id: 'LIST' },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListOffersAdminQuery,\n  useLazyListOffersAdminQuery,\n  useGetOfferAdminQuery,\n  useLazyGetOfferAdminQuery,\n  useCreateOfferAdminMutation,\n  useUpdateOfferAdminMutation,\n  useDeleteOfferAdminMutation,\n  useGenerateOfferPdfAdminMutation,\n  useSendOfferEmailAdminMutation,\n  useSendOfferAdminMutation,\n} = offersAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/reports_admin.endpoints.ts\n// Admin Reports RTK endpoints (backend-required)\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type { KpiRow, UserPerformanceRow, LocationRow, ReportRole } from '@/integrations/shared';\n\nexport const reportsAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    adminReportsKpi: b.query<KpiRow[], { from?: string; to?: string } | void>({\n      query: (params) => ({\n        url: '/admin/reports/kpi',\n        method: 'GET',\n        params: params ?? {},\n      }),\n      transformResponse: (res: unknown): KpiRow[] => (Array.isArray(res) ? (res as KpiRow[]) : []),\n    }),\n\n    adminReportsUsersPerformance: b.query<\n      UserPerformanceRow[],\n      { from?: string; to?: string; role?: ReportRole } | void\n    >({\n      query: (params) => ({\n        url: '/admin/reports/users-performance',\n        method: 'GET',\n        params: params ?? {},\n      }),\n      transformResponse: (res: unknown): UserPerformanceRow[] =>\n        Array.isArray(res) ? (res as UserPerformanceRow[]) : [],\n    }),\n\n    adminReportsLocations: b.query<LocationRow[], { from?: string; to?: string } | void>({\n      query: (params) => ({\n        url: '/admin/reports/locations',\n        method: 'GET',\n        params: params ?? {},\n      }),\n      transformResponse: (res: unknown): LocationRow[] =>\n        Array.isArray(res) ? (res as LocationRow[]) : [],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useAdminReportsKpiQuery,\n  useAdminReportsUsersPerformanceQuery,\n  useAdminReportsLocationsQuery,\n} = reportsAdminApi;\n","// =============================================================\n// FILE: src/integrations/rtk/endpoints/admin/bookings_admin.endpoints.ts\n// FINAL — Admin bookings RTK endpoints (CRUD + accept/reject)\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  BookingDto,\n  BookingMergedDto,\n  BookingListQueryParams,\n  BookingAdminCreatePayload,\n  BookingAdminUpdatePayload,\n} from '@/integrations/shared';\n\nconst BASE = '/admin/bookings';\n\nexport type BookingDecisionPayload = {\n  decision_note?: string;\n  locale?: string; // optional override, otherwise backend uses booking.locale\n};\n\nexport const bookingsAdminApi = baseApi.injectEndpoints({\n  endpoints: (build) => ({\n    /**\n     * LIST (admin) – GET /admin/bookings\n     */\n    listBookingsAdmin: build.query<BookingMergedDto[], BookingListQueryParams | void>({\n      query: (params?: BookingListQueryParams) => ({\n        url: `${BASE}`,\n        method: 'GET',\n        params,\n      }),\n      providesTags: (result) =>\n        result\n          ? [\n              ...result.map((b) => ({ type: 'Bookings' as const, id: b.id })),\n              { type: 'Bookings' as const, id: 'LIST' },\n            ]\n          : [{ type: 'Bookings' as const, id: 'LIST' }],\n    }),\n\n    /**\n     * GET BY ID (admin) – GET /admin/bookings/:id\n     * Supports ?locale=de\n     */\n    getBookingAdmin: build.query<BookingMergedDto, { id: string; locale?: string } | string>({\n      query: (arg) => {\n        const id = typeof arg === 'string' ? arg : arg.id;\n        const locale = typeof arg === 'string' ? undefined : arg.locale;\n        return {\n          url: `${BASE}/${id}`,\n          method: 'GET',\n          params: locale ? { locale } : undefined,\n        };\n      },\n      providesTags: (result, _error, arg) => {\n        const id = typeof arg === 'string' ? arg : arg.id;\n        return result\n          ? [{ type: 'Bookings' as const, id: result.id }]\n          : [{ type: 'Bookings' as const, id }];\n      },\n    }),\n\n    /**\n     * CREATE (admin) – POST /admin/bookings\n     */\n    createBookingAdmin: build.mutation<BookingMergedDto | BookingDto, BookingAdminCreatePayload>({\n      query: (body) => ({\n        url: `${BASE}`,\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: [{ type: 'Bookings' as const, id: 'LIST' }],\n    }),\n\n    /**\n     * UPDATE (admin) – PATCH /admin/bookings/:id\n     */\n    updateBookingAdmin: build.mutation<\n      BookingMergedDto,\n      { id: string; patch: BookingAdminUpdatePayload; locale?: string }\n    >({\n      query: ({ id, patch, locale }) => ({\n        url: `${BASE}/${id}`,\n        method: 'PATCH',\n        params: locale ? { locale } : undefined,\n        body: patch,\n      }),\n      invalidatesTags: (_result, _error, arg) => [\n        { type: 'Bookings' as const, id: arg.id },\n        { type: 'Bookings' as const, id: 'LIST' },\n      ],\n    }),\n\n    /**\n     * ACCEPT (admin) – POST /admin/bookings/:id/accept\n     * Body: { decision_note?, locale? }\n     */\n    acceptBookingAdmin: build.mutation<\n      BookingMergedDto,\n      { id: string; body?: BookingDecisionPayload }\n    >({\n      query: ({ id, body }) => ({\n        url: `${BASE}/${id}/accept`,\n        method: 'POST',\n        body: body ?? {},\n      }),\n      invalidatesTags: (_result, _error, arg) => [\n        { type: 'Bookings' as const, id: arg.id },\n        { type: 'Bookings' as const, id: 'LIST' },\n      ],\n    }),\n\n    /**\n     * REJECT (admin) – POST /admin/bookings/:id/reject\n     * Body: { decision_note?, locale? }\n     */\n    rejectBookingAdmin: build.mutation<\n      BookingMergedDto,\n      { id: string; body?: BookingDecisionPayload }\n    >({\n      query: ({ id, body }) => ({\n        url: `${BASE}/${id}/reject`,\n        method: 'POST',\n        body: body ?? {},\n      }),\n      invalidatesTags: (_result, _error, arg) => [\n        { type: 'Bookings' as const, id: arg.id },\n        { type: 'Bookings' as const, id: 'LIST' },\n      ],\n    }),\n\n    /**\n     * MARK READ (admin) – POST /admin/bookings/:id/read\n     */\n    markBookingReadAdmin: build.mutation<BookingMergedDto, string>({\n      query: (id) => ({\n        url: `${BASE}/${id}/read`,\n        method: 'POST',\n      }),\n      invalidatesTags: (_result, _error, id) => [\n        { type: 'Bookings' as const, id },\n        { type: 'Bookings' as const, id: 'LIST' },\n      ],\n    }),\n\n    /**\n     * DELETE (admin) – DELETE /admin/bookings/:id\n     */\n    deleteBookingAdmin: build.mutation<{ ok: boolean } | void, string>({\n      query: (id) => ({\n        url: `${BASE}/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (_result, _error, id) => [\n        { type: 'Bookings' as const, id },\n        { type: 'Bookings' as const, id: 'LIST' },\n      ],\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useListBookingsAdminQuery,\n  useGetBookingAdminQuery,\n  useCreateBookingAdminMutation,\n  useUpdateBookingAdminMutation,\n  useAcceptBookingAdminMutation,\n  useRejectBookingAdminMutation,\n  useMarkBookingReadAdminMutation,\n  useDeleteBookingAdminMutation,\n} = bookingsAdminApi;\n","// ===================================================================\n// FILE: src/integrations/endpoints/popups.admin.endpoints.ts\n// FINAL — Popups (ADMIN) RTK\n// ===================================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  PopupAdminView,\n  PopupAdminCreateBody,\n  PopupAdminUpdateBody,\n  ApiOk,\n} from '@/integrations/shared';\nimport {\n  normalizePopupAdmin,\n  normalizePopupAdminList,\n  toPopupAdminCreateBody,\n  toPopupAdminUpdateBody,\n} from '@/integrations/shared';\n\nconst BASE = '/admin/popups';\n\nexport const popupsAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    /** GET /admin/popups */\n    listPopupsAdmin: b.query<PopupAdminView[], { order?: string } | void>({\n      query: (q) => ({\n        url: BASE,\n        method: 'GET',\n        params: q?.order ? { order: q.order } : undefined,\n      }),\n      transformResponse: (res: unknown) => normalizePopupAdminList(res),\n      providesTags: (result) =>\n        result && result.length\n          ? [\n              ...result.map((x) => ({ type: 'Popup' as const, id: x.id })),\n              { type: 'Popups' as const, id: 'ADMIN_LIST' },\n            ]\n          : [{ type: 'Popups' as const, id: 'ADMIN_LIST' }],\n      keepUnusedDataFor: 20,\n    }),\n\n    /** GET /admin/popups/:id */\n    getPopupAdmin: b.query<PopupAdminView, { id: string }>({\n      query: ({ id }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'GET',\n      }),\n      transformResponse: (res: unknown) => normalizePopupAdmin(res),\n      providesTags: (_r, _e, arg) => [{ type: 'Popup' as const, id: arg.id }],\n      keepUnusedDataFor: 30,\n    }),\n\n    /** POST /admin/popups */\n    createPopupAdmin: b.mutation<PopupAdminView, PopupAdminCreateBody>({\n      query: (body) => ({\n        url: BASE,\n        method: 'POST',\n        body: toPopupAdminCreateBody(body),\n      }),\n      transformResponse: (res: unknown) => normalizePopupAdmin(res),\n      invalidatesTags: [{ type: 'Popups' as const, id: 'ADMIN_LIST' }],\n    }),\n\n    /** PATCH /admin/popups/:id */\n    updatePopupAdmin: b.mutation<PopupAdminView, { id: string; body: PopupAdminUpdateBody }>({\n      query: ({ id, body }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: toPopupAdminUpdateBody(body),\n      }),\n      transformResponse: (res: unknown) => normalizePopupAdmin(res),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Popup' as const, id: arg.id },\n        { type: 'Popups' as const, id: 'ADMIN_LIST' },\n      ],\n    }),\n\n    /** DELETE /admin/popups/:id */\n    deletePopupAdmin: b.mutation<ApiOk, { id: string }>({\n      query: ({ id }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      transformResponse: () => ({ ok: true as const }),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Popup' as const, id: arg.id },\n        { type: 'Popups' as const, id: 'ADMIN_LIST' },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListPopupsAdminQuery,\n  useLazyListPopupsAdminQuery,\n  useGetPopupAdminQuery,\n  useLazyGetPopupAdminQuery,\n  useCreatePopupAdminMutation,\n  useUpdatePopupAdminMutation,\n  useDeletePopupAdminMutation,\n} = popupsAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/menu_items_admin.endpoints.ts\n// konigsmassage – Admin Menu Items RTK endpoints\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  AdminMenuItemDto,\n  AdminMenuItemListQueryParams,\n  AdminMenuItemCreatePayload,\n  AdminMenuItemUpdatePayload,\n  AdminMenuItemReorderPayload,\n  MenuItemListResponse,\n  MetaWithHeaders,\n} from '@/integrations/shared';\nimport { parseTotalFromMeta } from '@/integrations/shared';\n\nexport const menuItemsAdminApi = baseApi.injectEndpoints({\n  endpoints: (build) => ({\n    // LIST – GET /admin/menu_items\n    listMenuItemsAdmin: build.query<\n      MenuItemListResponse<AdminMenuItemDto>,\n      AdminMenuItemListQueryParams | void\n    >({\n      query: (params?: AdminMenuItemListQueryParams) => ({\n        url: '/admin/menu_items',\n        method: 'GET',\n        params,\n      }),\n      transformResponse: (data: AdminMenuItemDto[], meta?: MetaWithHeaders) => {\n        const total = parseTotalFromMeta(data?.length ?? 0, meta);\n        return {\n          items: data ?? [],\n          total,\n        };\n      },\n      providesTags: (result) =>\n        result?.items\n          ? [\n              { type: 'MenuItem' as const, id: 'LIST' },\n              ...result.items.map((m) => ({\n                type: 'MenuItem' as const,\n                id: m.id,\n              })),\n            ]\n          : [{ type: 'MenuItem' as const, id: 'LIST' }],\n    }),\n\n    // GET by id – GET /admin/menu_items/:id\n    // locale destekli: arg.id + arg.locale\n    getMenuItemAdmin: build.query<AdminMenuItemDto, { id: string; locale?: string }>({\n      query: ({ id, locale }) => ({\n        url: `/admin/menu_items/${encodeURIComponent(id)}`,\n        method: 'GET',\n        params: locale ? { locale } : undefined,\n      }),\n      providesTags: (_r, _e, arg) => [{ type: 'MenuItem' as const, id: arg.id }],\n    }),\n\n    // CREATE – POST /admin/menu_items\n    createMenuItemAdmin: build.mutation<AdminMenuItemDto, AdminMenuItemCreatePayload>({\n      query: (body) => ({\n        url: '/admin/menu_items',\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: (result) =>\n        result\n          ? [\n              { type: 'MenuItem' as const, id: 'LIST' },\n              { type: 'MenuItem' as const, id: result.id },\n            ]\n          : [{ type: 'MenuItem' as const, id: 'LIST' }],\n    }),\n\n    // UPDATE – PATCH /admin/menu_items/:id\n    updateMenuItemAdmin: build.mutation<\n      AdminMenuItemDto,\n      { id: string; data: AdminMenuItemUpdatePayload }\n    >({\n      query: ({ id, data }) => ({\n        url: `/admin/menu_items/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: data,\n      }),\n      invalidatesTags: (_result, _error, { id }) => [\n        { type: 'MenuItem' as const, id },\n        { type: 'MenuItem' as const, id: 'LIST' },\n      ],\n    }),\n\n    // DELETE – DELETE /admin/menu_items/:id\n    deleteMenuItemAdmin: build.mutation<void, { id: string }>({\n      query: ({ id }) => ({\n        url: `/admin/menu_items/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (_r, _e, { id }) => [\n        { type: 'MenuItem' as const, id },\n        { type: 'MenuItem' as const, id: 'LIST' },\n      ],\n    }),\n\n    // REORDER – POST /admin/menu_items/reorder\n    reorderMenuItemsAdmin: build.mutation<{ ok: boolean }, AdminMenuItemReorderPayload>({\n      query: (body) => ({\n        url: '/admin/menu_items/reorder',\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: [{ type: 'MenuItem' as const, id: 'LIST' }],\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useListMenuItemsAdminQuery,\n  useGetMenuItemAdminQuery,\n  useCreateMenuItemAdminMutation,\n  useUpdateMenuItemAdminMutation,\n  useDeleteMenuItemAdminMutation,\n  useReorderMenuItemsAdminMutation,\n} = menuItemsAdminApi;\n","// ---------------------------------------------------------------------\n// FILE: src/integrations/endpoints/admin/projects_admin.endpoints.ts\n// (ADMIN)\n// ---------------------------------------------------------------------\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  Project,\n  ProjectImage,\n  ProjectListParams,\n  UpsertProjectInput,\n  PatchProjectInput,\n  UpsertProjectImageInput,\n  PatchProjectImageInput,\n} from '@/integrations/shared';\nimport { toAdminProjectQuery } from '@/integrations/shared';\n\nconst BASE = '/admin/projects';\n\nexport const projectsAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    // GET /admin/projects\n    listProjectsAdmin: b.query<Project[], ProjectListParams | void>({\n      query: (p) =>\n        p\n          ? { url: `${BASE}`, params: toAdminProjectQuery(p) as Record<string, any> }\n          : { url: BASE },\n      providesTags: () => [{ type: 'Projects' as const, id: 'LIST' }],\n    }),\n\n    // GET /admin/projects/:id\n    getProjectAdmin: b.query<Project, string>({\n      query: (id) => ({ url: `${BASE}/${id}` }),\n      providesTags: (_res, _e, id) => [{ type: 'Projects' as const, id }],\n    }),\n\n    // GET /admin/projects/by-slug/:slug\n    getProjectBySlugAdmin: b.query<Project, string>({\n      query: (slug) => ({ url: `${BASE}/by-slug/${slug}` }),\n      providesTags: (_res, _e, slug) => [{ type: 'Projects' as const, id: `slug:${slug}` }],\n    }),\n\n    // POST /admin/projects\n    createProjectAdmin: b.mutation<Project, UpsertProjectInput>({\n      query: (body) => ({\n        url: BASE,\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: [{ type: 'Projects' as const, id: 'LIST' }],\n    }),\n\n    // PATCH /admin/projects/:id\n    updateProjectAdmin: b.mutation<Project, { id: string; patch: PatchProjectInput }>({\n      query: ({ id, patch }) => ({\n        url: `${BASE}/${id}`,\n        method: 'PATCH',\n        body: patch,\n      }),\n      invalidatesTags: (res) =>\n        res?.id\n          ? [\n              { type: 'Projects' as const, id: res.id },\n              { type: 'Projects' as const, id: 'LIST' },\n            ]\n          : [{ type: 'Projects' as const, id: 'LIST' }],\n    }),\n\n    // DELETE /admin/projects/:id\n    removeProjectAdmin: b.mutation<void, string>({\n      query: (id) => ({\n        url: `${BASE}/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (_res, _e, id) => [\n        { type: 'Projects' as const, id },\n        { type: 'Projects' as const, id: 'LIST' },\n      ],\n    }),\n\n    // -------------------------\n    // GALLERY (ADMIN)\n    // -------------------------\n\n    // GET /admin/projects/:id/images\n    listProjectImagesAdmin: b.query<ProjectImage[], string>({\n      query: (projectId) => ({ url: `${BASE}/${projectId}/images` }),\n      providesTags: (_res, _e, projectId) => [\n        { type: 'ProjectImages' as const, id: `p:${projectId}` },\n      ],\n    }),\n\n    // POST /admin/projects/:id/images\n    createProjectImageAdmin: b.mutation<\n      ProjectImage[],\n      { projectId: string; body: UpsertProjectImageInput }\n    >({\n      query: ({ projectId, body }) => ({\n        url: `${BASE}/${projectId}/images`,\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: (_res, _e, { projectId }) => [\n        { type: 'ProjectImages' as const, id: `p:${projectId}` },\n      ],\n    }),\n\n    // PATCH /admin/projects/:id/images/:imageId\n    updateProjectImageAdmin: b.mutation<\n      ProjectImage[],\n      { projectId: string; imageId: string; patch: PatchProjectImageInput }\n    >({\n      query: ({ projectId, imageId, patch }) => ({\n        url: `${BASE}/${projectId}/images/${imageId}`,\n        method: 'PATCH',\n        body: patch,\n      }),\n      invalidatesTags: (_res, _e, { projectId }) => [\n        { type: 'ProjectImages' as const, id: `p:${projectId}` },\n      ],\n    }),\n\n    // DELETE /admin/projects/:id/images/:imageId\n    removeProjectImageAdmin: b.mutation<void, { projectId: string; imageId: string }>({\n      query: ({ projectId, imageId }) => ({\n        url: `${BASE}/${projectId}/images/${imageId}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (_res, _e, { projectId }) => [\n        { type: 'ProjectImages' as const, id: `p:${projectId}` },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListProjectsAdminQuery,\n  useGetProjectAdminQuery,\n  useGetProjectBySlugAdminQuery,\n  useCreateProjectAdminMutation,\n  useUpdateProjectAdminMutation,\n  useRemoveProjectAdminMutation,\n\n  useListProjectImagesAdminQuery,\n  useCreateProjectImageAdminMutation,\n  useUpdateProjectImageAdminMutation,\n  useRemoveProjectImageAdminMutation,\n} = projectsAdminApi;\n","// ---------------------------------------------------------------------\n// FILE: src/integrations/endpoints/admin/pricing_admin.endpoints.ts\n// FINAL — Admin Pricing RTK endpoints (plans CRUD)\n// - /admin/pricing/plans\n// ---------------------------------------------------------------------\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  PricingPlanAdmin,\n  PricingPlanListParams,\n  UpsertPricingPlanInput,\n  PatchPricingPlanInput,\n} from '@/integrations/shared';\nimport { toAdminPricingQuery } from '@/integrations/shared';\n\nconst BASE = '/admin/pricing/plans';\n\nexport const pricingAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    // GET /admin/pricing/plans\n    listPricingPlansAdmin: b.query<PricingPlanAdmin[], PricingPlanListParams | void>({\n      query: (p) =>\n        p ? { url: BASE, params: toAdminPricingQuery(p) as Record<string, any> } : { url: BASE },\n      providesTags: () => [{ type: 'Pricing' as const, id: 'LIST' }],\n    }),\n\n    // GET /admin/pricing/plans/:id\n    getPricingPlanAdmin: b.query<PricingPlanAdmin, string>({\n      query: (id) => ({ url: `${BASE}/${id}` }),\n      providesTags: (_res, _e, id) => [{ type: 'Pricing' as const, id }],\n    }),\n\n    // POST /admin/pricing/plans\n    createPricingPlanAdmin: b.mutation<PricingPlanAdmin, UpsertPricingPlanInput>({\n      query: (body) => ({\n        url: BASE,\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: [{ type: 'Pricing' as const, id: 'LIST' }],\n    }),\n\n    // PATCH /admin/pricing/plans/:id\n    updatePricingPlanAdmin: b.mutation<\n      PricingPlanAdmin,\n      { id: string; patch: PatchPricingPlanInput }\n    >({\n      query: ({ id, patch }) => ({\n        url: `${BASE}/${id}`,\n        method: 'PATCH',\n        body: patch,\n      }),\n      invalidatesTags: (res) =>\n        res?.id\n          ? [\n              { type: 'Pricing' as const, id: res.id },\n              { type: 'Pricing' as const, id: 'LIST' },\n            ]\n          : [{ type: 'Pricing' as const, id: 'LIST' }],\n    }),\n\n    // DELETE /admin/pricing/plans/:id\n    removePricingPlanAdmin: b.mutation<void, string>({\n      query: (id) => ({\n        url: `${BASE}/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (_res, _e, id) => [\n        { type: 'Pricing' as const, id },\n        { type: 'Pricing' as const, id: 'LIST' },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListPricingPlansAdminQuery,\n  useGetPricingPlanAdminQuery,\n  useCreatePricingPlanAdminMutation,\n  useUpdatePricingPlanAdminMutation,\n  useRemovePricingPlanAdminMutation,\n} = pricingAdminApi;\n","// -------------------------------------------------------------\n// FILE: frontend/src/integrations/endpoints/resume.admin.endpoints.ts\n// FINAL — Admin resume endpoints\n// - base: /admin/resume-entries\n// -------------------------------------------------------------\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  ResumeMerged,\n  ResumeListParams,\n  UpsertResumeInput,\n  PatchResumeInput,\n} from '@/integrations/shared';\nimport { toAdminResumeQuery } from '@/integrations/shared';\n\nconst BASE = '/admin/resume-entries';\n\nexport const resumeAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    listResumeAdmin: b.query<ResumeMerged[], ResumeListParams | void>({\n      query: (p) => ({ url: BASE, params: toAdminResumeQuery(p) }),\n      providesTags: () => [{ type: 'Resume' as const, id: 'LIST' }],\n    }),\n\n    getResumeAdmin: b.query<ResumeMerged, { id: string; locale?: string; default_locale?: string }>(\n      {\n        query: ({ id, locale, default_locale }) => ({\n          url: `${BASE}/${id}`,\n          params: { ...(locale ? { locale } : {}), ...(default_locale ? { default_locale } : {}) },\n        }),\n        providesTags: (_res, _e, arg) => [{ type: 'Resume' as const, id: arg.id }],\n      },\n    ),\n\n    getResumeBySlugAdmin: b.query<\n      ResumeMerged,\n      { slug: string; locale?: string; default_locale?: string }\n    >({\n      query: ({ slug, locale, default_locale }) => ({\n        url: `${BASE}/by-slug/${slug}`,\n        params: { ...(locale ? { locale } : {}), ...(default_locale ? { default_locale } : {}) },\n      }),\n      providesTags: (_res, _e, arg) => [{ type: 'Resume' as const, id: `slug:${arg.slug}` }],\n    }),\n\n    createResumeAdmin: b.mutation<ResumeMerged, UpsertResumeInput>({\n      query: (body) => ({\n        url: BASE,\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: () => [{ type: 'Resume' as const, id: 'LIST' }],\n    }),\n\n    updateResumeAdmin: b.mutation<ResumeMerged, { id: string; body: PatchResumeInput }>({\n      query: ({ id, body }) => ({\n        url: `${BASE}/${id}`,\n        method: 'PATCH',\n        body,\n      }),\n      invalidatesTags: (_res, _e, arg) => [\n        { type: 'Resume' as const, id: 'LIST' },\n        { type: 'Resume' as const, id: arg.id },\n      ],\n    }),\n\n    removeResumeAdmin: b.mutation<void, { id: string }>({\n      query: ({ id }) => ({\n        url: `${BASE}/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: () => [{ type: 'Resume' as const, id: 'LIST' }],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListResumeAdminQuery,\n  useGetResumeAdminQuery,\n  useGetResumeBySlugAdminQuery,\n  useCreateResumeAdminMutation,\n  useUpdateResumeAdminMutation,\n  useRemoveResumeAdminMutation,\n} = resumeAdminApi;\n","// ===================================================================\n// FILE: frontend/src/integrations/endpoints/skill.admin.endpoints.ts\n// FINAL — Skill admin endpoints\n// - base: /admin/skill-counters + /admin/skill-logos\n// - unwrap tolerant\n// ===================================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  SkillCounterMerged,\n  SkillLogoMerged,\n  SkillListParams,\n  CreateSkillCounterInput,\n  PatchSkillCounterInput,\n  CreateSkillLogoInput,\n  PatchSkillLogoInput,\n} from '@/integrations/shared/skill';\nimport { unwrap, toAdminSkillQuery } from '@/integrations/shared/skill';\n\nconst COUNTERS = '/admin/skill-counters';\nconst LOGOS = '/admin/skill-logos';\n\nexport const skillAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    // ---------------- Counters ----------------\n    listSkillCountersAdmin: b.query<SkillCounterMerged[], SkillListParams | void>({\n      query: (p) => ({ url: COUNTERS, params: toAdminSkillQuery(p) }),\n      transformResponse: (raw: any) => unwrap<SkillCounterMerged[]>(raw),\n      providesTags: (res) =>\n        res\n          ? [\n              { type: 'Skill' as const, id: 'COUNTERS' },\n              ...res.map((x) => ({ type: 'Skill' as const, id: `counter:${x.id}` })),\n            ]\n          : [{ type: 'Skill' as const, id: 'COUNTERS' }],\n    }),\n\n    createSkillCounterAdmin: b.mutation<SkillCounterMerged, CreateSkillCounterInput>({\n      query: (body) => ({ url: COUNTERS, method: 'POST', body }),\n      transformResponse: (raw: any) => unwrap<SkillCounterMerged>(raw),\n      invalidatesTags: (_res) => [{ type: 'Skill' as const, id: 'COUNTERS' }],\n    }),\n\n    updateSkillCounterAdmin: b.mutation<\n      SkillCounterMerged,\n      { id: string; patch: PatchSkillCounterInput }\n    >({\n      query: ({ id, patch }) => ({ url: `${COUNTERS}/${id}`, method: 'PATCH', body: patch }),\n      transformResponse: (raw: any) => unwrap<SkillCounterMerged>(raw),\n      invalidatesTags: (_res, _e, arg) => [\n        { type: 'Skill' as const, id: 'COUNTERS' },\n        { type: 'Skill' as const, id: `counter:${arg.id}` },\n      ],\n    }),\n\n    removeSkillCounterAdmin: b.mutation<{ ok: true } | void, { id: string }>({\n      query: ({ id }) => ({ url: `${COUNTERS}/${id}`, method: 'DELETE' }),\n      // backend returns 204 typically\n      transformResponse: (raw: any) => unwrap<any>(raw),\n      invalidatesTags: (_res, _e, arg) => [\n        { type: 'Skill' as const, id: 'COUNTERS' },\n        { type: 'Skill' as const, id: `counter:${arg.id}` },\n      ],\n    }),\n\n    // ---------------- Logos ----------------\n    listSkillLogosAdmin: b.query<SkillLogoMerged[], SkillListParams | void>({\n      query: (p) => ({ url: LOGOS, params: toAdminSkillQuery(p) }),\n      transformResponse: (raw: any) => unwrap<SkillLogoMerged[]>(raw),\n      providesTags: (res) =>\n        res\n          ? [\n              { type: 'Skill' as const, id: 'LOGOS' },\n              ...res.map((x) => ({ type: 'Skill' as const, id: `logo:${x.id}` })),\n            ]\n          : [{ type: 'Skill' as const, id: 'LOGOS' }],\n    }),\n\n    createSkillLogoAdmin: b.mutation<SkillLogoMerged, CreateSkillLogoInput>({\n      query: (body) => ({ url: LOGOS, method: 'POST', body }),\n      transformResponse: (raw: any) => unwrap<SkillLogoMerged>(raw),\n      invalidatesTags: () => [{ type: 'Skill' as const, id: 'LOGOS' }],\n    }),\n\n    updateSkillLogoAdmin: b.mutation<SkillLogoMerged, { id: string; patch: PatchSkillLogoInput }>({\n      query: ({ id, patch }) => ({ url: `${LOGOS}/${id}`, method: 'PATCH', body: patch }),\n      transformResponse: (raw: any) => unwrap<SkillLogoMerged>(raw),\n      invalidatesTags: (_res, _e, arg) => [\n        { type: 'Skill' as const, id: 'LOGOS' },\n        { type: 'Skill' as const, id: `logo:${arg.id}` },\n      ],\n    }),\n\n    removeSkillLogoAdmin: b.mutation<{ ok: true } | void, { id: string }>({\n      query: ({ id }) => ({ url: `${LOGOS}/${id}`, method: 'DELETE' }),\n      transformResponse: (raw: any) => unwrap<any>(raw),\n      invalidatesTags: (_res, _e, arg) => [\n        { type: 'Skill' as const, id: 'LOGOS' },\n        { type: 'Skill' as const, id: `logo:${arg.id}` },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListSkillCountersAdminQuery,\n  useCreateSkillCounterAdminMutation,\n  useUpdateSkillCounterAdminMutation,\n  useRemoveSkillCounterAdminMutation,\n\n  useListSkillLogosAdminQuery,\n  useCreateSkillLogoAdminMutation,\n  useUpdateSkillLogoAdminMutation,\n  useRemoveSkillLogoAdminMutation,\n} = skillAdminApi;\n","// ===================================================================\n// FILE: frontend/src/integrations/endpoints/brands.admin.endpoints.ts\n// FINAL — Brand admin endpoints\n// - base: /admin/brands\n// - unwrap tolerant\n// ===================================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  BrandLogoMerged,\n  BrandListParams,\n  CreateBrandLogoInput,\n  PatchBrandLogoInput,\n} from '@/integrations/shared';\nimport { unwrap, toAdminBrandQuery } from '@/integrations/shared';\n\nconst BRANDS = '/admin/brands';\n\nexport type BrandListResult = { items: BrandLogoMerged[]; total: number };\n\nexport const brandsAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    listBrandsAdmin: b.query<BrandListResult, BrandListParams | void>({\n      query: (p) => ({ url: BRANDS, params: toAdminBrandQuery(p) }),\n      transformResponse: (raw: any, meta) => {\n        const items = Array.isArray(raw)\n          ? (raw as BrandLogoMerged[])\n          : unwrap<BrandLogoMerged[]>(raw);\n        const totalHeader = meta?.response?.headers.get('x-total-count');\n        const totalFromHeader = totalHeader ? Number(totalHeader) : Number.NaN;\n        const total = Number.isFinite(totalFromHeader) ? totalFromHeader : items.length;\n        return { items, total };\n      },\n      providesTags: (res) =>\n        res?.items?.length\n          ? [\n              { type: 'Brand' as const, id: 'LIST' },\n              ...res.items.map((x) => ({ type: 'Brand' as const, id: x.id })),\n            ]\n          : [{ type: 'Brand' as const, id: 'LIST' }],\n    }),\n\n    createBrandAdmin: b.mutation<BrandLogoMerged, CreateBrandLogoInput>({\n      query: (body) => ({ url: BRANDS, method: 'POST', body }),\n      transformResponse: (raw: any) => unwrap<BrandLogoMerged>(raw),\n      invalidatesTags: () => [{ type: 'Brand' as const, id: 'LIST' }],\n    }),\n\n    updateBrandAdmin: b.mutation<BrandLogoMerged, { id: string; patch: PatchBrandLogoInput }>({\n      query: ({ id, patch }) => ({ url: `${BRANDS}/${id}`, method: 'PATCH', body: patch }),\n      transformResponse: (raw: any) => unwrap<BrandLogoMerged>(raw),\n      invalidatesTags: (_res, _e, arg) => [\n        { type: 'Brand' as const, id: 'LIST' },\n        { type: 'Brand' as const, id: arg.id },\n      ],\n    }),\n\n    removeBrandAdmin: b.mutation<{ ok: true } | void, { id: string }>({\n      query: ({ id }) => ({ url: `${BRANDS}/${id}`, method: 'DELETE' }),\n      transformResponse: (raw: any) => unwrap<any>(raw),\n      invalidatesTags: (_res, _e, arg) => [\n        { type: 'Brand' as const, id: 'LIST' },\n        { type: 'Brand' as const, id: arg.id },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListBrandsAdminQuery,\n  useCreateBrandAdminMutation,\n  useUpdateBrandAdminMutation,\n  useRemoveBrandAdminMutation,\n} = brandsAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/footer_sections_admin.endpoints.ts\n// Ensotek – Admin Footer Sections RTK endpoints (FIXED)\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  ApiFooterSection,\n  FooterSectionDto,\n  FooterSectionListQueryParams,\n  FooterSectionListResult,\n  FooterSectionCreatePayload,\n  FooterSectionUpdatePayload,\n  GetFooterSectionAdminArg,\n} from '@/integrations/shared';\n\nimport { normalizeFooterSection, stableKey } from '@/integrations/shared';\n\nexport const footerSectionsAdminApi = baseApi.injectEndpoints({\n  endpoints: (build) => ({\n    listFooterSectionsAdmin: build.query<\n      FooterSectionListResult,\n      FooterSectionListQueryParams | void\n    >({\n      query: (params?: FooterSectionListQueryParams) => ({\n        url: '/admin/footer_sections',\n        method: 'GET',\n        params,\n      }),\n      serializeQueryArgs: ({ endpointName, queryArgs }) =>\n        `${endpointName}:${stableKey(queryArgs as any)}`,\n      forceRefetch: ({ currentArg, previousArg }) =>\n        stableKey(currentArg as any) !== stableKey(previousArg as any),\n      transformResponse: (response: ApiFooterSection[], meta): FooterSectionListResult => {\n        const items = (response || []).map(normalizeFooterSection);\n        const header = meta?.response?.headers.get('x-total-count');\n        const total = header != null ? Number(header) || items.length : items.length;\n        return { items, total };\n      },\n      providesTags: (result, _err, arg) => {\n        const loc = (arg as any)?.locale ?? '';\n        return result?.items?.length\n          ? [\n              ...result.items.map((x) => ({ type: 'FooterSections' as const, id: x.id })),\n              { type: 'FooterSections' as const, id: `LIST:${loc}` },\n            ]\n          : [{ type: 'FooterSections' as const, id: `LIST:${loc}` }];\n      },\n    }),\n\n    /**\n     * ✅ FIXED: GET /admin/footer_sections/:id (locale aware)\n     * supports: /admin/footer_sections/:id?locale=tr\n     */\n    getFooterSectionAdmin: build.query<FooterSectionDto, GetFooterSectionAdminArg>({\n      query: ({ id, locale }) => ({\n        url: `/admin/footer_sections/${encodeURIComponent(id)}`,\n        method: 'GET',\n        params: locale ? { locale } : undefined,\n      }),\n      transformResponse: (response: ApiFooterSection) => normalizeFooterSection(response),\n      providesTags: (_r, _e, arg) => [{ type: 'FooterSections', id: String(arg.id) }],\n    }),\n\n    getFooterSectionBySlugAdmin: build.query<FooterSectionDto, string>({\n      query: (slug) => ({\n        url: `/admin/footer_sections/by-slug/${encodeURIComponent(slug)}`,\n        method: 'GET',\n      }),\n      transformResponse: (response: ApiFooterSection) => normalizeFooterSection(response),\n      providesTags: (_r, _e, slug) => [{ type: 'FooterSectionsBySlug', id: slug }],\n    }),\n\n    createFooterSectionAdmin: build.mutation<FooterSectionDto, FooterSectionCreatePayload>({\n      query: (body) => ({\n        url: '/admin/footer_sections',\n        method: 'POST',\n        body,\n      }),\n      transformResponse: (response: ApiFooterSection) => normalizeFooterSection(response),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'FooterSections', id: `LIST:${(arg as any)?.locale ?? ''}` },\n        { type: 'FooterSections', id: 'LIST:' },\n      ],\n    }),\n\n    updateFooterSectionAdmin: build.mutation<\n      FooterSectionDto,\n      { id: string; data: FooterSectionUpdatePayload }\n    >({\n      query: ({ id, data }) => ({\n        url: `/admin/footer_sections/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: data,\n      }),\n      transformResponse: (response: ApiFooterSection) => normalizeFooterSection(response),\n      invalidatesTags: (_r, _e, arg) => {\n        const loc = (arg as any)?.data?.locale ?? '';\n        return [\n          { type: 'FooterSections', id: arg.id },\n          { type: 'FooterSections', id: `LIST:${loc}` },\n          { type: 'FooterSections', id: 'LIST:' },\n        ];\n      },\n    }),\n\n    deleteFooterSectionAdmin: build.mutation<void, string>({\n      query: (id) => ({\n        url: `/admin/footer_sections/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (_r, _e, id) => [\n        { type: 'FooterSections', id },\n        { type: 'FooterSections', id: 'LIST:' },\n      ],\n    }),\n  }),\n  overrideExisting: true,\n});\n\nexport const {\n  useListFooterSectionsAdminQuery,\n\n  // ✅ now object arg\n  useGetFooterSectionAdminQuery,\n  useLazyGetFooterSectionAdminQuery,\n\n  useGetFooterSectionBySlugAdminQuery,\n  useCreateFooterSectionAdminMutation,\n  useUpdateFooterSectionAdminMutation,\n  useDeleteFooterSectionAdminMutation,\n} = footerSectionsAdminApi;\n","// =============================================================\n// FILE: src/integrations/endpoints/admin/resources_admin.endpoints.ts\n// FINAL — Admin Resources RTK endpoints\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  ResourceAdminListItemDto,\n  ResourcesAdminListQueryParams,\n  ResourceRowDto,\n  ResourceCreatePayload,\n  ResourceUpdatePayload,\n} from '@/integrations/shared';\n\nconst BASE = '/admin/resources';\n\nfunction asArray<T>(input: unknown): T[] {\n  if (Array.isArray(input)) return input as T[];\n  const items = (input as any)?.items;\n  if (Array.isArray(items)) return items as T[];\n  return [];\n}\n\nfunction normalizeList(rows: ResourceAdminListItemDto[]): ResourceAdminListItemDto[] {\n  return rows.map((r) => {\n    const title = String((r as any).title ?? '').trim();\n    const id = String((r as any).id ?? '').trim();\n    return {\n      ...r,\n      label: String((r as any).label ?? title ?? id),\n    } as ResourceAdminListItemDto;\n  });\n}\n\nexport const resourcesAdminApi = baseApi.injectEndpoints({\n  endpoints: (b) => ({\n    /** LIST — GET /admin/resources */\n    listResourcesAdmin: b.query<ResourceAdminListItemDto[], ResourcesAdminListQueryParams | void>({\n      query: (params) => ({\n        url: BASE,\n        method: 'GET',\n        params: params ?? undefined,\n      }),\n      transformResponse: (res: unknown) => normalizeList(asArray<ResourceAdminListItemDto>(res)),\n      providesTags: (result) =>\n        result && result.length\n          ? [\n              ...result.map((r) => ({ type: 'Resource' as const, id: r.id })),\n              { type: 'Resources' as const, id: 'LIST' },\n            ]\n          : [{ type: 'Resources' as const, id: 'LIST' }],\n    }),\n\n    /** GET /admin/resources/:id */\n    getResourceAdmin: b.query<ResourceRowDto, string>({\n      query: (id) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'GET',\n      }),\n      providesTags: (_r, _e, id) => [{ type: 'Resource' as const, id }],\n    }),\n\n    /** POST /admin/resources */\n    createResourceAdmin: b.mutation<ResourceRowDto, ResourceCreatePayload>({\n      query: (body) => ({\n        url: BASE,\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: [{ type: 'Resources' as const, id: 'LIST' }],\n    }),\n\n    /** PATCH /admin/resources/:id */\n    updateResourceAdmin: b.mutation<\n      ResourceRowDto,\n      { id: string; patch: ResourceUpdatePayload }\n    >({\n      query: ({ id, patch }) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'PATCH',\n        body: patch,\n      }),\n      invalidatesTags: (_r, _e, arg) => [\n        { type: 'Resource' as const, id: arg.id },\n        { type: 'Resources' as const, id: 'LIST' },\n      ],\n    }),\n\n    /** DELETE /admin/resources/:id */\n    deleteResourceAdmin: b.mutation<{ ok: boolean } | void, string>({\n      query: (id) => ({\n        url: `${BASE}/${encodeURIComponent(id)}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (_r, _e, id) => [\n        { type: 'Resource' as const, id },\n        { type: 'Resources' as const, id: 'LIST' },\n      ],\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useListResourcesAdminQuery,\n  useGetResourceAdminQuery,\n  useCreateResourceAdminMutation,\n  useUpdateResourceAdminMutation,\n  useDeleteResourceAdminMutation,\n} = resourcesAdminApi;\n","// =============================================================\n// FILE: src/integrations/rtk/endpoints/admin/availability_admin.endpoints.ts\n// =============================================================\n\nimport { baseApi } from '@/integrations/baseApi';\nimport type {\n  AdminGenerateSlotsPayload,\n  AdminGenerateSlotsResult,\n  AdminListSlotsQuery,\n  AdminListWorkingHoursQuery,\n  AdminOverrideDayPayload,\n  AdminOverrideDayResult,\n  AdminOverrideSlotPayload,\n  AdminOverrideSlotResult,\n  AdminPlanQuery,\n  AdminSlotAvailabilityQuery,\n  AdminUpsertWorkingHourPayload,\n  PlannedSlotDto,\n  ResourceSlotDto,\n  ResourceWorkingHourDto,\n  SlotAvailabilityDto,\n} from '@/integrations/shared';\n\nconst WH_BASE = '/admin/resource-working-hours';\nconst SLOTS_BASE = '/admin/resource-slots';\n\nexport const availabilityAdminApi = baseApi.injectEndpoints({\n  endpoints: (build) => ({\n    /* -------------------- working hours -------------------- */\n\n    /** LIST — GET /admin/resource-working-hours?resource_id=... */\n    listWorkingHoursAdmin: build.query<ResourceWorkingHourDto[], AdminListWorkingHoursQuery>({\n      query: (params) => ({\n        url: `${WH_BASE}`,\n        method: 'GET',\n        params,\n      }),\n      providesTags: (result, error, arg) =>\n        result\n          ? [\n              ...result.map((r) => ({ type: 'AvailabilityWH' as const, id: r.id })),\n              { type: 'AvailabilityWH' as const, id: `LIST:${arg.resource_id}` },\n            ]\n          : [{ type: 'AvailabilityWH' as const, id: `LIST:${arg.resource_id}` }],\n    }),\n\n    /**\n     * UPSERT — POST /admin/resource-working-hours\n     * - if payload.id exists => upsert by id (controller uses onDuplicate)\n     * - else => insert new\n     */\n    upsertWorkingHourAdmin: build.mutation<\n      ResourceWorkingHourDto | null,\n      AdminUpsertWorkingHourPayload\n    >({\n      query: (body) => ({\n        url: `${WH_BASE}`,\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: (result, error, arg) => [\n        { type: 'AvailabilityWH' as const, id: arg.id ?? 'NEW' },\n        { type: 'AvailabilityWH' as const, id: `LIST:${arg.resource_id}` },\n        { type: 'AvailabilityPlan' as const, id: 'PLAN' }, // plan depends on WH\n      ],\n    }),\n\n    /** DELETE — DELETE /admin/resource-working-hours/:id */\n    deleteWorkingHourAdmin: build.mutation<\n      { ok: boolean } | void,\n      { id: string; resource_id?: string }\n    >({\n      query: ({ id }) => ({\n        url: `${WH_BASE}/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (result, error, arg) => [\n        { type: 'AvailabilityWH' as const, id: arg.id },\n        ...(arg.resource_id\n          ? [{ type: 'AvailabilityWH' as const, id: `LIST:${arg.resource_id}` }]\n          : []),\n        { type: 'AvailabilityPlan' as const, id: 'PLAN' },\n      ],\n    }),\n\n    /* -------------------- plan / generate -------------------- */\n\n    /** PLAN — GET /admin/resource-slots/plan?resource_id=...&date=... */\n    getDailyPlanAdmin: build.query<PlannedSlotDto[], AdminPlanQuery>({\n      query: (params) => ({\n        url: `${SLOTS_BASE}/plan`,\n        method: 'GET',\n        params,\n      }),\n      providesTags: (result, error, arg) => [\n        { type: 'AvailabilityPlan' as const, id: `PLAN:${arg.resource_id}:${arg.date}` },\n      ],\n    }),\n\n    /** GENERATE — POST /admin/resource-slots/generate */\n    generateSlotsAdmin: build.mutation<AdminGenerateSlotsResult, AdminGenerateSlotsPayload>({\n      query: (body) => ({\n        url: `${SLOTS_BASE}/generate`,\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: (result, error, arg) => [\n        { type: 'AvailabilitySlots' as const, id: `SLOTS:${arg.resource_id}:${arg.date}` },\n        { type: 'AvailabilityPlan' as const, id: `PLAN:${arg.resource_id}:${arg.date}` },\n      ],\n    }),\n\n    /* -------------------- slots list / availability -------------------- */\n\n    /** SLOTS — GET /admin/resource-slots?resource_id=...&date=... */\n    listSlotsAdmin: build.query<ResourceSlotDto[], AdminListSlotsQuery>({\n      query: (params) => ({\n        url: `${SLOTS_BASE}`,\n        method: 'GET',\n        params,\n      }),\n      providesTags: (result, error, arg) =>\n        result\n          ? [\n              ...result.map((s) => ({ type: 'AvailabilitySlots' as const, id: s.id })),\n              { type: 'AvailabilitySlots' as const, id: `SLOTS:${arg.resource_id}:${arg.date}` },\n            ]\n          : [{ type: 'AvailabilitySlots' as const, id: `SLOTS:${arg.resource_id}:${arg.date}` }],\n    }),\n\n    /** AVAILABILITY — GET /admin/resource-slots/availability?resource_id=...&date=...&time=... */\n    getSlotAvailabilityAdmin: build.query<SlotAvailabilityDto, AdminSlotAvailabilityQuery>({\n      query: (params) => ({\n        url: `${SLOTS_BASE}/availability`,\n        method: 'GET',\n        params,\n      }),\n      providesTags: (result, error, arg) => [\n        {\n          type: 'AvailabilityCheck' as const,\n          id: `CHK:${arg.resource_id}:${arg.date}:${arg.time}`,\n        },\n      ],\n    }),\n\n    /* -------------------- overrides -------------------- */\n\n    /** OVERRIDE DAY — POST /admin/resource-slots/override-day */\n    overrideDayAdmin: build.mutation<AdminOverrideDayResult, AdminOverrideDayPayload>({\n      query: (body) => ({\n        url: `${SLOTS_BASE}/override-day`,\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: (result, error, arg) => [\n        { type: 'AvailabilitySlots' as const, id: `SLOTS:${arg.resource_id}:${arg.date}` },\n        { type: 'AvailabilityPlan' as const, id: `PLAN:${arg.resource_id}:${arg.date}` },\n      ],\n    }),\n\n    /** OVERRIDE SLOT — POST /admin/resource-slots/override */\n    overrideSlotAdmin: build.mutation<AdminOverrideSlotResult, AdminOverrideSlotPayload>({\n      query: (body) => ({\n        url: `${SLOTS_BASE}/override`,\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: (result, error, arg) => [\n        { type: 'AvailabilitySlots' as const, id: `SLOTS:${arg.resource_id}:${arg.date}` },\n        { type: 'AvailabilityPlan' as const, id: `PLAN:${arg.resource_id}:${arg.date}` },\n        {\n          type: 'AvailabilityCheck' as const,\n          id: `CHK:${arg.resource_id}:${arg.date}:${arg.time}`,\n        },\n      ],\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useListWorkingHoursAdminQuery,\n  useUpsertWorkingHourAdminMutation,\n  useDeleteWorkingHourAdminMutation,\n\n  useGetDailyPlanAdminQuery,\n  useGenerateSlotsAdminMutation,\n\n  useListSlotsAdminQuery,\n  useGetSlotAvailabilityAdminQuery,\n\n  useOverrideDayAdminMutation,\n  useOverrideSlotAdminMutation,\n} = availabilityAdminApi;\n"],"names":[],"mappings":"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"}
module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(76306),d=a.i(187),e=a.i(68114);let f=(0,d.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},63658,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(70121),f=a.i(50104),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:l,defaultChecked:m,required:o,disabled:p,value:q="on",onCheckedChange:r,form:u,...v}=a,[w,x]=c.useState(null),y=(0,e.useComposedRefs)(f,a=>x(a)),z=c.useRef(!1),A=!w||u||!!w.closest("form"),[B,C]=(0,g.useControllableState)({prop:l,defaultProp:m??!1,onChange:r,caller:k});return(0,b.jsxs)(n,{scope:h,checked:B,disabled:p,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":B,"aria-required":o,"data-state":t(B),"data-disabled":p?"":void 0,disabled:p,value:q,...v,ref:y,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{C(a=>!a),A&&(z.current=a.isPropagationStopped(),z.current||a.stopPropagation())})}),A&&(0,b.jsx)(s,{control:w,bubbles:!z.current,name:i,value:q,checked:B,required:o,disabled:p,form:u,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=c.forwardRef(({__scopeSwitch:a,control:d,checked:f,bubbles:g=!0,...j},k)=>{let l=c.useRef(null),m=(0,e.useComposedRefs)(l,k),n=(0,h.usePrevious)(f),o=(0,i.useSize)(d);return c.useEffect(()=>{let a=l.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==f&&b){let c=new Event("click",{bubbles:g});b.call(a,f),a.dispatchEvent(c)}},[n,f,g]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:f,...j,tabIndex:-1,ref:m,style:{...j.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function t(a){return a?"checked":"unchecked"}s.displayName="SwitchBubbleInput",a.s(["Root",()=>p,"Switch",()=>p,"SwitchThumb",()=>r,"Thumb",()=>r,"createSwitchScope",()=>m],19025);var u=a.i(19025),u=u,v=a.i(68114);function w({className:a,...c}){return(0,b.jsx)(u.Root,{"data-slot":"switch",className:(0,v.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(u.Thumb,{"data-slot":"switch-thumb",className:(0,v.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}a.s(["Switch",()=>w],63658)},28551,a=>{"use strict";var b=a.i(72131);a.i(58501);var c=a.i(88963);let d=a=>String(a||"").trim().toLowerCase().replace("_","-").split("-")[0].trim();function e(){let{data:a,isLoading:e,isFetching:f}=(0,c.useListSiteSettingsAdminQuery)({keys:["app_locales","default_locale"]});return{...(0,b.useMemo)(()=>{let b=a??[],c=b.find(a=>"app_locales"===a.key),e=b.find(a=>"default_locale"===a.key),f=function(a){let b=new Set,c=[];for(let e of a){let a=d(e?.code);a&&(b.has(a)||(b.add(a),c.push({...e,code:a})))}return c}((function a(b){if(!b)return[];if(Array.isArray(b))return b.map(a=>({code:d(a?.code??a),label:"string"==typeof a?.label?a.label:void 0,is_active:a?.is_active,is_default:a?.is_default})).filter(a=>!!a.code);if("string"==typeof b){let c=b.trim();if(!c)return[];try{let b=JSON.parse(c);return a(b)}catch{return[]}}return"object"==typeof b&&null!==b&&Array.isArray(b.locales)?a(b.locales):[]})(c?.value).filter(a=>a&&a.code&&!1!==a.is_active)),g=f.map(a=>d(a.code)).filter(Boolean),h=d(e?.value);if(!h){let a=f.find(a=>!0===a.is_default);h=a?d(a.code):""}h&&!g.includes(h)&&(h=g[0]??"");let i=f.map(a=>({value:d(a.code),label:function(a){let b=d(a.code),c=String(a.label||"").trim();if(c)return`${c} (${b})`;let e=null;try{e=new Intl.DisplayNames(["de"],{type:"language"})}catch{e=null}let f=e?.of(b)??"";return f?`${f} (${b})`:`${b.toUpperCase()} (${b})`}(a)})),j=new Set(g);return{localeOptions:i,defaultLocaleFromDb:h,activeLocaleCodes:g,hasLocale:a=>{let b=d(a);return!!b&&j.has(b)},coerceLocale:(a,b)=>{let c=d(a);if(c&&j.has(c))return c;let e=d(b);return e&&j.has(e)?e:h&&j.has(h)?h:g[0]??""}}},[a]),loading:e,fetching:f}}a.s(["useAdminLocales",()=>e])},96221,a=>{"use strict";var b=a.i(4650);a.s(["Loader2",()=>b.default])},42737,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,a.i(70106).default)("languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);var e=a.i(96221),f=a.i(70430),g=a.i(86304),h=a.i(80701);let i=a=>String(a??"").trim();a.s(["AdminLocaleSelect",0,({value:a,onChange:j,options:k,loading:l=!1,disabled:m=!1,label:n="Dil",allowEmpty:o=!0,emptySentinel:p="__all__"})=>{let q=Array.isArray(k)&&k.length>0,r=c.default.useCallback(a=>{let b=i(a);return o&&""===b?p:b},[o,p]),s=c.default.useCallback(a=>{let b=i(a);return o&&b===p?"":b},[o,p]),t=r(i(a)),u=c.default.useMemo(()=>(Array.isArray(k)?k:[]).map(a=>({value:r(i(a.value).toLowerCase()),raw:i(a.value).toLowerCase(),label:a.label?i(a.label):i(a.value).toLowerCase().toUpperCase()})).filter(a=>!!a.value),[k,r]);return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)(f.Label,{className:"text-sm",children:n}),l?(0,b.jsxs)(g.Badge,{variant:"secondary",className:"gap-1",children:[(0,b.jsx)(e.Loader2,{className:"size-3.5 animate-spin"}),"Yükleniyor"]}):(0,b.jsxs)(g.Badge,{variant:"secondary",className:"gap-1",children:[(0,b.jsx)(d,{className:"size-3.5"}),"Locale"]})]}),(0,b.jsxs)(h.Select,{value:t,onValueChange:a=>j(s(a)),disabled:m||l||!q,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Locale seç"})}),(0,b.jsx)(h.SelectContent,{children:u.map(a=>(0,b.jsx)(h.SelectItem,{value:a.value,children:a.label},`${a.value}:${a.label}`))})]}),q||l?null:(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Locale seçenekleri bulunamadı."})]})}],42737)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},1229,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,a.i(70106).default)("braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);var e=a.i(68114),f=a.i(70430),g=a.i(29246),h=a.i(86304);let i=a=>{try{return JSON.stringify(a??{},null,2)}catch{return""}};a.s(["AdminJsonEditor",0,({label:a,value:j,onChange:k,onErrorChange:l,disabled:m,helperText:n,height:o=260})=>{let[p,q]=(0,c.useState)(()=>i(j)),[r,s]=(0,c.useState)(null);return(0,c.useEffect)(()=>{q(i(j))},[j]),(0,b.jsxs)("div",{className:"space-y-2",children:[a?(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)(f.Label,{className:"text-sm",children:a}),(0,b.jsxs)(h.Badge,{variant:"secondary",className:"gap-1",children:[(0,b.jsx)(d,{className:"size-3.5"}),"JSON editor"]})]}):null,(0,b.jsx)(g.Textarea,{value:p,onChange:a=>q(a.target.value),onBlur:()=>{if(!p.trim()){k({}),s(null),l?.(null);return}try{let a=JSON.parse(p);k(a),s(null),l?.(null)}catch(b){let a=b?.message?String(b.message):"Geçersiz JSON";s(a),l?.(a)}},disabled:m,spellCheck:!1,className:(0,e.cn)("font-mono text-xs leading-5",r&&"border-destructive focus-visible:ring-destructive"),style:{minHeight:o,whiteSpace:"pre",fontFamily:"SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"}}),n&&!r?(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:n}):null,r?(0,b.jsxs)("div",{className:"text-xs text-destructive",children:["JSON hatası: ",(0,b.jsx)("span",{className:"font-medium",children:r})]}):null]})}],1229)},33604,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(23292),f=a.i(99570),g=a.i(66718),h=a.i(70430),i=a.i(29246),j=a.i(63658),k=a.i(91119),l=a.i(80701),m=a.i(1229),n=a.i(42737),o=a.i(28551),p=a.i(1664);a.i(34658);var q=a.i(42969);a.i(58501);var r=a.i(71288);let s={type:"experience",is_active:!0,display_order:0,start_date:"",end_date:"",is_current:!1,location:"",organization:"",score_value:"",score_scale:100,locale:"",title:"",subtitle:"",description:"",highlights:[],slug:""};function t({id:a}){let t=(0,d.useRouter)(),{copy:u}=(0,p.useAdminUiCopy)(),v=u.pages?.resume_detail??{},w=u.common,{localeOptions:x,defaultLocaleFromDb:y,loading:z}=(0,o.useAdminLocales)(),A="new"===String(a),B=!A&&(0,q.isUuidLike)(a),C=(0,r.useGetResumeAdminQuery)({id:a,locale:void 0},{skip:!B,refetchOnMountOrArgChange:!0}),[D,E]=(0,r.useCreateResumeAdminMutation)(),[F,G]=(0,r.useUpdateResumeAdminMutation)(),[H,I]=c.useState(s);async function J(){if(!H.title.trim()||!H.slug.trim())return void e.toast.error(v?.required_error||"");let a={type:H.type,is_active:!!H.is_active,display_order:Number(H.display_order??0),start_date:H.start_date,end_date:H.end_date||void 0,is_current:!!H.is_current,location:H.location?.trim()||void 0,organization:H.organization?.trim()||void 0,score_value:H.score_value??void 0,score_scale:Number(H.score_scale??100),locale:H.locale||void 0,title:H.title.trim(),subtitle:H.subtitle?.trim()||"",description:H.description?.trim()||"",highlights:Array.isArray(H.highlights)?H.highlights:[],slug:H.slug.trim()};try{if(A){let b=await D(a).unwrap();if(b?.id){e.toast.success(w?.actions?.save||""),t.replace(`/admin/resume/${encodeURIComponent(b.id)}`);return}}else H.id&&(await F({id:H.id,body:a}).unwrap(),e.toast.success(w?.actions?.save||""))}catch(a){e.toast.error(a?.data?.error?.message||a?.message||w?.states?.error||"")}}return c.useEffect(()=>{if(C.data){let a=C.data;I({id:a.id,type:a.type,is_active:a.is_active,display_order:a.display_order,start_date:a.start_date??"",end_date:a.end_date??"",is_current:a.is_current,location:a.location??"",organization:a.organization??"",score_value:a.score_value??"",score_scale:a.score_scale??100,locale:a.locale??"",title:a.title??"",subtitle:a.subtitle??"",description:a.description??"",highlights:a.highlights??[],slug:a.slug??""})}A&&I({...s,locale:y||""})},[C.data,A,y]),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h1",{className:"text-lg font-semibold",children:A?v?.create_title:v?.edit_title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:v?.subtitle})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>t.push("/admin/resume"),children:w?.actions?.back}),(0,b.jsx)(f.Button,{onClick:J,disabled:E.isLoading||G.isLoading,children:w?.actions?.save})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 xl:grid-cols-3",children:[(0,b.jsxs)(k.Card,{className:"xl:col-span-2",children:[(0,b.jsxs)(k.CardHeader,{className:"gap-2",children:[(0,b.jsx)(k.CardTitle,{className:"text-base",children:v?.form_title}),(0,b.jsx)(k.CardDescription,{children:v?.form_desc})]}),(0,b.jsxs)(k.CardContent,{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsx)(n.AdminLocaleSelect,{value:H.locale||"",onChange:a=>I(b=>({...b,locale:a})),options:x,loading:z,label:v?.locale_label}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.type_label}),(0,b.jsxs)(l.Select,{value:H.type,onValueChange:a=>I(b=>({...b,type:a})),children:[(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"education",children:v?.type_education}),(0,b.jsx)(l.SelectItem,{value:"experience",children:v?.type_experience})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.title_label}),(0,b.jsx)(g.Input,{value:H.title,onChange:a=>I(b=>({...b,title:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.subtitle_label}),(0,b.jsx)(g.Input,{value:H.subtitle??"",onChange:a=>I(b=>({...b,subtitle:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.slug_label}),(0,b.jsx)(g.Input,{value:H.slug,onChange:a=>I(b=>({...b,slug:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,b.jsx)(h.Label,{children:v?.description_label}),(0,b.jsx)(i.Textarea,{value:H.description??"",onChange:a=>I(b=>({...b,description:a.target.value})),rows:4})]})]})]}),(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{className:"gap-2",children:[(0,b.jsx)(k.CardTitle,{className:"text-base",children:v?.meta_title}),(0,b.jsx)(k.CardDescription,{children:v?.meta_desc})]}),(0,b.jsxs)(k.CardContent,{className:"grid gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Switch,{checked:!!H.is_active,onCheckedChange:a=>I(b=>({...b,is_active:a}))}),(0,b.jsx)(h.Label,{children:v?.active_label})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.order_label}),(0,b.jsx)(g.Input,{type:"number",value:H.display_order??0,onChange:a=>I(b=>({...b,display_order:Number(a.target.value)}))})]}),(0,b.jsxs)("div",{className:"grid gap-2 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.start_date_label}),(0,b.jsx)(g.Input,{type:"date",value:H.start_date??"",onChange:a=>I(b=>({...b,start_date:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.end_date_label}),(0,b.jsx)(g.Input,{type:"date",value:H.end_date??"",onChange:a=>I(b=>({...b,end_date:a.target.value}))})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Switch,{checked:!!H.is_current,onCheckedChange:a=>I(b=>({...b,is_current:a}))}),(0,b.jsx)(h.Label,{children:v?.current_label})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.location_label}),(0,b.jsx)(g.Input,{value:H.location??"",onChange:a=>I(b=>({...b,location:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.organization_label}),(0,b.jsx)(g.Input,{value:H.organization??"",onChange:a=>I(b=>({...b,organization:a.target.value}))})]}),(0,b.jsxs)("div",{className:"grid gap-2 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.score_value_label}),(0,b.jsx)(g.Input,{value:H.score_value??"",onChange:a=>I(b=>({...b,score_value:a.target.value}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:v?.score_scale_label}),(0,b.jsx)(g.Input,{type:"number",value:H.score_scale??100,onChange:a=>I(b=>({...b,score_scale:Number(a.target.value)}))})]})]}),(0,b.jsx)(m.AdminJsonEditor,{label:v?.highlights_label,value:H.highlights??[],onChange:a=>I(b=>({...b,highlights:Array.isArray(a)?a:[]})),helperText:v?.highlights_help,height:220})]})]})]})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=_d398a91e._.js.map